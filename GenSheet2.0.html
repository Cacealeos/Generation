<input type="hidden" name="attr_Energy_type" id="mentaltheme">
<input type="hidden" name="attr_Energy_type" id="bodytheme">
<input type="hidden" name="attr_Energy_type" id="spirittheme">
<input type="hidden" name="attr_Energy_type" id="memorytheme">
<input type="hidden" name="attr_Energy_type" id="necrotheme">
<input type="hidden" name="attr_Energy_type" id="demontheme">

<div class="flash"> </div>

<div class="infoTabBar">
        <div class="infoTab CharInfo">
            <div>How to: Character</div>
        </div>
        <div class="infoTab TurnInfo">
            <div>How to: Turn</div>
        </div>
        <div class="infoTab CombatInfo">
            <div>How to: Combat</div>
        </div>
        <div class="infoTab EquipmentInfo">
            <div>How to: Equipment</div>
        </div>
        <button type=action name='act_logs' class="NotesInfo">
            Logs
        </button>
        <input type='hidden' name='attr_logtoggle' value='false' />
        
        <div class="infoTabDis CharInfoDis">
            <label>When first creating a character make certain each of the following steps/option have been taken/selected</label>
            <ul>
              <li style='color: silver;'>Race & Character</li>
              <ul>
                <li>
                  A race comes with a set of base catalysts and stats. 
                  This also includes things like <b style='color: cyan;'>Life force</b> or <b style='color: cyan;'>Age</b> as seen in the <b style='color: aquamarine;'>CHARACTER</b> tab. Click the Tabs to rotate the menus.
                </li>
                <li>Race is set to <b style='color: deeppink;'>CIAHA</b> by Default but can be changed at any time. This however, will reset all stats.</li>
                <li>
                  The <b style='color: aquamarine;'>CHARACTER</b> tab comes with many other stat that are meant to be adjusted <b style='color: deeppink;'>MANUALLY</b> to reflect Training.
                </li>
              </ul>
              <li style='color: silver;'>SubRace</li>
              <ul>
                <li>
                  Each race comes with subraces unique to that race.
                  Races cannot interbreed or share subraces.
                  This is done by <b style='color: deeppink;'>MANUALLY</b> typing in the name of the predesigned or custom subrace(s) in the <b style='color: aquamarine;'>CHARACTER</b> tab.
                  Lastly, <b style='color: deeppink;'>MANUALLY</b> add the bonuses to stats, catalysts in <b style='color: aquamarine;'>CHARACTER</b> tab, and Training in the <b style='color: aquamarine;'>TRAIN</b> tab.
                </li>
              </ul>
              <li style='color: silver;'>Core Stats</li>
              <ul>
                <li>
                  Most campaigns will all have <b style='color: deeppink;'>"SIGN ON"</b> bonuses that will give further insight as to how to build your character.
                </li>
                <li>
                  Generally though, you will be required to add an additional minimum of <b style='color: deeppink;'>15 points</b> split between your core stats:  
                  <b style='color: cyan;'>Constitution, Discipline, Resistance, and Intelligence.</b>
                </li>
              </ul>
              <li style='color: silver;'>Level Up</li>
              <ul>
                <li>
                  Add levels by pressing the level up buttons.
                  located in <b style='color: aquamarine;'>CHARACTER</b> tab. 
                  This increases <b style='color: cyan;'>catalysts, life-force, manna, and skill/spell points</b> for the purchase of spells and techniques.
                </li>
              </ul>
              <li style='color: silver;'>Add Training & Titles</li>
              <ul>
                <li>
                  In the <b style='color: aquamarine;'>TRAINING</b> tab, <b style='color: deeppink;'>MANUALLY</b> add entries for training.
                  Training can further increase stats and catalysts. 
                  Mind the section in the <b style='color: aquamarine;'>HEALTH</b> tab where bonuses from some training are available.
                </li>
              </ul>
              <li style='color: silver;'>Purchase Spells & Tech</li>
              <ul>
                <li>
                  In the <b style='color: aquamarine;'>SPELLS</b> tab, <b style='color: deeppink;'>MANUALLY</b> add entries for spells at the cost of <b style='color: cyan;'>SPELL POINTS</b>.
                  In <b style='color: aquamarine;'>M.TECH</b> and <b style='color: aquamarine;'>E.TECH</b> respectively, add entries for melee and energy techniques at the cost of <b style='color: cyan;'>SKILL POINTS</b>.
                </li>
              </ul>
            </ul>
        </div>
        <div class="infoTabDis TurnInfoDis">
            <label>When beginning your turn, use your <b style='color: aquamarine;'>BATTLE</b> tab.</label>
            <ul>
                <li style='color: silver;'>END TURN</li>
                    <ul>
                        <li>If continuing from a previous turn, click the <b style='color: orange;'>END TURN</b> button in the battle pane. <b style='color: deeppink;'>See- "How to: Combat"</b> </li>
                        <li>This will deduct your <b style='color: cyan;'>TTT</b> from your <b style='color: cyan;'>MANNA</b> and refresh all your actions. </li>
                    </ul>
                <li style='color: silver;'>Energy/Catalyst</li>
                  <ul>
                    <li>
                      You should first select what <b style='color: cyan;'>catalyst (Energy type)</b> you wish to channel from the display of circling icons at the top.
                    </li>
                    <li>The stats display will update with your current maximum for the given catalyst.</li>
                  </ul>
                <li style='color: silver;'>Turns/Stats</li>
                    <ul>
                        <li>If you have not already, press the <b style='color: orange;'>ENTER COMBAT</b> button or <b style='color: orange;'>EXIT COMBAT</b> to end fighting. 
                        You can also press this to deselect any Catalyst.</li>
                        <li><b style='color: cyan;'>Catalysts</b> scale with how long the fighting has continued and your current strength with that catalyst.</li>
                        <li><b style='color: cyan;'>Catalysts</b> have strengths and weakness in stat distribution.</li>
                        <li>Stats increase by one each turn until max is reached. This progress to max stats can be doubled under <b style='color: orange;'>FULL</b> power status.</li>
                        <li><b style='color: orange;'>FULL</b> power increases max stats by 25% and doubles <b style='color: cyan;'>TTT</b> cost each turn. Cannot be switched off until next turn.</li>
                        <li><b style='color: orange;'>SURPRESSED</b> power keeps stats at 1 and reduces <b style='color: cyan;'>TTT</b>. This is done to remain harder to detect.</li>
                    </ul>
                <li style='color: silver;'>Styles/Equipment</li>
                  <ul>
                    <li>
                      If you need to, change fighting styles and equipment by using interact <b style='color: orange;'>ACTIONS</b>. <b style='color: deeppink;'>See- "How to: Combat"</b>
                    </li>
                  </ul>
                <li style='color: silver;'>Fight/Retreat</li>
                    <ul>
                        <li>
                          You may attempt to retreat at the start of your turn before you make anything other than <b style='color: cyan;'>Interact Actions.</b>
                        </li>
                        <li>
                          Be aware, if the target outspeeds you or has the ability to block you retreat by way of <b style='color: cyan;'>"Entrapment"</b> your retreat may fail and your turn will be wasted.
                        </li>
                        <li>
                          Lastly, utilize your available actions and then either end your turn or conduct a <b style='color: crimson;'>MELEE</b> action which will automatically end your turn.
                        </li>
                    </ul>
                <li style='color: silver;'>Vitalize</li>
                    <ul>
                        <li>Once combat has subsided and the party has decided to rest, 
                        open the battle pane and press the <b style='color: orange;'>VITALIZE</b> button to restore all <b style='color: cyan;'>manna, life-force and durability</b> of weapons.</li>
                        <li><b style='color: orange;'>VITALIZE</b> does not restore <b style='color: cyan;'>Spirit, Soul,</b> or remove <b style='color: cyan;'>Curses.</b></li>
                    </ul>
            </ul>
            
        </div>
        <div class="infoTabDis CombatInfoDis">
            <label>If you have elected to conduct combat use your <b style='color: aquamarine;'>BATTLE</b> tab.</label>
                <ul>
                    <li style='color: silver;'>Actions</li>
                        <ul>
                            <li>
                                With the battle pane open, you can now see your <b style='color: cyan;'>MANNA</b> reserves, Turn-to-Turn (<b style='color: cyan;'>TTT</b>) costs, <b style='color: cyan;'>Life-Force,</b> and <b style='color: orange;'>TURN COUNT</b>.
                            </li>
                            <li>
                                By default, you start with <b style='color: deeppink;'>TWO</b> Actions of Each type: <b style='color: crimson;'>DEFENSIVE, INTERACT, and NORMAL</b> as well as <b style='color: deeppink;'>ONE</b> <b style='color: cyan;'>melee action</b>.
                            </li>
                        </ul>
                    <li style='color: silver;'>Interact Actions(2)</li>
                        <ul>
                            <li><b style='color: deeppink;'>N O T.  R E S T R I C T E D. </b> ...while attempting a retreat.</li>
                            <li><b style='color: deeppink;'>Gather -  the most important interact action.</b> It is used to gather manna spent during combat. Affects <b style='color: cyan;'>SATURATION</b>.</li>
                            <li>Gather is performed by pressing the <b style='color: orange;'>GATHER</b> button in the battle pane.</li>
                            <li>Covers all other misc action.
                            Switch weapons, armor, speaking verbally or telepathically.
                            Picking up an item. 
                            Opening a door.
                            etc.</li>
                        </ul>
                    <li style='color: silver;'>Normal Actions(2)</li>
                        <ul>
                            <li>A <b style='color: cyan;'>Spell</b> or an <b style='color: cyan;'>Energy Technique</b>. Navigate to <b style='color: aquamarine;'>SPELLS</b> tab and <b style='color: aquamarine;'>E.TECH</b> tab respectively to execute their effects.</li>
                            <li>Most of these will cost <b style='color: cyan;'>manna</b> and will represent most of your turn's weight in battle.</li>
                        </ul>
                    <li style='color: silver;'>Defensive Actions(2)</li>
                        <ul>
                            <li>Useable only on other combantants turns. They serve to add survivability to the user and in the form of techniques or counter spells.</li>
                            <li>There are three sources of defensive techs: <b style='color: crimson;'>ARMOR, ENERGY, and MELEE</b>.</li>
                            <li><b style='color: cyan;'>Armor</b> provides unique effects and often provide temporary boosts to stave of danger. The techs come from modules slotted into armor.</li>
                            <li><b style='color: cyan;'>Energy techs</b> come from the user and will be most universally useful. They cost <b style='color: cyan;'>manna</b>.</li>
                            <li><b style='color: cyan;'>Melee techs</b> come in the form of <b style='color: crimson;'>COUNTERS, PARRIES, or GUARDING</b>.</li>
                            <li><b style='color: cyan;'>Counters</b> allow for retaliation where <b style='color: cyan;'>parries</b> block damage entirely and are free of Guard Guage. (<b style='color: crimson;'>GG</b>)</li>
                            <li><b style='color: cyan;'>Guarding</b> consumes <b style='color: crimson;'>GG</b> and negates damage entirely and does <b style='color: deeppink;'>N O T</b> consume a defensive action when used and may used multiple times a turn.</li>
                            <li>If a combantant runs out of <b style='color: crimson;'>GG</b>, they will become guard broken. Under this status all remaining <b style='color: cyan;'>defensive actions</b> are depleted.</li>
                            <li>The same tech <b style='color: deeppink;'>C A N N O T </b> be used more than once a turn unless stated otherwise.</li>
                        </ul>
                    <li style='color: silver;'>Melee Action (1)</li>
                        <ul>
                            <li>Using a <b style='color: orange;'>MELEE</b> completes a turn and only defensive actions can still be used afterwards.</li>
                            <li>There are four types of <b style='color: orange;'>MELEE</b> action: <b style='color: crimson;'>NORMAL, COMBO, and SPECIAL</b>.</li>
                            <li>To use a <b style='color: cyan;'>Normal</b>, select the attack button on the <b style='color: orange;'>MELEE</b> section of the <b style='color: aquamarine;'>BATTLE</b> tab.</li>
                            <li>To use a <b style='color: cyan;'>Combo</b>, navigate to the <b style='color: aquamarine;'>M.TECH</b> tab and construct a combo with your available melee techniques by pressing <b style='color: orange;'>INITIATE COMBO!</b>.</li>
                            <li>To use a <b style='color: cyan;'>Special</b>, declare a <b style='color: crimson;'>DISARM, SUBMISSION, or FEINT</b>.</li>
                        </ul>
                    <li style='color: silver;'>Defensive Play</li>
                        <ul>
                            <li>A combatant may also choose instead to not conduct a <b style='color: orange;'>MELEE</b> action and play defensively where their <b style='color: crimson;'>GG</b> will <b style='color: deeppink;'>recover at twice the rate</b> and will activate special related effects.</li>
                        </ul>
                </ul>
        </div>
        <div class="infoTabDis EquipmentInfoDis">
            <label>To add armor and weapons, select your <b style='color: aquamarine;'>EQUIPMENT</b> tab. To add Styles, select your <b style='color: aquamarine;'>STYLES</b> tab.</label>
                <ul>
                    <li style='color: silver;'>Weapons</li>
                        <ul>
                            <li>Weapons have many properties that must all be filled before they can be equiped. Click the <b style='color: orange;'>ADD</b> button to create new entry.</li>
                            <li><b style='color: cyan;'>Req</b> specifically refers to whether the weapon is melee or fire-arm. Tech weapons will use <b style='color: cyan;'>Tech</b> skill, MagiTech devices use <b style='color: cyan;'>M.Tech</b>.</li>
                            <li><b style='color: deeppink;'>Weapons can be equipped to either main or offhand or as a secondary ranged weapon. These are mutually exclusive</b>.</li>
                            <li>Dual wield styles will always use the higher base damage of the two weapons for damage calculation.</li>
                            <li>You must meet requirements to equip weapons.</li>
                        </ul>
                    <li style='color: silver;'>Armor</li>
                        <ul>
                            <li>Armor have many properties that must be filled before they can be equipped. Click the <b style='color: orange;'>EQUIP</b> button once you are finished. 
                            Any changes you make after equipping will <b style='color: deeppink;'>AUTOMATICALLY</b>  unequip the armor.</li>
                            <li>Armor can be slotted with <b style='color: orange;'>MODULES</b>. Modules offer unique defensive actions at the cost of armor dur.</li>
                            <li>Modules come in four types and have some modules locked behind those types.</li>
                            <li>Additional modules come with additional <b style='color: cyan;'>TTT</b> cost every turn.</li>
                        </ul>
                    <li style='color: silver;'>Styles</li>
                        <ul>
                            <li>Styles have many properties that must be filled before they can be equipped.</li>
                            <li>Weapon Styles  <b style='color: deeppink;'>CANNOT</b> be equipped without first creating a weapon that is viable.</li>
                            <li>You must meet requirements to equip Styles.</li>
                        </ul>
                </ul>
        </div>
        <div class="infoTabDis NotesInfoDis">
            <label>Toggle(click) the "Logs" tab to add entries</label>
            <em>************************************************************************
            ****************************************************************************</em>
            <textarea class="logarea" name="attr_logs" wrap=off></textarea>
        </div>
    </div>

<div class='App'>
    
    <button type=action name='act_graphics' class="graphicsbtn semi">G</button>
    <input type=hidden name='attr_graphics' value=1 >
    
    <div class='graphics'>
        <div class="bg-img" id="bg-img1"></div>
        <div class="bg-img" id="bg-img2"></div>
        <div class="bg-img" id="bg-img3"></div>
        <!--<div class="bg-particle" id="bg-ptc1"></div>-->
        <!--<div class="bg-particle" id="bg-ptc2"></div>-->
        <div class="scene">
          <div class="wrapper">
            <ul class="ball">
            
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
              <li class="ringer"></li>
            </ul>
          </div>
        </div>
        <div class="particleContainer">
       
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <div class="circle-container">
            <div class="circle"></div>
        </div>
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        <!--<div class="circle-container">-->
        <!--    <div class="circle"></div>-->
        <!--</div>-->
        </div>
    </div>
    
    <button type=action name='act_tools' class="toolbtn semi">T</button>
    <input type=hidden name='attr_tools' value=1 >
    
    <div class='tooldisplay ActiveToolDisplay'>
        <div class='toolheader'>
            Tool Tip
            <button type='action' name='act_tools' class='toolclosebtn'>X</button>
        </div>

        <input type='hidden' name='attr_toolinfo' value='Sample Tool Tip!'/>
        <div class='toolinfo'>
            <span name='attr_toolinfo' ></span>
        </div>
        
        <div class='toolfooter'>
            <input type='hidden' name='attr_currenttool' value='1'/>
            <input type='hidden' name='attr_totaltool' value='15'/>
            <button class='toolsbackwards' type='action' name='act_toolnavback'>
                <
            </button>
            <div class='tooltracker' >
                <span name='attr_currenttool'></span>
                /
                <span name='attr_totaltool'></span>
            </div>
            <button class='toolsforwards' type='action' name='act_toolnavforward'>
                >
            </button>
        </div>
    </div>
    <!-- Too much CPU
    <div class="ring" style="top:  -90%; left: -35%;"></div>
    <div class="ring" style="top:  -60%; left: -35%;"></div>
    <div class="ring" style="top:  -30%; left: -35%;"></div>
    <div class="ring" style="top:  0%; left: -35%;"></div>
    
    <div class="bg-particle" id="bg-ptc3"></div>
    <div class="bg-particle" id="bg-ptc4"></div>
    <div class="bg-particle" id="bg-ptc5"></div>
    <div class="bg-particle" id="bg-ptc6"></div>
    -->
     <!-- disabled = "true"-->

    <div class="selector">
        <input type='hidden' class='tabstoggle' name='attr_sheetTab' />

        <button type="action" name="act_inventory" class='inventory-semi' style="left: -80%">INV<b class="pictos-icons">n</b></button>
        <button type="action" name="act_training" class='training-semi' style="left: -75%">TRAIN<b class="pictos-icons">j</b></button>
        <button type="action" name="act_passives"  class='passives-semi' style="left: -70%">PASSIVES<b class="pictos-icons">t</b></button>
        <button type="action" name="act_styles"  class='styles-semi' style="left: -65%">STYLES<b class="pictos-icons">E</b></button>
        <button type="action" name="act_character" class='character-semi' style="left: -60%">CHARACTER<b class="pictos-icons">U</b></button>
        <button type="action" name="act_battle" class='battle-semi' style="left: -55%; height: 30px;">BATTLE<b class="pictos-icons-three">l</b></button>
        <button type="action" name="act_health" class='health-semi' style="left: -60%">HEALTH<b class="pictos-icons">Y</b></button>
        <button type="action" name="act_equipment" class='equipment-semi' style="left: -65%">EQUIPMENT<b class="pictos-icons-three">b</b></button>
        <button type="action" name="act_energytechniques" class='energy-techniques-semi' style="left: -70%">E. TECH<b class="pictos-icons">e</b></button>
        <button type="action" name="act_meleetechniques" class='melee-techniques-semi' style="left: -75%">M. TECH<b class="pictos-icons-custom">t</b></button>
        <button type="action" name="act_spells"  class='spells-semi' style="left: -80%">SPELLS<b class="pictos-icons-three">g</b></button>
    </div>

    <input type="hidden" name='attr_sheetTab' id="t0">
    <input type="hidden" name='attr_sheetTab' id="t1">
    <input type="hidden" name='attr_sheetTab' id="t2">
    <input type="hidden" name='attr_sheetTab' id="t3">
    <input type="hidden" name='attr_sheetTab' id="t4">
    <input type="hidden" name='attr_sheetTab' id="t5">
    <input type="hidden" name='attr_sheetTab' id="t6">
    <input type="hidden" name='attr_sheetTab' id="t7">
    <input type="hidden" name='attr_sheetTab' id="t8">
    <input type="hidden" name='attr_sheetTab' id="t9">
    <input type="hidden" name='attr_sheetTab' id="t10">

    <div class="combopop inActiveComboMenu">
        <div class="combomenu">
            <div class='combomenuLeft'>
                <label>Combo Menu</label>
                <span>Select Technique Type:</span>
                <div>
                    <input type='radio' name='attr_comboType' value='combatType'><span>Combat</span>
                    <input type='radio' name='attr_comboType' value='weaponType'><span>Weapon</span>
                </div>
                <input type='hidden' name='attr_comboType'>
                <br>
                <div class='combatComboSection'>
                    <fieldset class="repeating_meleetech1">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='combatTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech2">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='combatTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech3">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='combatTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech4">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='combatTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech5">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='combatTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech6">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='combatTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech7">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='combatTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                </div>
                <div class='weaponComboSection'>
                    <fieldset class="repeating_meleetech1">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='weaponTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech2">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='weaponTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech3">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='weaponTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech4">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='weaponTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech5">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='weaponTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech6">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='weaponTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                    <fieldset class="repeating_meleetech7">
                        <input type='hidden' name='attr_meleetech-type'>
                        <div class='weaponTechSection' >
                            <div style='display: inline-flex'>
                                <input type='checkbox' name='attr_meleetech-lunge' style="display: none">
                                <span class='meleeSeq' >LU</span>
                                <input type='checkbox' name='attr_meleetech-launcher' style="display: none">
                                <span class='meleeSeq' >LA</span>
                                <input type='checkbox' name='attr_meleetech-spike' style="display: none">
                                <span class='meleeSeq' >SP</span>
                                <input type='checkbox' name='attr_meleetech-streak' style="display: none">
                                <span class='meleeSeq' >ST</span>
                                <input type='checkbox' name='attr_meleetech-ender' style="display: none">
                                <span class='meleeSeq' >EN</span>
                                <input type='checkbox' name='attr_meleetech-counter' style="display: none">
                                <span class='meleeSeq' >C</span>
                                <input type='checkbox' name='attr_meleetech-parry' style="display: none">
                                <span class='meleeSeq' >P</span>
                                <input type='checkbox' name='attr_meleetech-stance' style="display: none">
                                <span class='meleeSeq' >A</span>
                            </div><br>
                            <button type='action' name='act_execute' class='semi'><span name='attr_meleetech-name'></span></button>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class='combomenuRight'>
                <!--    Cooldown Bar    -->
                <!--<div class="progress">-->
                <!--    <input type="hidden" value="0" name="attr_tech-bar" class="techbar">-->
                <!--    <div class="techbar"></div>-->
                <!--</div>-->
                <input type='hidden' name='attr_comboTypeStack' >
                <span>Sequence:</span><select name='attr_seqType'class='combomenuDD'>
                    <option value='LU' selected >Lunge</option>
                    <option value='LA'>Lanuch</option>
                    <option value='ST'>Streak</option>
                    <option value='SP'>Spike</option>
                    <option value='EN'>Ender</option>
                </select>
                <span>Mod:</span><select name='attr_baseMod' class='combomenuDD'>
                    <option value='1' selected >x1</option>
                    <option value='2'>x2</option>
                    <option value='3'>x3</option>
                    <option value='4'>x4</option>
                    <option value='0'>x0</option>
                </select>
                <!--<span>Hits:</span><select name='attr_baseHits' class='combomenuDD'>-->
                <!--    <option value='1' selected >x1</option>-->
                <!--    <option value='2'>x2</option>-->
                <!--    <option value='3'>x3</option>-->
                <!--    <option value='4'>x4</option>-->
                <!--    <option value='5'>x5</option>-->
                <!--    <option value='10'>x10</option>-->
                <!--</select>-->
                
                <fieldset class="repeating_comboStack">
                    <input type='hidden' name='attr_tech' >
                    <input type='hidden' name='attr_techType' >
                    <input type='hidden' name='attr_techCost' >
                    <input type='hidden' name='attr_techBase' >
                    <input type='hidden' name='attr_techHits' >
                    <button class='semi'><span name='attr_tech'></span> </button> >>>>
                </fieldset>
                <input type='hidden' name="attr_comboDamageTotal" value='@{attr_comboDamageTotal}' readonly='readonly' />
                <input type='hidden' name="attr_comboDurCost" value='@{attr_comboDurCost}' readonly='readonly' />
                <input type='hidden' name="attr_comboBaseTotal" value='@{attr_comboBaseTotal}' readonly='readonly' />
                <input type='hidden' name="attr_combo_counter" value='@{attr_combo_counter}' readonly='readonly' />
                <input type='hidden' name="attr_comboStrikeTotal" />
                
                <div class='combomenuTotals'>
                    <span>Combo Counter: 
                        <span name="attr_combo_counter"></span>
                        <input type='hidden' name="attr_comboStrikeTotal" />
                        <div class='hits'>
                            (<span  name="attr_comboStrikeTotal"></span> Hits!)
                        </div>
                    </span><br>
                    <span>Total Base Bonus: <span name="attr_comboBaseTotal"></span></span>
                    <br>
                    <span>Total Dur Cost: <span name="attr_comboDurCost"></span></span>
                </div><br>
                <button type='action' name='act_perform' class='semi'>EXECUTE!</button>
                <button type='action' name='act_performReset' class='semi'>RESET</button>
                <button type='action' name='act_performCancel' class='semi'>CANCEL...</button>
            </div>    
        </div>
    </div>
    
    <div class='errorMsgs'>
        <fieldset class="repeating_errorstack">
            <input type='hidden' name='attr_error' />
            <button type=action name='act_dismiss' class='errorBtn' ><span name='attr_error'></span><b>x</b></button>
        </fieldset>
    </div>

    <div class='character' id="tab0">
        <div class='menuborder'>
            <b>Level: </b>
            <input name="attr_Char_Level" value="@{attr_Char_Level}" max=100 min=0 class="character-inputs" readonly='readonly'/>
            <button type="action" name="act_AddLevel" class='semi'>Add</button> 
            <button type="action" name="act_Add10Level" class='semi'>Add 10</button>
            <button type="action" name="act_ResetLevel" class='semi'>Reset</button>
            <br>
            <b>Race: </b>
            <div class="races">
                <input type="hidden" class="race" name="attr_Char_Race" value="" />
                    <span name="attr_Char_Race" style="color: deeppink; margin-left: 5px; margin-right: 5px;"></span><br>
                <button type="action" name="act_Race_Ciaha" class="race race-1">
                    <span class="checked"></span>
                </button>
                <button type="action" name="act_Race_Magian" class="race race-2">
                    <span class="checked"></span>
                </button>
                <button type="action" name="act_Race_Adept" class="race race-3">
                    <span class="checked"></span>
                </button>
                <button type="action" name="act_Race_Arbiter" class="race race-4">
                    <span class="checked"></span>
                </button>
                <button type="action" name="act_Race_Necrian" class="race race-5">
                    <span class="checked"></span>
                </button>
                <button type="action" name="act_Race_Riahan" class="race race-6">
                    <span class="checked"></span>
                </button>
            </div>
            <b>Sub-Race(s): </b><input type="text" name="attr_subRace" class="character-inputs" style="width: 30%; "/>
            <input type='checkbox' name='attr_halfbreed'><span>Half-Demon</span>
        </div>
        
        <div class='menuborder char-sect' style="border-radius:  5%; display: flex;">
                       
            <div class="stats">
                <span class="label-stats">Stats</span><br><br>
                
                <div style='display: inline'>
                    <b>Constitution: </b><button type="roll" value="/roll 1d6 + @{char_constitution}" name="roll_constitution"></button><br>
                    <input name="attr_char_constitution" value="@{attr_char_constitution}" title="constitution" readonly="readonly" max="10" min="0" class='character-inputs'/>
                    <button type='action' name='act_add_constitution' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_constitution' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initCon" />
                    <br><b>Base: </b><span name="attr_initCon"></span>
                </div>
                <br>
                <div style='display: inline'>
                    <b>Discipline: </b><button type="roll" value="/roll 1d6 + @{char_discipline}" name="roll_discipline"></button><br>
                    <input name="attr_char_discipline" value="@{attr_char_discipline}" title="discipline" readonly="readonly" max="10" min="0" class='character-inputs'/>
                    <button type='action' name='act_add_discipline' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_discipline' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initDis" />
                    <br><b>Base: </b><span name="attr_initDis"></span>
                </div>
                <br>
                <div style='display: inline'>
                    <b>Resistance: </b><button type="roll" value="/roll 1d6 + @{char_resistance}" name="roll_resistance"></button><br>
                    <input name="attr_char_resistance" value="@{attr_char_resistance}" title="resistance" readonly="readonly" max="10" min="0" class='character-inputs'/>
                    <button type='action' name='act_add_resistance' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_resistance' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initRes" />
                    <br><b>Base: </b><span name="attr_initRes"></span>  
                </div>
                <br>
                <div style='display: inline'>
                    <b>Intelligence: </b><button type="roll" value="/roll 1d6 + @{char_intelligence}" name="roll_intelligence"></button><br>
                    <input name="attr_char_intelligence" value="@{attr_char_intelligence}" title="intelligence" readonly="readonly" max="10" min="0" class='character-inputs'/>
                    <button type='action' name='act_add_intelligence' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_intelligence' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initInt" />
                    <br><b>Base: </b><span name="attr_initInt"></span>
                </div>
            </div>
            <div class="skills">
                <span class="label-skills">Skills</span><br><br>
                
                <div style='display: inline'>
                    <b>Combat Arts</b><br>
                    <input name="attr_char_combat_arts" value="@{attr_char_combat_arts}" title="Combat Arts" readonly="readonly" max="100" min="0" class='character-inputs'/>
                    <button type='action' name='act_add_combat_arts' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_combat_arts' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initCA"/>
                    <br><b>Base: </b><span  name="attr_initCA"></span>
                </div>
                <br>
                <div style='display: inline'>
                    <b>Weapon Arts</b><br>
                    <input name="attr_char_weapon_arts" value="@{attr_char_weapon_arts}" title="Weapon Arts" readonly="readonly" max="100" min="0" class='character-inputs'/>
                    <button type='action' name='act_add_weapon_arts' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_weapon_arts' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initWA"/>
                    <br><b>Base: </b><span  name="attr_initWA"></span>
                </div>
                <br>
                <div style='display: inline'>
                    <b>Magi-Tech</b><br>
                    <input name="attr_char_magitech" value="@{attr_char_magitech}" title="Mage tech" readonly="readonly" max="100" min="0" class='character-inputs'/>
                    <button type='action' name='act_add_magitech' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_magitech' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initMaT"/>
                    <br><b>Base: </b><span name="attr_initMaT"></span>
                </div>
                <br>
                <div style='display: inline'>
                    <b>Tech</b><br>
                    <input name="attr_char_tech" value="@{attr_char_tech}" title="tech" readonly="readonly" max="100" min="0" class='character-inputs'/>
                    <button type='action' name='act_add_tech' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_tech' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initTec"/>
                    <br><b>Base: </b><span name="attr_initTec"></span>
                </div>
            </div>
            <div class="energy-catalyst">
                <span class="label-energy">Energies</span><br><br>
                <div style='display: inline'>
                    <b>Mental Energy</b><br>
                    <input name="attr_catalyst_mental" value="@{catalyst_mental}*@{powerstate}" title="Mental Energy" readonly="readonly" class='character-inputs'/>
                    <button type='action' name='act_add_catalyst_mental' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_catalyst_mental' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initMnEn" />
                    <br><b>Base: </b><span name="attr_initMnEn"></span>
                </div>
                <br>
                
                <div style='display: inline'>
                    <b>Body Energy</b><br>
                    <input name="attr_catalyst_body" value="@{catalyst_body}*@{powerstate}" title="Body Energy" readonly="readonly" class='character-inputs'/>
                    <button type='action' name='act_add_catalyst_body' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_catalyst_body' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initBdEn" />
                    <br><b>Base: </b><span name="attr_initBdEn"></span>
                </div>
                <br>
                
                <div style='display: inline'>
                    <b>Spirit Energy</b>
                    <br><input name="attr_catalyst_spirit" value="@{catalyst_spirit}*@{powerstate}" title="Spirit Energy" readonly="readonly" class='character-inputs'/>
                    <button type='action' name='act_add_catalyst_spirit' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_catalyst_spirit' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initSpEn" />
                    <br><b>Base: </b><span name="attr_initSpEn"></span>
                </div>
                <br>
                <div style='display: inline'>
                    <b>Memory Energy</b><br>
                    <input name="attr_catalyst_memory" value="@{catalyst_memory}*@{powerstate})" title="Memory Energy" readonly="readonly" class='character-inputs'/>
                    <button type='action' name='act_add_catalyst_memory' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_catalyst_memory' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initMmEn"/>
                    <br><b>Base: </b><span name="attr_initMmEn"></span>
                </div>
                <br>
                <input class='halfbreed' type='hidden' name='attr_halfbreed' value='0' >
            
                <div class='' >
                    <b>Demon Energy</b><br>
                    <input name="attr_catalyst_demon" value="@{catalyst_demon}*@{powerstate}" title="Demon Energy" readonly="readonly" class='character-inputs'/>
                    <button type='action' name='act_add_catalyst_demon' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_catalyst_demon' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initDmEn"/>
                    <br><b>Base: </b><span name="attr_initDmEn"></span>
                </div>
                
                <input class='deathcovenant' type='hidden' name='attr_deathcovenant' value='0' >
                <div class='' >
                    <b>Necro-Force</b><br>
                    <input name="attr_catalyst_necro" value="@{catalyst_necro}*@{powerstate}" title="necro Force" readonly="readonly" class='character-inputs'/>
                    <button type='action' name='act_add_catalyst_necro' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_catalyst_necro' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                    <input type="hidden" name="attr_initNeFc"/>
                    <br><b>Base: </b><span  name="attr_initNeFc"></span>
                </div>
            </div>
            <br>
        </div>

        <div class='lore menuborder' style="text-align: center">
            <span class="label-stats">Lore</span><br><br>
            <div style="inline-flex">
                <b>Ciahan</b><input class="character-inputs" name="attr_CiahaLore" type="number" min=0 max =4 placeholder=0 />
                <b>Adept</b><input class="character-inputs" name="attr_AdeptLore" type="number" min=0 max =4 placeholder=0 />
                <b>Magian</b><input class="character-inputs" name="attr_MagianLore" type="number" min=0 max =4 placeholder=0 />
                <b>Neciran</b><input class="character-inputs" name="attr_NecrianLore" type="number" min=0 max =4 placeholder=0 />
                <b>Arbitan</b><input class="character-inputs" name="attr_ArbitanLore" type="number" min=0 max =4 placeholder=0 />
                <b>Riahan</b><input class="character-inputs" name="attr_RiahanLore" type="number" min=0 max =4 placeholder=0 />
                <br>
                <b>Celestial</b><input class="character-inputs" name="attr_CelestialLore" type="number" min=0 max =4 placeholder=0 />
                <b>Arcane</b><input class="character-inputs" name="attr_ArcaneLore" type="number" min=0 max =4 placeholder=0 />
                <br>
                <b>Mage-Craft</b><input class="character-inputs" name="attr_MCLore" type="number" min=0 max =4 placeholder=0 />
                <b>Spell-Craft</b><input class="character-inputs" name="attr_SPCLore" type="number" min=0 max =4 placeholder=0 />
                <b>War-Craft</b><input class="character-inputs" name="attr_WCLore" type="number" min=0 max =4 placeholder=0 />
                <b>Star-Craft</b><input class="character-inputs" name="attr_STCLore" type="number" min=0 max =4 placeholder=0 />
            </div>
        </div>

        <div class="spell-tech-points">
            <div class='menuborder' style="text-align: center">
                
                <b>Skill Points: </b>
                    <input name="attr_skill_points" value="@{attr_skill_points}" title="Remaining Spendable Skill Points" readonly="readonly" 
                    class="character-inputs"
                    style="width: 15%"/>
                    <button type='action' name='act_add_skill_points' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_skill_points' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                 <b>Extra Skill Points: </b>
                    <input name="attr_Exskill_points" value="@{attr_Exskill_points}" title="Total Accumlated Extra Skill Points" readonly="readonly" 
                    class="character-inputs"
                    style="width: 15%"/>
                    <button type='action' name='act_add_Exskill_points' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_Exskill_points' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                <br>
                <br>
                <b>Spell Points: </b>
                    <input  name="attr_spell_points" value="@{attr_spell_points}" title="Remaining Spendable Spell Points" readonly="readonly" 
                    class="character-inputs"
                    style="width: 15%"/>
                    <button type='action' name='act_add_spell_points' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                    <button type='action' name='act_minus_spell_points' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                <b>Extra Spell Points: </b>
                <input name="attr_Exspell_points" value="@{attr_Exspell_points}" title="Total Accumlated Extra Spell Points" readonly="readonly" 
                class="character-inputs"
                style="width: 15%"/>
                <button type='action' name='act_add_Exspell_points' style="padding: 0; font-family: 'Pictos'" class='semi'>{</button>
                <button type='action' name='act_minus_Exspell_points' style="padding: 0; font-family: 'Pictos'" class='semi'>}</button>
                
            </div>
        </div>
        
        <div class='menuborder char-sect' >
            <b>Age</b>
                <input type="number" name="attr_Age" value="@{attr_Age}" title="Character Age" style='width:  75px;' max=500 min=0 class="character-inputs"/>
            <b>Manna Training</b>    
                <input type="number" name="attr_Char_Manna_Training" value=0 style='width:  60px;' max=100 min=0 class="character-inputs"/>
            <b>Difficulty</b>
                <input name="attr_Difficulty" value="@{attr_Difficulty}" title="Character Difficulty" readonly="readonly" class="character-inputs"/>
        </div>
        
        <div class='menuborder char-sect' >
            <span class="label-general">Covenants</span><br><br>
            <b>Restrictive:</b>
            <select name='attr_restrict' value='None' style='display:  inline-block; padding: 5'>
                <option value='None'>None</option>
                <option value='Elemental'>Elemental</option>
                <option value='Order'>Order</option>
                <option value='Chaos'>Chaos</option>
                <option value='Judgement'>Judgement</option>
            </select>
            
            <b>Non-Restrictive:</b>
            <!--place a VALUE element on checkbox inputs to replace the 'on' and '0' values-->
            <input type='checkbox' name='attr_deathcovenant' ><span>Death</span>
            <input type='checkbox' name='attr_hellcovenant' ><span>Hell</span>
            <input type='checkbox' name='attr_voidcovenant' ><span>Void</span>
            <input type='checkbox' name='attr_primordialcovenant' ><span>Primordial</span>
            <input type='checkbox' name='attr_unnamedcovenant' ><span>???</span>
        </div>
        
        <div class='menuborder char-sect' >
            <span class="label-general">Bonuses</span><br><br>
            
            <b>Ether:</b><input name='attr_enableEther' type=checkbox  /><br>
            
            <b>Unarmed Bonus:</b><input name="attr_bonusUnarmed" type="number" min="0" max="5" step="1" value="@{attr_bonusUnarmed}" placeholder=0 class="character-inputs"/>
            
            <b>Gather Bonus:</b><input name="attr_bonusGather" type="number" min="0" max="30" step="10" value="@{attr_bonusGather}" placeholder=0 class="character-inputs"/>
            <br>
            
            <b>Defensive Actions:</b><input name="attr_bonusDfActions" type="number" placeholder=0 value="@{attr_bonusDfActions}" class="character-inputs"/>
            
            <b>Interact Actions:</b><input name="attr_bonusInActions" type="number" placeholder=0 value="@{attr_bonusInActions}" class="character-inputs"/>
            
            <br>
            <b>Guard Guage:</b><input name="attr_bonusGG" type="number" min="0" step="25" placeholder=0 value="@{attr_bonusGG}" class="character-inputs"/>
            
            <b>Guard Recovery:</b><input name="attr_bonusGC" type="number" min="0" step="25" placeholder=0 value="@{attr_bonusGC}" class="character-inputs"/>

            <b>Guard Rate:</b><input name="attr_bonusGR" type="number" min="0" max="75" step="5" placeholder=0 value="@{attr_bonusGR}" class="character-inputs"/>
            <br>
            <b>Disruption:</b><input name="attr_bonusDis" type="number" min="0" step="25" placeholder=0 value="@{attr_bonusDis}" class="character-inputs"/>
            
            <b>Pain:</b><input name="attr_bonusPain" type="number" min="0" step="25" placeholder=0 value="@{attr_bonusPain}" class="character-inputs"/>

            <b>Combo Limit:</b><input name="attr_bonusCombo" type="number" min="0" step="25" placeholder=0 value="@{attr_bonusCombo}" class="character-inputs"/>
            <br>
            
            <b>Skill Point Growth:</b><input name="attr_bonusSkGrowth" type="number" min="0" step="0.5" placeholder=0 value="@{attr_bonusSkGrowth}" class="character-inputs" />
            <b>Spell Point Growth:</b><input name="attr_bonusSpGrowth" type="number" min="0" step="0.5" placeholder=0 value="@{attr_bonusSpGrowth}" class="character-inputs" />
            <br>
            <b>Life-Force:</b><input name="attr_bonusLfHealth" type="number" min="0" max="150" placeholder=0 value="@{attr_bonusLfHealth}" class="character-inputs"/>
            <b>Spirit:</b><input name="attr_bonusSpHealth" type="number" min="0" max="150" placeholder=0 value="@{attr_bonusSpHealth}" class="character-inputs"/>
            <b>Soul:</b><input name="attr_bonusSlHealth" type="number" min="0" max="150" placeholder=0 value="@{attr_bonusSlHealth}" class="character-inputs"/>
            <b>Manna:</b><input name="attr_bonusMnHealth" type="number" min="0" max="150" placeholder=0 value="@{attr_bonusMnHealth}" class="character-inputs"/>
        </div>
    </div>
    
    <div class='health' id="tab1">
        <span class="label-general">VITALITY & STATUS</span><br><br>
        
        <input type="hidden" class="hiddeneco" name="attr_combatstate" value="ENTER COMBAT">
        <div class="Economy" style='width: 85%;'>
            <div style="flex-flow: row;">
                <input type="hidden" class="hiddeneco" name="attr_combatstate" value="ENTER COMBAT">
                
                <div class='mainAct'>
                    <span>Main Actions</span>
                    <br>
                    <button type="action" name="act_actionAction" class="actCircle ">
                        <input type='hidden' name="attr_action-limit" value='@{attr_action-limit}' readonly='readonly' class="entry-inputs"/>
                        <span style="font-size: 20px; color: deeppink;" name='attr_action-limit'>
                            
                        </span>
                    </button>
                </div>
                <div class='defAct'>
                    <span>Defensive Actions</span>
                    <br>
                    <button type="action" name="act_defensiveAction" class="actCircle ">
                        <input type='hidden' name="attr_defensive-limit" value='@{attr_defensive-limit}' readonly='readonly' class="entry-inputs"/>
                        <span style="font-size: 20px; color: deeppink;" name='attr_defensive-limit'>
                        </span>
                    </button>
                </div>
                <div class='intAct'>
                    <span>Interact Actions</span>
                    <br>
                    <button type="action" name="act_interactAction" class="actCircle ">
                        <input type='hidden' name="attr_interact-limit" value='@{attr_interact-limit}' readonly='readonly' class="entry-inputs"/>
                        <span style="font-size: 20px; color: deeppink;" name='attr_interact-limit'>
                        </span>
                    </button>
                </div>
                
                <div class="economy-inline economy-ECO">
                    <span>TURN COUNT</span>
                    <br>
                    <!--<input type=number name='attr_economy' class="economy-inputs" value=100 max=100 min=0 />-->
                    <input type="number" name="attr_turnCount" class="economy-inputs" value="@{attr_turnCount}" />
                </div>
                <br>
                <div class="economy-inline economy-TTT">
                    <span>TTT</span><br>
                    <input type='number' name="attr_Char_TTT" value="@{attr_Char_TTT}" class="economy-inputs" />
                </div>
                <div class="economy-inline economy-TTTX">
                    <span>Ex. TTT</span><br>
                    <input type='number' name="attr_adTTT" value='0' class="economy-inputs"/>
                </div>
                <div class="economy-inline2 economy-LF">
                    <span>Life-Force</span><br>
                    <input type="number" name="attr_Char_Life_Force" value="@{attr_Char_Life_Force}" class="economy-inputs"/>
                </div>
                <div class="economy-inline2 economy-MN">
                    <span>Manna</span><br>
                    <input type="number" name="attr_Char_Manna" value="@{attr_Char_Manna}" class="economy-inputs"/>
                </div>
                <div class="ecoBar"></div>
            </div>
            <input type="hidden" class="hiddeneco" name="attr_combatstate" value="ENTER COMBAT">
            
            <div class="ecobtn">
                <button type=action name='act_gather' class='semi semialt'>GATHER</button>
                <button type=action name='act_endTurn' class='semi semialt'>END TURN</button>
                <button type=action name='act_vitalize' class='semi semialt'>VITALIZE</button>
            </div>
        </div>

        <div class='menuborder' style="border-radius: 5%; display: flex; width: 120%;">
            <input type="hidden" name="attr_maxChar_Life_Force">
            <input type="hidden" name="attr_maxChar_Spirit_Force" value=200>
            <input type="hidden" name="attr_maxChar_Soul_Force" value=300>
            <input type="hidden" name="attr_maxChar_Manna">
            <input type="hidden" name="attr_maxChar_Demon">
            <input type="hidden" name="attr_maxDisruption">
            <input type="hidden" name="attr_maxPain">

            <div class="progressBars">
                
                <span>Manna:</span><input type="number" name="attr_Char_Manna" value="@{attr_Char_Manna}" class="economy-inputs" />
                <span name="attr_maxChar_Manna" class="economy-inputs" style="float: right"></span>
                <br>
                <div class="progressM" >
                    <input type="hidden" name="attr_Char_Mannaratio" class="progressM" value="10">
                    <div class="progress"></div>
                </div>
                <span>Demonic Essence:</span><input type="number" name="attr_Char_Demon" value="@{attr_Char_Demon}" class="economy-inputs"/>
                <span name="attr_maxChar_Demon" class="economy-inputs" style="float: right"></span>
                <br>
                <div class="progressDM" >
                    <input type="hidden" name="attr_Char_Demonratio" class="progressDM" value="10">
                    <div class="progress"></div>
                </div>
                <span>Disruption:</span><input type="number" name="attr_Disruption" value="@{attr_Disruption}" class="economy-inputs"/>
                <span name="attr_maxDisruption" class="economy-inputs" style="float: right"></span>
                <br>
                <div class="progressD">
                    <input type="hidden" name="attr_Disruptionratio" class="progressD" value="10">
                    <div class="progress"></div>
                </div>
                <span>Pain:</span><input type="number" name="attr_Pain" value="@{attr_Pain}" title="Pain Meter" class="economy-inputs" />
                <span name="attr_maxPain" class="economy-inputs" style="float: right"></span>
                <br>
                <div class="progressP">
                    <input type="hidden" name="attr_Painratio" class="progressP" value="10">
                    <div class="progress"></div>
                </div>

            </div>
            <div class="progressBars">
                <span>Life-Force:</span><input type="number" name="attr_Char_Life_Force" value="@{attr_Char_Life_Force}" class="economy-inputs"/>
                <span name="attr_maxChar_Life_Force" class="economy-inputs" style="float: right"></span>
                <br>
                <div class="progressLF" >
                    <input type="hidden" name="attr_Char_Life_Forceratio" class="progressLF" value="10">
                    <div class="progress"></div>
                </div>
                <span>Spirit:</span><input type="number" name="attr_Char_Spirit_Force" value="200" class="economy-inputs" max=500 min=0 />
                <span name="attr_maxChar_Spirit_Force" class="economy-inputs" style="float: right"></span>
                <br>
                <div class="progressSTF" >
                    <input type="hidden" name="attr_Char_Spirit_Forceratio" class="progressSTF" value="10">
                    <div class="progress"></div>
                </div>
                <span>Soul:</span><input type="number" name="attr_Char_Soul_Force" value="300" class="economy-inputs" max=1000 min=0 />
                <span name="attr_maxChar_Soul_Force" class="economy-inputs" style="float: right"></span>
                <br>
                <div class="progressSLF" >
                    <input type="hidden" name="attr_Char_Soul_Forceratio" class="progressSLF" value="10">
                    <div class="progress"></div>
                </div>
                <span>Mental Capacity</span><input type='hidden' name="attr_Capacity" value="@{attr_Capacity}" class="economy-inputs" readonly="readonly"  />
                <div class="progressMC" >
                    <input type="hidden" name="" class="" value="10">
                    <div class="progress"></div>
                </div>
            </div>
        </div>
        
        <div class='menuborder' style="border-radius: 5%; text-align: center; width: 120%;">
            
            <span class="label-general">ROLLS & CHECKS</span><br><br>
            
            <b>Disarm Check:</b><input name="attr_disarm_roll" type="number" min="0" step="1" value="@{attr_disarm_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_discipline} + @{disarm_roll}" name="roll_disarm"></button>
            <b>Deflect Check:</b><input name="attr_deflect_roll" type="number" min="0"  step="1" value="@{attr_deflect_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_discipline} + @{deflect_roll}" name="roll_deflect"></button>
            <b>Submission Check:</b><input name="attr_submission_roll" type="number" min="0"  step="1" value="@{attr_submission_roll}" placeholder=0  class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_constitution} + @{submission_roll} + (@{Power}*2)" name="roll_disarm"></button>
            <br><br>
            <b>Mind Check:</b><input name="attr_mind_roll" type="number" min="0" step="1" value="@{attr_mind_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_resistance} + @{mind_roll}" name="roll_mind"></button>
            <b>Seal Check:</b><input name="attr_seal_roll" type="number" min="0"  step="1" value="@{attr_seal_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_resistance} + @{seal_roll}" name="roll_seal"></button>
            <b>Possession Check:</b><input name="attr_possess_roll" type="number" min="0"  step="1" value="@{attr_possess_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_intelligence} + @{possess_roll}" name="possess_seal"></button>
            <br><br>
            <b>Illusion Check:</b><input name="attr_illusion_roll" type="number" min="0"  step="1" value="@{attr_illusion_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="?{Choose a Roll|
                RES,/roll 1d6 + @{char_resistance} + @{illusion_roll} |
                INT,/roll 1d6 + @{char_intelligence} + @{illusion_roll}}" name="roll_illusion"></button>
            <b>Personality Check:</b><input name="attr_person_roll" type="number" min="0"  step="1" value="@{attr_person_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_resistance} + @{person_roll}"></button>
            <b>Curse Check:</b><input name="attr_curse_roll" type="number" min="0"  step="1" value="@{attr_curse_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_resistance} + @{curse_roll}"></button>
            <br><br>
            <b>Hacking Check:</b><input name="attr_hack_roll" type="number" min="0" step="1" value="@{attr_hack_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_intelligence} + @{hack_roll}"></button>
            <b>Program Check:</b><input name="attr_program_roll" type="number" min="0"  step="1" value="@{attr_program_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_intelligence} + @{program_roll}"></button>
            <b>Plying Check:</b><input name="attr_ply_roll" type="number" min="0"  step="1" value="@{attr_ply_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{char_intelligence} + @{ply_roll}"></button>
            <br><br>
            <input type="text" name="attr_custom1_roll_name" placeholder="Custom Check" class="character-inputs"/>
            <input name="attr_custom1_roll" type="number" min="0" step="1"  value="@{attr_custom1_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="?{Choose a Roll|
                CON,/roll 1d6 + @{char_constitution} + @{custom1_roll} |
                DIS,/roll 1d6 + @{char_discipline} + @{custom1_roll} |
                RES,/roll 1d6 + @{char_resistance} + @{custom1_roll} |
                INT,/roll 1d6 + @{char_intelligence} + @{custom1_roll}}"></button>
            <input type="text" name="attr_custom2_roll_name" placeholder="Custom Check" class="character-inputs"/>
            <input name="attr_custom2_roll" type="number" min="0" step="1" value="@{attr_custom2_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="?{Choose a Roll|
                CON,/roll 1d6 + @{char_constitution} + @{custom2_roll} |
                DIS,/roll 1d6 + @{char_discipline} + @{custom2_roll} |
                RES,/roll 1d6 + @{char_resistance} + @{custom2_roll} |
                INT,/roll 1d6 + @{char_intelligence} + @{custom2_roll}}"></button>
            <br>
            <input type="text" name="attr_custom3_roll_name" placeholder="Custom Check" class="character-inputs"/>
            <input name="attr_custom3_roll" type="number" min="0" step="1"  value="@{attr_custom3_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="?{Choose a Roll|
                CON,/roll 1d6 + @{char_constitution} + @{custom3_roll} |
                DIS,/roll 1d6 + @{char_discipline} + @{custom3_roll} |
                RES,/roll 1d6 + @{char_resistance} + @{custom3_roll} |
                INT,/roll 1d6 + @{char_intelligence} + @{custom3_roll}}"></button>
            <input type="text" name="attr_custom4_roll_name" placeholder="Custom Check" class="character-inputs"/>
            <input name="attr_custom4_roll" type="number" min="0" step="1"  value="@{attr_custom4_roll}" placeholder=0 class="character-inputs"/>
            <button type='roll' class='semi' value="?{Choose a Roll|
                CON,/roll 1d6 + @{char_constitution} + @{custom4_roll} |
                DIS,/roll 1d6 + @{char_discipline} + @{custom4_roll} |
                RES,/roll 1d6 + @{char_resistance} + @{custom4_roll} |
                INT,/roll 1d6 + @{char_intelligence} + @{custom4_roll}}"></button>
            <br><br>
            
            <span class="label-general">SUBDUE & RATES</span><br><br>
            
            <b>Undead Subdue</b><input name="attr_undead_roll" type="number" min="0" step="1" placeholder=0 value="@{attr_undead_roll}" class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{undead_roll}"></button>
            <input name="attr_undead_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_undead_rate}" class="character-inputs"/>
            <b>Undead Rate</b>
            <br>
            <b>Familiar Subdue</b><input name="attr_fam_roll" type="number"  min="0" step="1" placeholder=0 value="@{attr_fam_roll}" class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{fam_roll}"></button>
            <input name="attr_fam_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_fam_rate}" class="character-inputs"/>
            <b>Familiar Rate</b>
            <br>
            <b>Demon Subdue</b><input name="attr_demon_roll" type="number" min="0" step="1" placeholder=0 value="@{attr_demon_roll}" class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{demon_roll}"></button>
            <input name="attr_demon_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_demon_rate}" class="character-inputs"/>
            <b>Demon Rate</b>
            <br>
            <b>Voidling Subdue</b><input name="attr_void_roll" type="number" min="0" step="1" placeholder=0 value="@{attr_void_roll}" class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{void_roll}"></button>
            <input name="attr_void_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_void_rate}" class="character-inputs"/>
            <b>Voidling Rate</b>
            <br>
            <b>Humonculi Subdue</b><input name="attr_hell_roll" type="number" min="0" step="1" placeholder=0 value="@{attr_hell_roll}" class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{hell_roll}"></button>
            <input name="attr_hell_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_hell_rate}" class="character-inputs"/>
            <b>Humonculi Rate</b>
            <br><br>
            <input type="text" name="attr_customSub1_name" placeholder="Custom Subdue" class="character-inputs"/>
            <input name="attr_customsubdue1_roll" type="number" min="0" step="1" placeholder=0 value="@{attr_customsubdue1_roll}" class="character-inputs"/>
            <button type='roll' class='semi' value="/roll 1d6 + @{custonsubdue1_roll}"></button>
            <input name="attr_customsubdue1_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_customsubdue1_rate}" class="character-inputs"/>
            <b>Custom Rate</b>
            <br>
            <input type="text" name="attr_customSub2_name" placeholder="Custom Subdue" class="character-inputs"/>
            <input name="attr_customsubdue2_roll" type="number" min="0" step="1" placeholder=0 value="@{attr_customsubdue2_roll}" class="character-inputs"/>
            <button type='roll' class='semi'value="/roll 1d6 + @{custonsubdue2_roll}"></button>
            <input name="attr_customsubdue2_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_customsubdue2_rate}" class="character-inputs"/>
            <b>Custom Rate</b>
            <br>
            <!--<b>Custom Subdue</b><input name="attr_customsubdue3_roll" type="number" min="0" step="1" placeholder=0 value="@{attr_customsubdue3_roll}" class="character-inputs"/>-->
            <!--<button type='roll' class='semi'value="/roll 1d6 + @{custonsubdue3_roll}"></button>-->
            <!--<input name="attr_customsubdue3_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_customsubdue3_rate}" class="character-inputs"/>-->
            <!--<b>Custom Rate</b>-->
            <!--<br>-->
            <!--<b>Custom Subdue</b><input name="attr_customsubdue4_roll" type="number" min="0" step="1" placeholder=0 value="@{attr_customsubdue4_roll}" class="character-inputs"/>-->
            <!--<button type='roll' class='semi'value="/roll 1d6 + @{custonsubdue4_roll}"></button>-->
            <!--<input name="attr_customsubdue4_rate" type="number" min="0" max="100" step="1" placeholder=0 value="@{attr_customsubdue4_rate}" class="character-inputs"/>-->
            <!--<b>Custom Rate</b>-->
            <!--<br>-->
        </div>
        
    </div>

    <div class='battle' id='tab2'>
        
        <div class='catalysts'>
            <div class='catalystdisplay'>
                <b>Catalyst : <span name="attr_Energy_type"></span></b><br>
                    <input type="hidden" name="attr_Energy_type" value="None" />
                    <input class='halfbreed' type='hidden' name='attr_halfbreed' value='0' />
                    <input class='deathcovenant' type='hidden' name='attr_deathcovenant' value='0' />
                        <br>
                    <label for="mentaltheme" style="display: inline"> 
                        <button type="action" name="act_Energy_type_Mental" class="togglecatalyst togglemental">
                        
                        </button>
                    </label>
                    <label for="bodytheme" style="display: inline">
                        <button type="action" name="act_Energy_type_Body" class="togglecatalyst togglebody">
                            
                        </button>
                    </label>
                    <label for="spirittheme" style="display: inline">
                        <button type="action" name="act_Energy_type_Spirit" class="togglecatalyst togglespirit">
                            <span class="checked"></span>
                        </button>
                    </label>
                    <label for="memorytheme" style="display: inline"> 
                        <button type="action" name="act_Energy_type_Memory" class="togglecatalyst togglememory">
                            <span class="checked"></span>
                        </button>
                    </label>
                    <label for="demontheme" style="display: inline"> 
                        <button type="action" name="act_Energy_type_Demon" class="togglecatalyst toggledemon">
                            <span class="checked"></span>
                        </button>
                    </label>
                    <label for="necrotheme" style="display: inline"> 
                        <button type="action" name="act_Energy_type_necroforce" class="togglecatalyst togglenecro">
                            <span class="checked"></span>
                        </button>
                    </label>
                    <input type='hidden' name='attr_ether' value='false'/>
                    <input type='hidden' name='attr_enableEther' />
                    <button type=action name='act_ether' class='ether'>E</button>
            </div>
            <div class='catalystdisplay2'> 
                
                <div style="display: inline;">
                    <input type='radio' name='attr_powerstate' value=1 checked='checked'><span>Normal</span>
                    <input type='radio' name='attr_powerstate' value=.5 ><span>Suppressed</span>
                    <input type='radio' name='attr_powerstate' value=1.25 ><span>Full</span>
                </div>
                
                <br><br>
                <div style="display: inline;">
                    <div class='catalystcontainer'>
                        <b class='catalysttitles' style="">Power</b><br>
                        <input name="attr_Power" value="@{attr_Power}" title="Power" readonly="readonly" 
                        class="catalyst"/>
                    </div>
                    <div class='catalystcontainer'>
                        <b class='catalysttitles'>Endurance</b><br>
                        <input name="attr_Endurance" value="@{attr_Endurance}" title="Endurance" readonly="readonly" 
                        class="catalyst"/>
                    </div>
                    <div class='catalystcontainer'>
                        <b class='catalysttitles'>Speed</b><br>
                        <input name="attr_Speed" value="@{attr_Speed}" title="Speed" readonly="readonly" 
                        class="catalyst"/>
                    </div>
                    <div class='catalystcontainer'>
                        <b class='catalysttitles'>Flight</b><br>
                        <input name="attr_Flight" value="@{attr_Flight}" title="Flight" readonly="readonly" 
                        class="catalyst"/>
                    </div>
                </div>
                
            </div>
            
            <button type="action" name="act_ecocombat" class="combat_btn"><span name="attr_combatstate"></span></button>
        </div>
        <br>
        <input type="hidden" class="hiddeneco" name="attr_combatstate" value="ENTER COMBAT">
        <div class="Economy">
            <div style="flex-flow: row;">
                <input type="hidden" class="hiddeneco" name="attr_combatstate" value="ENTER COMBAT">
                
                <div class='mainAct'>
                    <span>Main Actions</span>
                    <br>
                    <button type="action" name="act_actionAction" class="actCircle ">
                        <input type='hidden' name="attr_action-limit" value='@{attr_action-limit}' readonly='readonly' class="entry-inputs"/>
                        <span style="font-size: 17px; color: deeppink;" name='attr_action-limit'>
                            
                        </span>
                    </button>
                </div>
                <div class='defAct'>
                    <span>Defensive Actions</span>
                    <br>
                    <button type="action" name="act_defensiveAction" class="actCircle ">
                        <input type='hidden' name="attr_defensive-limit" value='@{attr_defensive-limit}' readonly='readonly' class="entry-inputs"/>
                        <span style="font-size: 17px; color: deeppink;" name='attr_defensive-limit'>
                        </span>
                    </button>
                </div>
                <div class='intAct'>
                    <span>Interact Actions</span>
                    <br>
                    <button type="action" name="act_interactAction" class="actCircle ">
                        <input type='hidden' name="attr_interact-limit" value='@{attr_interact-limit}' readonly='readonly' class="entry-inputs"/>
                        <span style="font-size: 17px; color: deeppink;" name='attr_interact-limit'>
                        </span>
                    </button>
                </div>
                
                <div class="economy-inline economy-ECO">
                    <span>TURN COUNT</span>
                    <br>
                    <!--<input type=number name='attr_economy' class="economy-inputs" value=100 max=100 min=0 />-->
                    <input type="number" name="attr_turnCount" class="economy-inputs" value="@{attr_turnCount}" />
                </div>
                <br>
                <button type='action' name='act_tttlog' class="economyLogBtn">i</button>
                <input type='hidden' name='attr_tttlogtoggle' value='false'>
                <div class="economyLog">
                    <textarea name='attr_tttlog' placeholder='keep track of ttt cost origins...'></textarea>
                </div>
                <div class="economy-inline economy-TTT">
                    <span>TTT</span><br>
                    <input type='number' name="attr_Char_TTT" value="@{attr_Char_TTT}" class="economy-inputs" />
                </div>
                <div class="economy-inline economy-TTTX">
                    <span>Ex. TTT</span><br>
                    <input type='number' name="attr_adTTT" value='0' class="economy-inputs"/>
                </div>
                <div class="economy-inline2 economy-LF">
                    <span>Life-Force</span><br>
                    <input type="number" name="attr_Char_Life_Force" value="@{attr_Char_Life_Force}" class="economy-inputs"/>
                </div>
                <div class="economy-inline2 economy-MN">
                    <span>Manna</span><br>
                    <input type="number" name="attr_Char_Manna" value="@{attr_Char_Manna}" class="economy-inputs"/>
                </div>
                <div class="ecoBar"></div>
            </div>
            <input type="hidden" class="hiddeneco" name="attr_combatstate" value="ENTER COMBAT">
            
            <div class="ecobtn">
                <button type=action name='act_gather' class='semi semialt'>GATHER</button>
                <button type=action name='act_endTurn' class='semi semialt'>END TURN</button>
                <button type=action name='act_vitalize' class='semi semialt'>VITALIZE</button>
            </div>
        </div>
    
        <!--*************************************************************************************-->        
        <div class='char-sect battle-sect '>
            <!--************************************** HIDDEN ATTRIBUTES ******************************<span>Mental Cap:</span>-->
            <input type="hidden" name="attr_primary-weapon" />
            <input type="hidden" name="attr_secondary-weapon" />
            <input type="hidden" name="attr_equipped-weapon-style" />
            <input type="hidden" name="attr_primaryweapon-max-dur" />
            <input type="hidden" name="attr_secondaryweapon-max-dur" />
            
            <!--************************************** WEAPONS ******************************-->
            <div class='melee-arts menuborder-secondary' style="border-radius: 3%;">
                
                <input type='hidden' class='meleeactiontoggle' name='attr_meleeactiontoggle' value='Melee'/>
                <input type='hidden' name='attr_meleeshoulder1' value='Magic'/>
                <input type='hidden' name='attr_meleeshoulder2' value='Techs'/>
                <div class="magicBattleSection">
                    <button class='semi' type='action' name='act_meleeshouldbtn1'><span name='attr_meleeshoulder1'></span></button>
                    <span style="font-size: 20px; color: deeppink;" class="label-general">M A G I C</span>
                    <button class='semi' type='action' name='act_meleeshouldbtn2'><span name='attr_meleeshoulder2'></span></button>
                    <br>
                    <label style='text-align: center'>Spells_____________Cost</label>
                    <fieldset class='repeating_spells1'>
                        <div class='magicbar'>
                            <div class='magiccusor'></div>
                            <input type='hidden' value='attr_spells-school'/>
                            <div class='magicbg'></div>
                            <button class='magicapplybtn' type='action' name='act_applyspell'><span name='attr_spells-name'></span></button>
                            <span name='attr_spells-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_spells2'>
                        <div class='magicbar'>
                            <div class='magiccusor'></div>
                            <input type='hidden' value='attr_spells-school'/>
                            <div class='magicbg'></div>
                            <button class='magicapplybtn' type='action' name='act_applyspell'><span name='attr_spells-name'></span></button>
                            <span name='attr_spells-cost'></span>
                        </div>                    </fieldset>
                    <fieldset class='repeating_spells3'>
                        <div class='magicbar'>
                            <div class='magiccusor'></div>
                            <input type='hidden' value='attr_spells-school'/>
                            <div class='magicbg'></div>
                            <button class='magicapplybtn' type='action' name='act_applyspell'><span name='attr_spells-name'></span></button>
                            <span name='attr_spells-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_spells4'>
                        <div class='magicbar'>
                            <div class='magiccusor'></div>
                            <input type='hidden' value='attr_spells-school'/>
                            <div class='magicbg'></div>
                            <button class='magicapplybtn' type='action' name='act_applyspell'><span name='attr_spells-name'></span></button>
                            <span name='attr_spells-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_spells5'>
                        <div class='magicbar'>
                            <div class='magiccusor'></div>
                            <input type='hidden' value='attr_spells-school'/>
                            <div class='magicbg'></div>
                            <button class='magicapplybtn' type='action' name='act_applyspell'><span name='attr_spells-name'></span></button>
                            <span name='attr_spells-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_spells6'>
                        <div class='magicbar'>
                            <div class='magiccusor'></div>
                            <input type='hidden' value='attr_spells-school'/>
                            <div class='magicbg'></div>
                            <button class='magicapplybtn' type='action' name='act_applyspell'><span name='attr_spells-name'></span></button>
                            <span name='attr_spells-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_spells7'>
                        <div class='magicbar'>
                            <div class='magiccusor'></div>
                            <input type='hidden' value='attr_spells-school'/>
                            <div class='magicbg'></div>
                            <button class='magicapplybtn' type='action' name='act_applyspell'><span name='attr_spells-name'></span></button>
                            <span name='attr_spells-cost'></span>
                        </div>
                    </fieldset>
                </div>
                <div class="techBattleSection">
                    <button class='semi' type='action' name='act_meleeshouldbtn1'><span name='attr_meleeshoulder1'></span></button>
                    <span style="font-size: 20px; color: deeppink;" class="label-general">T E C H S</span>
                    <button class='semi' type='action' name='act_meleeshouldbtn2'><span name='attr_meleeshoulder2'></span></button>
                    <br>
                    <label style='text-align: center'>Technique________Cost</label>
                    <fieldset class='repeating_energytech1'>
                        <div class='etechbar'>
                            <div class='etechcusor'></div>
                            <input type='hidden' value='attr_energytech-type'/>
                            <div class='etechbg'></div>
                            <button class='etechapplybtn' type="action" name="act_applyetech" ><span name='attr_etech-name'></span></button>
                            <span name='attr_etech-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_energytech2'>
                        <div class='etechbar'>
                            <div class='etechcusor'></div>
                            <input type='hidden' value='attr_energytech-type'/>
                            <div class='etechbg'></div>
                            <button class='etechapplybtn' type="action" name="act_applyetech" ><span name='attr_etech-name'></span></button>
                            <span name='attr_etech-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_energytech3'>
                        <div class='etechbar'>
                            <div class='etechcusor'></div>
                            <input type='hidden' value='attr_energytech-type'/>
                            <div class='etechbg'></div>
                            <button class='etechapplybtn' type="action" name="act_applyetech" ><span name='attr_etech-name'></span></button>
                            <span name='attr_etech-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_energytech4'>
                        <div class='etechbar'>
                            <div class='etechcusor'></div>
                            <input type='hidden' value='attr_energytech-type'/>
                            <div class='etechbg'></div>
                            <button class='etechapplybtn' type="action" name="act_applyetech" ><span name='attr_etech-name'></span></button>
                            <span name='attr_etech-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_energytech5'>
                        <div class='etechbar'>
                            <div class='etechcusor'></div>
                            <input type='hidden' value='attr_energytech-type'/>
                            <div class='etechbg'></div>
                            <button class='etechapplybtn' type="action" name="act_applyetech" ><span name='attr_etech-name'></span></button>
                            <span name='attr_etech-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_energytech6'>
                        <div class='etechbar'>
                            <div class='etechcusor'></div>
                            <input type='hidden' value='attr_energytech-type'/>
                            <div class='etechbg'></div>
                            <button class='etechapplybtn' type="action" name="act_applyetech" ><span name='attr_etech-name'></span></button>
                            <span name='attr_etech-cost'></span>
                        </div>
                    </fieldset>
                    <fieldset class='repeating_energytech7'>
                        <div class='etechbar'>
                            <div class='etechcusor'></div>
                            <input type='hidden' value='attr_energytech-type'/>
                            <div class='etechbg'></div>
                            <button class='etechapplybtn' type="action" name="act_applyetech" ><span name='attr_etech-name'></span></button>
                            <span name='attr_etech-cost'></span>
                        </div>
                    </fieldset>
                </div>
                <div class="meleeBattleSection">
                    <button class='semi' type='action' name='act_meleeshouldbtn1'><span name='attr_meleeshoulder1'></span></button>
                    <span style="font-size: 20px; color: deeppink;" class="label-general">M E L E E</span>
                    <button class='semi' type='action' name='act_meleeshouldbtn2'><span name='attr_meleeshoulder2'></span></button>
                    <input type="hidden" name="attr_weapon-toggle" class="weapon-toggle" value="primary"/>
                    <input type='hidden' name="attr_primaryweapon" />
                    <input type='hidden' name="attr_secondaryweapon" />
                    <input type='hidden' name="attr_rangedweapon" />
                    
                    <input type='hidden' name="attr_baseadjust" value=0 />
                    <input type='hidden' name="attr_accadjust" value=0 />
                    <input type='hidden' name="attr_evaadjust" value=0 />
                    <input type='hidden' name="attr_ggadjust" value=0 />
                    <br><br>
                    <div class='primaryweapon'>
                        <input type="hidden" name="attr_weapon-toggle" class="weapon-toggle" value="primary"/>
                        
                        <button type="action" name="act_primary-toggle" class='iconbutton mainhandIcon'></button>
                        <button type="action" name="act_secondary-toggle" class='iconbutton offhandIcon'></button>
                        <button type="action" name="act_dual-toggle" class='iconbutton dualhandIcon'></button>
                        <button type="action" name="act_ranged-toggle" class='iconbutton secondaryIcon'></button>
                        <button type="action" name="act_unarmed-toggle" class='iconbutton unarmedIcon'></button>
                        <br><br>
                        
                        <button type='roll' style="font-size: 24px;" title="Main Hand Weapon"
                        value= "&{template:default}{{name=Melee}}{{Wielding=@{primaryweapon}}}{{Employing=@{weapon_style}}}{{Hits=[[floor([[(@{primaryweapon_acc}+@{accadjust}-?{Target's Evasion})/100]])]]}}{{Extra Hits=[[{ceil([[([[(@{primaryweapon_acc}+@{accadjust}-?{Target's Evasion})%100]]-[[1d100]])/100]])}]]}}{{Base=@{primaryweapon_base}+@{baseadjust}(+@{primaryweapon-positive-scaling}/-@{primaryweapon-negative-scaling})}}{{Total Damage=[[([[floor([[(@{primaryweapon_acc}+@{accadjust}-?{Target's Evasion})/100]])]]+[[{ceil([[([[(@{primaryweapon_acc}+@{accadjust}-?{Target's Evasion})%100]]-[[1d100]])/100]])}]])*{[[([[@{primaryweapon_base}+@{baseadjust}]]+({([[@{power}]]-[[?{Target's Endurance|0|1|2|3|4|5|6|7|8|9|10}]]),0}kh1*[[@{primaryweapon-positive-scaling}]])+({([[@{power}]]-[[?{Target's Endurance}]]),0}kl1*[[@{primaryweapon-negative-scaling}]]))]],0}kh1]]}}"
                        class="battleDisplay">
                            <span name='attr_primaryweapon'></span>
                        </button>
                        <input name="attr_weapon_style" value="@{attr_weapon_style}" title="Current Style" readonly="readonly" class="battleDisplay"/>
                        <br>
                        <br>
                        <!--<b>Comp:</b><input name="attr_style-types" value="@{attr_style-types}" title="Style Compatibility" readonly="readonly" class="battleDisplay"/>-->
                        <!--<br>-->
                        <div class="battleCapsule hoverBASE">
                            <b>Base</b><input name="attr_primaryweapon_base" value="@{attr_primaryweapon_base}" title="Base Damage" readonly="readonly" />
                            <input type="hidden" name='attr_mainBaseMeter' class="battleMeter" value="@{attr_mainBaseMeter}" />
                            <div class="battleGauge mainBaseGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustBASE">
                                    +
                                    <span name='attr_baseadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatBASE">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule">
                            <b>Scaling</b><input name="attr_primaryweapon-scaling" value="@{attr_primaryweapon-scaling}" title= "Scaling (+)/(-)" readonly="readonly" />
                        </div>
                        <div class="battleCapsule hoverACC">
                            <b>Acc</b><input name="attr_primaryweapon_acc" value="@{attr_primaryweapon_acc}" title="Total Accuracy" readonly="readonly" />
                            <input type="hidden" name='attr_mainAccMeter' class="battleMeter" value="@{attr_mainAccMeter}" />
                            <div class="battleGauge mainAccGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustACC">
                                    +
                                    <span name='attr_accadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatACC">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule hoverEVA">
                            <b>Eva</b><input name="attr_primaryweapon_eva" value="@{attr_primaryweapon_eva}" title="Total Evasion" readonly="readonly" />
                            <input type="hidden" name='attr_mainEvaMeter' class="battleMeter" value="@{attr_mainEvaMeter}" />
                            <div class="battleGauge mainEvaGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustEVA">
                                    +
                                    <span name='attr_evaadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatEVA">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule hoverSTRESS">
                            <b>Stress</b><input name="attr_primaryweapon-stress" value="@{attr_primaryweapon-stress}" title= "Stress" readonly="readonly" />
                            <input type="hidden" name='attr_mainStressMeter' class="battleMeter" value="@{attr_mainStressMeter}" />
                            <div class="battleGauge mainStressGauge"></div>
                            
                        </div>
                        <div class="battleCapsule hoverDUR">
                            <b>Dur</b><input name="attr_primaryweapon-rem-dur" value="@{attr_primaryweapon-rem-dur}" title="Remaining Durability" readonly="readonly" />
                            <input type="hidden" name='attr_mainDurMeter' class="battleMeter" value="@{attr_mainDurMeter}" />
                            <div class="battleGauge mainDurGauge"></div>
                        
                        </div>
                        <div class="battleCapsule hoverGUARD">
                            <b>GG</b><input name="attr_primaryweapon_gg" value="@{attr_primaryweapon_gg}" title="Total Guard Gauge" readonly="readonly" />
                            <input type="hidden" name='attr_mainGGMeter' class="battleMeter" value="@{attr_mainGGMeter}" />
                            <div class="battleGauge mainGuardGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustGG">
                                    +
                                    <span name='attr_ggadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatGG">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule hoverGUARDD">
                            <b>GD</b><input name="attr_primaryweapon_gd" value="@{attr_primaryweapon_gd}" title="Guard Damage" readonly="readonly" />
                            <input type="hidden" name='attr_mainGDMeter' class="battleMeter" value="@{attr_mainGDMeter}" />
                            <div class="battleGauge mainGuardDGauge"></div>
                        </div>
                        <!--<b>Type:</b><input name="attr_primaryweapon-type" value="@{attr_primaryweapon-type}" title="Weapon Type" readonly="readonly" class="battleDisplay"/>-->
                        <br>
                        
                        </div>
                    <div class='secondaryweapon'>
                        <input type="hidden" name="attr_weapon-toggle" class="weapon-toggle" value="primary"/>
                        
                        <button type="action" name="act_primary-toggle" class='iconbutton mainhandIcon'></button>
                        <button type="action" name="act_secondary-toggle" class='iconbutton offhandIcon'></button>
                        <button type="action" name="act_dual-toggle" class='iconbutton dualhandIcon'></button>
                        <button type="action" name="act_ranged-toggle" class='iconbutton secondaryIcon'></button>
                        <button type="action" name="act_unarmed-toggle" class='iconbutton unarmedIcon'></button>
                        <br><br>
                        
                        <button type='roll' style="font-size: 24px;" title="Off Hand Weapon"
                        value="&{template:default}{{name=Melee}}{{Wielding=@{secondaryweapon}}}{{Employing=@{weapon_style}}}{{Hits=[[floor([[(@{secondaryweapon_acc}+@{accadjust}-?{Target's Evasion})/100]])]]}}{{Extra Hits=[[{ceil([[([[(@{secondaryweapon_acc}+@{accadjust}-?{Target's Evasion})%100]]-[[1d100]])/100]])}]]}}{{Base=@{secondaryweapon_base}+@{baseadjust}}(+@{secondaryweapon-positive-scaling}/-@{secondaryweapon-negative-scaling})}}{{Total Damage=[[([[floor([[(@{secondaryweapon_acc}+@{accadjust}-?{Target's Evasion})/100]])]]+[[{ceil([[([[(@{secondaryweapon_acc}+@{accadjust}-?{Target's Evasion})%100]]-[[1d100]])/100]])}]])*{[[([[@{secondaryweapon_base}+@{baseadjust}]]+({([[@{power}]]-[[?{Target's Endurance|0|1|2|3|4|5|6|7|8|9|10}]]),0}kh1*[[@{secondaryweapon-positive-scaling}]])+({([[@{power}]]-[[?{Target's Endurance}]]),0}kl1*[[@{secondaryweapon-negative-scaling}]]))]],0}kh1]]}}"
                        class="battleDisplay">
                            <span name='attr_secondaryweapon'></span>
                        </button>
                        <br>
                        <input name="attr_weapon_style" value="@{attr_weapon_style}" title="Current Style" readonly="readonly" class="battleDisplay"/>
                        <br>
                        <br>
                        <!--<b>Comp:</b><input name="attr_style-types" value="@{attr_style-types}" title="Style Compatibility" readonly="readonly" class="battleDisplay"/>-->
                        <!--<br>-->
                        <div class="battleCapsule hoverBASE">
                            <b>Base</b><input name="attr_secondaryweapon_base" value="@{attr_secondaryweapon_base}" title="Base Damage" readonly="readonly" />
                            <input type="hidden" name='attr_offBaseMeter' class="battleMeter" value="@{attr_offBaseMeter}" />
                            <div class="battleGauge offBaseGauge"></div>
                            <div class="battleCapsuleAdjustor" >
                                <button class='battleAdjustor' type="action" name="act_adjustBASE">
                                    +
                                    <span name='attr_baseadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatBASE">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule">
                            <b>Scaling</b><input name="attr_secondaryweapon-scaling" value="@{attr_secondaryweapon-scaling}" title= "Scaling (+)/(-)" readonly="readonly" />
                        </div>
                        <div class="battleCapsule  hoverACC">
                            <b>Acc</b><input name="attr_secondaryweapon_acc" value="@{attr_secondaryweapon_acc}" title="Total Accuracy" readonly="readonly" />
                            <input type="hidden" name='attr_offAccMeter' class="battleMeter" value="@{attr_offAccMeter}" />
                            <div class="battleGauge offAccGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustACC">
                                    +
                                    <span name='attr_accadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatACC">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule  hoverEVA">
                            <b>Eva</b><input name="attr_secondaryweapon_eva" value="@{attr_secondaryweapon_eva}" title="Total Evasion" readonly="readonly" />
                            <input type="hidden" name='attr_offEvaMeter' class="battleMeter" value="@{attr_offEvaMeter}" />
                            <div class="battleGauge offEvaGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustEVA">
                                    +
                                    <span name='attr_evaadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatEVA">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule  hoverSTRESS">
                            <b>Stress</b><input name="attr_secondaryweapon-stress" value="@{attr_secondaryweapon-stress}" title= "Stress" readonly="readonly" />
                            <input type="hidden" name='attr_offStressMeter' class="battleMeter" value="@{attr_offStressMeter}" />
                            <div class="battleGauge offStressGauge"></div>
                        </div>
                        <div class="battleCapsule  hoverDUR">
                            <b>Dur</b><input name="attr_secondaryweapon-rem-dur" value="@{attr_secondaryweapon-rem-dur}" title="Remaining Durability" readonly="readonly" />
                            <input type="hidden" name='attr_offDurMeter' class="battleMeter" value="@{attr_offDurMeter}" />
                            <div class="battleGauge offDurGauge"></div>
                        </div>
                        <div class="battleCapsule  hoverGUARD">
                            <b>GG</b><input name="attr_secondaryweapon_gg" value="@{attr_secondaryweapon_gg}" title="Total Guard Gauge" readonly="readonly" />
                            <input type="hidden" name='attr_offGGMeter' class="battleMeter" value="@{attr_offGGMeter}" />
                            <div class="battleGauge offGuardGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustGG">
                                    +
                                    <span name='attr_ggadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatGG">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule  hoverGUARDD">
                            <b>GD</b><input name="attr_secondaryweapon_gd" value="@{attr_secondaryweapon_gd}" title="Guard Damage" readonly="readonly" />
                            <input type="hidden" name='attr_offGDMeter' class="battleMeter" value="@{attr_offGDMeter}" />
                            <div class="battleGauge offGuardDGauge"></div>
                        </div>
                        <!--<b>Type:</b><input name="attr_primaryweapon-type" value="@{attr_primaryweapon-type}" title="Weapon Type" readonly="readonly" class="battleDisplay"/>-->
                        <br>
                    
                    </div>
                    <div class='dualweapon'>
                        <input type="hidden" name="attr_weapon-toggle" class="weapon-toggle" value="primary"/>
                        
                        <button type="action" name="act_primary-toggle" class='iconbutton mainhandIcon'></button>
                        <button type="action" name="act_secondary-toggle" class='iconbutton offhandIcon'></button>
                        <button type="action" name="act_dual-toggle" class='iconbutton dualhandIcon'></button>
                        <button type="action" name="act_ranged-toggle" class='iconbutton secondaryIcon'></button>
                        <button type="action" name="act_unarmed-toggle" class='iconbutton unarmedIcon'></button>
                        <br><br>
                        
                        <button type='roll' style="font-size: 24px;" title="Off Hand Weapon"
                        value="&{template:default}{{name=Melee}}{{Wielding=@{primaryweapon} & @{secondaryweapon}}}{{Employing=@{weapon_style}}}{{Hits=[[floor([[(@{dualweapon_acc}+@{accadjust}-?{Target's Evasion})/100]])]]}}{{Extra Hits=[[{ceil([[([[(@{dualweapon_acc}+@{accadjust}-?{Target's Evasion})%100]]-[[1d100]])/100]])}]]}}{{Base=(@{dualweapon_base}+@{baseadjust})(+@{dualweapon-positive-scaling}/-@{dualweapon-negative-scaling})}}{{Total Damage=[[([[floor([[(@{dualweapon_acc}+@{accadjust}-?{Target's Evasion})/100]])]]+[[{ceil([[([[(@{dualweapon_acc}+@{accadjust}-?{Target's Evasion})%100]]-[[1d100]])/100]])}]])*{[[([[@{dualweapon_base}]]+({([[@{power}]]-[[?{Target's Endurance|0|1|2|3|4|5|6|7|8|9|10}]]),0}kh1*[[@{dualweapon-positive-scaling}]])+({([[@{power}]]-[[?{Target's Endurance}]]),0}kl1*[[@{dualweapon-negative-scaling}]]))]],0}kh1]]}}"
                        class="battleDisplay">
                            <span name='attr_primaryweapon'></span> & <span name='attr_secondaryweapon'></span>
                        </button>
                        <br>
                        <input name="attr_weapon_style" value="@{attr_weapon_style}" title="Current Style" readonly="readonly" class="battleDisplay"/>
                        <br>
                        <br>
                        <!--<b>Comp:</b><input name="attr_style-types" value="@{attr_style-types}" title="Style Compatibility" readonly="readonly" class="battleDisplay"/>-->
                        <!--<br>-->
                        <div class="battleCapsule hoverBASE">
                            <b>Base</b><input name="attr_dualweapon_base" value="@{attr_dualweapon_base}" title="Base Damage" readonly="readonly" />
                            <input type="hidden" name='attr_dualBaseMeter' class="battleMeter" value="@{attr_dualBaseMeter}" />
                            <div class="battleGauge dualBaseGauge"></div>
                            <div class="battleCapsuleAdjustor" >
                                <button class='battleAdjustor' type="action" name="act_adjustBASE">
                                    +
                                    <span name='attr_baseadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatBASE">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule">
                            <b>Scaling</b><input name="attr_dualweapon-scaling" value="@{attr_dualweapon-scaling}" title= "Scaling (+)/(-)" readonly="readonly" />
                        </div>
                        <div class="battleCapsule hoverACC">
                            <b>Acc</b><input name="attr_dualweapon_acc" value="@{attr_dualweapon_acc}" title="Total Accuracy" readonly="readonly" />
                            <input type="hidden" name='attr_dualAccMeter' class="battleMeter hoverACC" value="@{attr_dualAccMeter}" />
                            <div class="battleGauge dualAccGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustACC">
                                    +
                                    <span name='attr_accadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatACC">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule hoverEVA">
                            <b>Eva</b><input name="attr_dualweapon_eva" value="@{attr_dualweapon_eva}" title="Total Evasion" readonly="readonly" />
                            <input type="hidden" name='attr_dualEvaMeter' class="battleMeter" value="@{attr_dualEvaMeter}" />
                            <div class="battleGauge dualEvaGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustEVA">
                                    +
                                    <span name='attr_evaadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatEVA">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule hoverSTRESS">
                            <b>Stress</b><input name="attr_dualweapon-stress" value="@{attr_dualweapon-stress}" title= "Stress" readonly="readonly" />
                            <input type="hidden" name='attr_dualStressMeter' class="battleMeter" value="@{attr_dualStressMeter}" />
                            <div class="battleGauge dualStressGauge"></div>
                        </div>
                        <div class="battleCapsule hoverGUARD">
                            <b>GG</b><input name="attr_dualweapon_gg" value="@{attr_dualweapon_gg}" title="Total Guard Gauge" readonly="readonly" />
                            <input type="hidden" name='attr_dualGGMeter' class="battleMeter" value="@{attr_dualGGMeter}" />
                            <div class="battleGauge dualGuardGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustGG">
                                    +
                                    <span name='attr_ggadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatGG">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule hoverGUARDD">
                            <b>GD</b><input name="attr_dualweapon_gd" value="@{attr_dualweapon_gd}" title="Guard Damage" readonly="readonly" />
                            <input type="hidden" name='attr_dualGDMeter' class="battleMeter" value="@{attr_dualGDMeter}" />
                            <div class="battleGauge dualGuardDGauge"></div>
                        </div>
                        <!--<b>Type:</b><input name="attr_primaryweapon-type" value="@{attr_primaryweapon-type}" title="Weapon Type" readonly="readonly" class="battleDisplay"/>-->
                        <!--<div class="battleBar">-->
                        <!--    <input type="hidden" name='attr_dualDurMeter' class="battleMeter" value="@{attr_dualDurMeter}" />-->
                        <!--    <div class="battleGauge dualDurGauge"></div>-->
                        <!--</div>-->
                        <br>
                    </div>
                    <div class='rangedweapon'>
                        <input type="hidden" name="attr_weapon-toggle" class="weapon-toggle" value="primary"/>
                        
                        <button type="action" name="act_primary-toggle" class='iconbutton mainhandIcon'></button>
                        <button type="action" name="act_secondary-toggle" class='iconbutton offhandIcon'></button>
                        <button type="action" name="act_dual-toggle" class='iconbutton dualhandIcon'></button>
                        <button type="action" name="act_ranged-toggle" class='iconbutton secondaryIcon'></button>
                        <button type="action" name="act_unarmed-toggle" class='iconbutton unarmedIcon'></button>
                        <br><br>
                        
                        <button type='roll' style="font-size: 24px;" title="Ranged Weapon"
                        value="&{template:default}{{name=Ranged}}{{Wielding=@{rangedweapon}}}{{Base=@{ranged_base}(+@{ranged_pscaling}/-@{ranged_nscaling})}}{{Total Damage=[[[[@{ranged_hits}]]*{[[{[[([[@{ranged_base}]]+({([[?{Ranged Power|0|1|2|3|4|5|6|7|8|9|10}]]-[[?{Target's Endurance|0|1|2|3|4|5|6|7|8|9|10}]]),0}kh1*[[@{ranged_pscaling}]])+({([[?{Ranged Power}]]-[[?{Target's Endurance}]]),0}kl1*[[@{ranged_nscaling}]]))]],0}kh1]]}]]}}"                    
                        class='battleDisplay'>
                            <span name='attr_rangedweapon'></span>
                    
                        </button>
                        <br>
                        <br>
                        
                        <div class="battleCapsule">
                            <b>Base</b><input name="attr_ranged_base" value="@{attr_ranged_base}" title="Base Damage" readonly="readonly" />
                        </div>
                        <div class="battleCapsule">
                            <b>Scaling</b><input name="attr_ranged_scaling" value="@{attr_ranged_scaling" title= "Scaling (+)/(-)" readonly="readonly" />
                        </div>
                        <div class="battleCapsule">
                            <b>Hits</b><input name="attr_ranged_hits" value="@{attr_ranged_hits}" title="Number of hits" readonly="readonly" />
                        </div>
                        <div class="battleCapsule">
                            <b>Stress</b><input name="attr_ranged_stress" value="@{attr_ranged_stress}" title="Stress Tolerance" readonly="readonly" />
                        </div>
                        <br>
                    </div>
                    <div class='handtohandweapon'>
                        <input type="hidden" name="attr_weapon-toggle" class="weapon-toggle" value="primary"/>
                        <input type='hidden' name="attr_combat_style" value="@{attr_combat_style}" />
                        
                        <button type="action" name="act_primary-toggle" class='iconbutton mainhandIcon'></button>
                        <button type="action" name="act_secondary-toggle" class='iconbutton offhandIcon'></button>
                        <button type="action" name="act_dual-toggle" class='iconbutton dualhandIcon'></button>
                        <button type="action" name="act_ranged-toggle" class='iconbutton secondaryIcon'></button>
                        <button type="action" name="act_unarmed-toggle" class='iconbutton unarmedIcon'></button>
                        <br><br>
                        
                        <button type='roll' style="font-size: 24px;" title="Unarmed Attack"
                        value="&{template:default}{{name=Melee}}{{Wielding=Unarmed}}{{Employing=@{combat_style}}}{{Hits=[[floor([[(@{combat_acc}-?{Target's Evasion})/100]])]]}}{{Extra Hits=[[{ceil([[([[(@{combat_acc}-?{Target's Evasion})%100]]-[[1d100]])/100]])}]]}}{{Base=@{combat_base}(+@{combat_base}/-5)}}{{Total Damage=[[([[floor([[(@{combat_acc}-?{Target's Evasion})/100]])]]+[[{ceil([[([[(@{combat_acc}-?{Target's Evasion})%100]]-[[1d100]])/100]])}]])*{[[([[@{combat_base}]]+({([[@{power}]]-[[?{Target's Endurance|0|1|2|3|4|5|6|7|8|9|10}]]),0}kh1*[[@{combat_base}]])+({([[@{power}]]-[[?{Target's Endurance}]]),0}kl1*5))]],0}kh1]]}}"
                    
                        class='battleDisplay'>
                            <span name="attr_combat_style"></span>
                        </button>
                        <br><br>
                    
                        <div class="battleCapsule hoverBASE">
                            <b>Base</b><input name="attr_combat_base" value="@{attr_combat_base}" title="Base Damage" readonly="readonly" />
                            <input type="hidden" name='attr_unarmedBaseMeter' class="battleMeter" value="@{attr_unarmedBaseMeter}" />
                            <div class="battleGauge unarmedBaseGauge"></div>
                        </div>
                        <div class="battleCapsule">
                            <b>Scaling</b><input name="attr_combat_scaling" value="@{attr_combat_scaling}" title= "Scaling (+)/(-)" readonly="readonly" />
                        </div>
                        <div class="battleCapsule hoverACC">
                            <b>Acc</b><input name="attr_combat_acc" value="@{attr_combat_acc}" title="Total Accuracy" readonly="readonly" />
                            <input type="hidden" name='attr_unarmedAccMeter' class="battleMeter" value="@{attr_unarmedAccMeter}" />
                            <div class="battleGauge unarmedAccGauge"></div>
                        </div>
                        <div class="battleCapsule hoverEVA">
                            <b>Eva</b><input name="attr_combat_eva" value="@{attr_combat_eva}" title="Total Evasion" readonly="readonly" />
                            <input type="hidden" name='attr_unarmedEvaMeter' class="battleMeter" value="@{attr_unarmedEvaMeter}" />
                            <div class="battleGauge unarmedEvaGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustEVA">
                                    +
                                    <span name='attr_evaadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatEVA">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule hoverGUARD">
                            <b>GG</b><input name="attr_combat_gg" value="@{attr_combat_gg}" title="Total Guard Gauge" readonly="readonly" />
                            <input type="hidden" name='attr_unarmedGGMeter' class="battleMeter" value="@{attr_unarmedGGMeter}" />
                            <div class="battleGauge unarmedGuardGauge"></div>
                            <div class="battleCapsuleAdjustor">
                                <button class='battleAdjustor' type="action" name="act_adjustGG">
                                    +
                                    <span name='attr_ggadjust' class='battleAdjustor' placeholder='0'></span>
                                </button>
                                <button class='battleAdjustor' type="action" name="act_flatGG">&#x2022</button>
                            </div>
                        </div>
                        <div class="battleCapsule hoverGUARDD">
                            <b>GD</b><input name="attr_combat_gd" value="@{attr_combat_gd}" title="Guard Damage" readonly="readonly" />
                            <input type="hidden" name='attr_unarmedGDMeter' class="battleMeter" value="@{attr_unarmedGDMeter}" />
                            <div class="battleGauge unarmedGuardDGauge"></div>
                        </div>
                        
                        <br>
                    </div>
                    <div class="battleBar">
                        <button type="action" name="act_combomenu" class="semi" id="comboButton">INITIATE COMBO!</button>
                    </div>
                </div>
            </div>
            <!--************************************** DEFENSES ******************************-->
            <div class='defense-arts menuborder-secondary' style=" border-radius: 3%;">
                <span style="font-size: 20px; color: deeppink;" class="label-general">D E F E N C E S</span>
                <input type='checkbox' name='attr_defense'><span>Defensive</span>
                <div>
                    <br>
                    <input type="hidden" name="attr_weapon_gg" />
                    <input type='hidden' name='attr_blockToggle' />
                    
                    <button class="iconbutton weaponArtsIcon" type="action" name="act_weaponguardtoggle" ></button>
                    <button class="iconbutton combatArtsIcon" type="action" name="act_combatguardtoggle" ></button>
                    <br>
                    <input type="hidden" name="attr_curWGG" value="@{attr_curWGG}" />
                    <input type="hidden" name="attr_curWGR" value="(100)-(@{bonusGR})" />
                    <input type='hidden' name='attr_totalWGG' valu="attr_totalWGG" />
                    <br>
                    <button type="action" name="act_weaponBlock" class="semi weaponGGMeter">
                        BLOCK
                        <!--(<span name='attr_curWGR'></span>)-->
                        </button>
                    
                    <input type="hidden" name="attr_curCGG" value="@{attr_curCGG}" />
                    <input type='hidden' name="attr_curCGR" value="(100)-(@{bonusGR})" />
                    <input type='hidden' name='attr_totalCGG' valu="attr_totalCGG" />
                    <button type="action" name="act_combatBlock" class="semi combatGGMeter">
                        BLOCK
                        <!--(<span name='attr_curCGR'></span>)-->
                        </button>
                    
                    <span class='combatGGMeter character-inputs'>
                        <span name="attr_curCGG" ></span>
                        /
                        <span name='attr_totalCGG' ></span>
                    </span>
                    <span class='weaponGGMeter character-inputs'>
                        <span name="attr_curWGG" ></span>
                        /
                        <span name="attr_totalWGG"></span></span>
                    <br>    
                    <span >Hits Blocked: <input type='text' name="attr_blockedHits" value='@{attr_blockedHits}' readonly='readonly' style="width: 45px;" class="character-inputs"/></span>
                    <span >Armor: <input type='text' name="attr_armor-current-dur" value='@{attr_armor-current-dur}' readonly='readonly' style="width: 75px;" class="character-inputs"/></span>
                
                </div>
                
                <!--<input type="hidden" name="attr_guardWarningW">-->
                <!--<input type="hidden" name="attr_guardWarningC">-->
                
                <!--<span style="color: deeppink" name="attr_guardWarningC"></span>-->
                <!--<span style="color: deeppink" name="attr_guardWarningW"></span>-->
                <!--<br>-->
                
                <span style="color: deeppink" name="attr_defactionW"></span>
                
                <input type="hidden" name="attr_defenseType" class="defenseType-toggle" value="energy">
                <!--<span style="font-size: 15px; color: deeppink;" >Actions:</span>-->
                <br>
                <button type="action" name="act_energyDef-toggle" class='semi defEnBtn'>Energy</button>
                <button type="action" name="act_armorDef-toggle" class='semi defArBtn'>Armor</button>
                
                
                <div class="EnergyDefenses">
                    
                    <input type="hidden" class="defensive-technique-defend" name="attr_defend" value="">
                    <input type="hidden" class="defensive-technique-phasestep" name="attr_phasestep" value="">
                    <input type="hidden" class="defensive-technique-phasejump" name="attr_phasejump" value="">
                    <input type="hidden" class="defensive-technique-absorb" name="attr_absorb" value="">
                    <input type="hidden" class="defensive-technique-reflect" name="attr_reflect" value="">
                    <input type="hidden" class="defensive-technique-barrier" name="attr_barrier" value="">
                    <input type="hidden" class="defensive-technique-cutter" name="attr_cutter" value="">
    
                    
                    <div class="defend">
                        <span>Reduce Damage by 30%.</span>
                        <br>
                        <button type="action" name="act_Defend" class='semi'>Defend</button>
                    </div>
                    <div class="phasestep">
                        <span>Evades one Attack while grounded.</span>
                        <br>
                        <button type="action" name="act_PhaseStep" class="semi">Phase Step</button>
                    </div>
                    <div class="phasejump">
                        <span>Evades one Attack while airborne.</span>
                        <br>
                        <button type="action" name="act_PhaseJump" class="semi">Phase Jump</button>
                    </div>
                    <div class="reflect">
                        <span>Deflects one Projectile.</span>
                        <br>
                        <button type="action" name="act_Reflect" class="semi">Reflect</button>
                    </div>
                    <div class="absorb">
                        <span>Absorb one Manna-based Projectile.</span>
                        <br>
                        <button type="action" name="act_Absorb" class="semi">Absorb</button>
                    </div>
                    <div class="barrier">
                        <span>Blocks 30% Damage within SMALL AoE.</span>
                        <br>
                        <button type="action" name="act_Barrier" class="semi">Barrier</button>
                    </div>
                    <div class="cutter">
                        <span>Destroys one Manna-based Projectile or Barrier.</span>
                        <br>
                        <button type="action" name="act_Cutter" class="semi" >Manna Cutter</button>
                    </div>
                </div>
               
                <div class="ArmorDefenses">
                    <input type="hidden" class="defensive-module1" name="attr_mod1" value="">
                    <input type="hidden" class="defensive-module2" name="attr_mod2" value="">
                    <input type="hidden" class="defensive-module3" name="attr_mod3" value="">
                    <input type="hidden" class="defensive-module4" name="attr_mod4" value="">
                    <input type="hidden" class="defensive-module5" name="attr_mod5" value="">
                    
                    
                    <div class="armor1">
                        <span name="attr_mod1" style="text-align: left;"></span>
                        <br>
                        <button type="action" name="act_activate-1" class="semi"><span name='attr_modtitle1'></span></button>
                        <input type="hidden" name="attr_modcost1" value="">
                        <input type="hidden" name="attr_modmax1" value="">
                        <input type="hidden" name='attr_modtitle1' value="" >
                        <input type="hidden" name="attr_mod-cd1" value="" class="cooldown">
                        <br>
                        <div class="cooldown"></div>
                    </div>
                    <div class="armor2">
                        <span name="attr_mod2" style="text-align: left;"></span>
                        <br>
                        <button type="action" name="act_activate-2" class="semi"><span name='attr_modtitle2'></span></button>
                        <input type="hidden" name="attr_modcost2" value="">
                        <input type="hidden" name="attr_modmax2" value="">
                        <input type="hidden" name='attr_modtitle2' value="" >
                        <input type="hidden" name="attr_mod-cd2" value="" class="cooldown">
                        <br>
                        <div class="cooldown"></div>
                    </div>
                    <div class="armor3">
                        <span name="attr_mod3" style="text-align: left;"></span>
                        <br>
                        <button type="action" name="act_activate-3" class="semi"><span name='attr_modtitle3'></span></button>
                        <input type="hidden" name="attr_modcost2" value="">
                        <input type="hidden" name="attr_modmax3" value="">
                        <input type="hidden" name='attr_modtitle3' value="" >
                        <input type="hidden" name="attr_mod-cd3" value="" class="cooldown">
                        <br>
                        <div class="cooldown"></div>
                    </div> 
                    <div class="armor4">
                        <span name="attr_mod4" style="text-align: left;"></span>
                        <br>
                        <button type="action" name="act_activate-4" class="semi"><span name='attr_modtitle4'></span></button>
                        <input type="hidden" name="attr_modcost4" value="">
                        <input type="hidden" name="attr_modmax4" value="">
                        <input type="hidden" name='attr_modtitle4' value="" >
                        <input type="hidden" name="attr_mod-cd4" value="" class="cooldown">
                        <br>
                        <div class="cooldown"></div>
                    </div>  
                    <div class="armor5">
                        <span name="attr_mod5" style="text-align: left;"></span>
                        <br>
                        <button type="action" name="act_activate-5" class="semi"><span name='attr_modtitle5'></span></button>
                        <input type="hidden" name="attr_modcost5" value="">
                        <input type="hidden" name="attr_modmax5" value="">
                        <input type="hidden" name='attr_modtitle5' value="" >
                        <input type="hidden" name="attr_mod-cd5" value="" class="cooldown">
                        <br>
                        <div class="cooldown"></div>
                    </div>     
                </div>
                
            </div>
            
        </div>
    </div>

    <div class='passives' id="tab10">
        <input type='hidden' name='attr_personality' value='Normal' />
        <span class="label-general">PASSIVES||Personality - <span name='attr_personality' style='color: white'></span></span>
        <br>
        <span class="label-general">
            ||Energy Techniques
            <input type=radio name='attr_passiveSetting' checked value='passivetech' />
            ||Personalities
            <input type=radio name='attr_passiveSetting' value='personalities' />
            ||Character
            <input type=radio name='attr_passiveSetting' value='nodes' />
        </span>
        <div class='menuborder'>
            <input type='hidden' name='attr_passiveSetting' />
            <div class='passSlot1'>
                <div style="display: inline">
                    <input type="hidden" name='attr_peSlot' id="peList" />
                    <button type="action" name="act_pe_slot1" class='semi' id="tab1">1</button>
                    <button type="action" name="act_pe_slot2" class='semi' id="tab2">2</button>
                    <button type="action" name="act_pe_slot3" class='semi' id="tab3">3</button>
                </div>
                <div>
                    <input type='hidden' name='attr_peSlot' value='1' id="peList" />
                    <span class="label-general">TECHS</span>
                    <div class='pe1'>
                        <fieldset class="repeating_passives">
                            <input type='text' name='attr_passive-name' title='Name' placeholder="Name" class='passiveInput'/>
                            <br>
                            <span>Type: </span>
                            <select name='attr_passive-energytype' class='EtechDD'>
                                <option>General</option>
                                <option>Mental</option>
                                <option>Body</option>
                                <option>Spirit</option>
                                <option>Memory</option>
                                <option>Necro</option>
                                <option>Demonic</option>
                            </select>
                            <span>Requirement: </span>
                            <select name='attr_passive-requirement' class='EtechDD'>
                                <option selected >0</option>
                                <option>5</option>
                                <option>10</option>
                                <option>15</option>
                                <option>20</option>
                                <option>25</option>
                                <option>30</option>
                                <option>35</option>
                                <option>40</option>
                                <option>45</option>
                                <option>50</option>
                                <option>55</option>
                                <option>60</option>
                                <option>65</option>
                                <option>70</option>
                                <option>75</option>
                                <option>80</option>
                                <option>85</option>
                                <option>90</option>
                                <option>95</option>
                                <option>100</option>
                            </select>
                            <textarea name="attr_passive-text" placeholder="description" class='passiveText'></textarea>
                            <br>
                        </fieldset>
                    </div>
                    <div class='pe2'>
                        <fieldset class="repeating_passives2">
                            <input type='text' name='attr_passive-name' title='Name' placeholder="Name" class='passiveInput'/>
                            <br>
                            <span>Type: </span>
                            <select name='attr_passive-energytype' class='EtechDD'>
                                <option>General</option>
                                <option>Mental</option>
                                <option>Body</option>
                                <option>Spirit</option>
                                <option>Memory</option>
                                <option>Necro</option>
                                <option>Demonic</option>
                            </select>
                            <span>Requirement: </span>
                            <select name='attr_passive-requirement' class='EtechDD'>
                                <option selected >0</option>
                                <option>5</option>
                                <option>10</option>
                                <option>15</option>
                                <option>20</option>
                                <option>25</option>
                                <option>30</option>
                                <option>35</option>
                                <option>40</option>
                                <option>45</option>
                                <option>50</option>
                                <option>55</option>
                                <option>60</option>
                                <option>65</option>
                                <option>70</option>
                                <option>75</option>
                                <option>80</option>
                                <option>85</option>
                                <option>90</option>
                                <option>95</option>
                                <option>100</option>
                            </select>
                            <textarea name="attr_passive-text" placeholder="description" class='passiveText'></textarea>
                            <br>
                        </fieldset>
                    </div>
                    <div class='pe3'>
                        <fieldset class="repeating_passives3">
                            <input type='text' name='attr_passive-name' title='Name' placeholder="Name" class='passiveInput'/>
                            <br>
                            <span>Type: </span>
                            <select name='attr_passive-energytype' class='EtechDD'>
                                <option>General</option>
                                <option>Mental</option>
                                <option>Body</option>
                                <option>Spirit</option>
                                <option>Memory</option>
                                <option>Necro</option>
                                <option>Demonic</option>
                            </select>
                            <span>Requirement: </span>
                            <select name='attr_passive-requirement' class='EtechDD'>
                                <option selected >0</option>
                                <option>5</option>
                                <option>10</option>
                                <option>15</option>
                                <option>20</option>
                                <option>25</option>
                                <option>30</option>
                                <option>35</option>
                                <option>40</option>
                                <option>45</option>
                                <option>50</option>
                                <option>55</option>
                                <option>60</option>
                                <option>65</option>
                                <option>70</option>
                                <option>75</option>
                                <option>80</option>
                                <option>85</option>
                                <option>90</option>
                                <option>95</option>
                                <option>100</option>
                            </select>
                            <textarea name="attr_passive-text" placeholder="description" class='passiveText'></textarea>
                            <br>
                        </fieldset>
                    </div>
                </div>
            </div>
            <div class='passSlot2'>
                <fieldset class="repeating_personalities">
                    <span class="label-general">Personalities</span><br>
                    <input type='text' name='attr_person' title='Name' placeholder="Name" class='passiveInput'/>
                    <br>
                    <input type='text' name='attr_origin' title='Origin' placeholder="Origin" class='passiveInput'/>
                    <br>
                    <button type='action' name='act_disassociate' class='semi'>DISASSOCIATE...</button>
                    <span>Nature: </span>
                    <select name='attr_personality-type' class='EtechDD'>
                        <option>Negative</option>
                        <option>Positive</option>
                        <option>Unknown</option>
                    </select>
                    <span>Association: </span>
                    <select name='attr_association' class='EtechDD'>
                        <option value='1' selected>Discipline</option>
                        <option value='2'>Resistance</option>
                        <option value='3'>Resistance OR Discipline</option>
                        <option value='4'>Dis + Resistance</option>
                    </select>
                    <span>Threshold: </span>
                    <input type='number' name='attr_threshold' placeholder=0 title='threshold' min=0 class='passiveNumber'/>
                    <br>
                    
                    <textarea name="attr_passive-text" placeholder="Trigger & Effects" class='passiveText'></textarea>
                    <br>
                </fieldset>
            </div>
            <div class='passSlot3'>
                <fieldset class="repeating_passives">
                    <br>
                    <span class="label-general">Traits, Curses, etc.</span>
                    <textarea name="attr_passive-text" placeholder="List Passive Traits" class='passiveText' style='height: 90%; width: 90%'></textarea>
                </fieldset>
            </div>
        </div>
    </div>

    <div class='inventory' id="tab5">
        <span class="label-general">INVENTORY</span><br>
        <div class='menuborder' style='text-align: center'>
            <fieldset class="repeating_inventory">
                
                    <input type='text' name='attr_inventory-name' title='Page Title' placeholder="Item Page Title" class='passiveInput' />
                    <!--<input type='text' name='attr_inventory-quantity' title='Quantity of Item' placeholder="Quantity"  class='passiveInput'/>-->
                    <!--<input type='text' name='attr_inventory-mental-mass' title='Mental Weight' placeholder="Mental Mass"  class='passiveInput'/>-->
                    <textarea name="attr_inventory-text" placeholder="description" style='width: 95%; height: 35%'></textarea>
                    <br>
            </fieldset>
        </div>
    </div>

    <div class='equipment' id="tab3">
        <div class='dualcell'>
            <div class='cell'>
                <span class="label-general">W E A P O N S</span><br>
                <div class='menuborder-secondary' style='padding:  15px; margin:  10px; text-align: center;'>
                    <fieldset class="repeating_weapons">
                    
                        <button type="action" name="act_equip-primaryweapon" class='semi'>Equip: Main Hand</button>
                        <button type="action" name="act_equip-secondaryweapon" class='semi'>Equip: Off-Hand</button>
                        <button type="action" name="act_equip-rangedweapon" class='semi'>Equip: Secondary</button>
                        <input type='hidden' name='attr_weapon-primarywarning' value='' />
                        <input type='hidden' name='attr_weapon-secondarywarning' value='' />
                        <input type='hidden' name='attr_weapon-rangedwarning' value='' />
                        
                        <span style="color: deeppink" name='attr_weapon-secondarywarning'></span>
                        <span style="color: deeppink" name='attr_weapon-primarywarning'></span>
                        <span style="color: deeppink" name='attr_weapon-rangedwarning'></span>
                        <br>
                        <br>
                        <div class="input-container">
                            <span class="input-icon"></span><b>Name:</b><input style="width: 60%" type='text' name='attr_weapon-name' value='' title="Weapon Name" placeholder="Name" class="entry-inputs"/>
                        </div>
                        <div class="input-container">
                            <span class="input-icon"></span><b>Req:</b><input type='text' name='attr_weapon-req' value='' title="constitution Requirement" placeholder="Req" class="entry-inputs"/>
                            <input type="radio" name="attr_reqtype" value="Con" checked="checked"><span>Con</span>
                        <input type="radio" name="attr_reqtype" value="Tech"><span>Tech</span>
                        <input type="radio" name="attr_reqtype" value="MTech"><span>M.Tech</span>
                        </div>
                        <div class="input-container">
                            <span class="input-icon"></span><b>Base:</b><input type='text' name='attr_weapon-base' value='' title="Base Damage" placeholder="Base" class="entry-inputs"/>
                            <b>Acc:</b><input type='text' name='attr_weapon-acc' value='' title="Accuracy" placeholder="Accuracy Rating" class="entry-inputs"/>
                        </div>
                        <div class="input-container">
                            <span class="input-icon"></span>
                            <b>+ Scale:</b><input type='text' name='attr_weapon-pscaling' value='' title="+ Scaling" placeholder="Positive Scaling" class="entry-inputs"/>
                            <b>- Scale:</b><input type='text' name='attr_weapon-nscaling' value='' title="- Scaling" placeholder="Negative Scaling" class="entry-inputs"/>
                        </div>
                        <div class="input-container">
                            <span class="input-icon"></span><b>Stress:</b><input type='text' name='attr_weapon-stress' value='' title="Stress Tolerance" placeholder="Stress Rating" class="entry-inputs"/>
                            <b>Dur:</b><input type='text' name='attr_weapon-current-dur' value='' title="Remaining Durability" placeholder="Current Durability" class="entry-inputs"/>
                            
                            <b>/</b><input type='text' name='attr_weapon-maximum-dur' value='' title="Max Durability" placeholder="Durability MAX" class="entry-inputs"/>
                        </div>
                        <br>
                        <b>Demonic:</b><select class='equipmentDD'>
                        <option value="true">YES</option>
                        <option value="false" selected>NO</option>
                        </select>
                        
                        <b>Type:</b><select name = "attr_weapon-type" title="Weapon Type" placeholder="Type" class='equipmentDD'>
                            <option value='S'>Small (S)</option>
                            <option value='H'>1-handed (H)</option>
                            <option value='P'>Polearm (P)</option>
                            <option value='HH'>2-Handed (HH)</option>
                            <option value='U'>Unorthedox (U)</option>
                            <option value='SH'>Shield (SH)</option>
                        </select>
                
                        <textarea name="attr_weapon-effects" style='width:  85%; height: 50%;' placeholder="description"></textarea>
                        <br>
                </fieldset>
                </div>
            </div>
            <div class='cell'>
                <span class="label-general">A R M O R</span><br>
                <div class='menuborder-secondary' style='padding:  15px; margin:  10px; text-align: center'>
                    <button type="action" name="act_equip-armor" class='semi'>Equip</button>
                    <br>
                    <input type='hidden' name='attr_armor-equipwarning' value='' />
                    <span style='color: deeppink' name='attr_armor-equipwarning'></span>
                    <br>
                    <div class="input-container">
                        <span class="input-icon"></span><b>Name:</b><input style="width: 60%" type='text' name='attr_armor-name' value='' title="Weapon Name" placeholder="Name" class="entry-inputs"/>
                    </div>
                    <div class="input-container">
                        <span class="input-icon"></span>
                        <b>Dur:</b><input type='text' name='attr_equippedarmor-current-dur' value='' title="Remaining Durability" placeholder="Remaining Durability" class="entry-inputs"/>
                        <b>/</b><input type='text' name='attr_armor-max-dur' value='' title="Max Durability" placeholder="Max Durability" class="entry-inputs"/>
                    </div>
                    <div class="input-container">
                        <span class="input-icon"></span>
                        <b>Base TTT :</b><input type='text' name='attr_armor-basettt' value='' title="Turn to Turn (TTT) Cost" placeholder="TTT" class="entry-inputs"/>
                        <b>Total TTT :</b><input type='text' name='attr_armor-totalttt' value='' title="Total (TTT) Cost" placeholder="Combined Turn to Turn (TTT) Cost" readonly="readonly" class="entry-inputs"/>
                    </div>
                    <div class="input-container">
                        <span class="input-icon"></span>
                        <b>Disrutpion:</b><input type='text' name='attr_armor-disruption' value='' title="Disruption Resistance" placeholder="Disruption" class="entry-inputs"/>
                        <b>Stress:</b><input type='text' name='attr_armor-stress' value='' title="Stress Tolerance" placeholder="Stress" class="entry-inputs"/>
                    </div>
                    <br>
                    <b>Demonic:</b><select name='attr_armor-demon' class='equipmentDD'>
                        <option value="true">YES</option>
                        <option value="false" selected>NO</option>
                    </select>
                    
        
                    <b>Armor Type:</b><select name="attr_armor-type" class='equipmentDD'>
                        <option value='A'>Assault</option>
                        <option value='V'>Vigilant</option>
                        <option value='C'>Caster</option>
                        <option value='U'>Unique</option>
                    </select>
                    <br>
                    <b>Effects:</b>
                        <textarea name="attr_armor-text" style='width: 95%; height: 35%;'></textarea>
                </div>
                <span class="label-general">M O D U L E S</span><br>
                <div class='menuborder'>
                    <fieldset class="repeating_armor"> 
                    <!--************ R A D I O S ******************-->
                        <div class="module">
                            <div class="mods">
                                <br>
                                <input type="hidden" class="moduletype-toggle" name="attr_module-type" value="assault" />
                                <b>Module Type - <span name="attr_module-type"></span> ||</b>
                                
                                    
                                <button type="action" name="act_module-assault" class="mod mod-1">
                                    <span class="checked"></span>
                                </button>
                                <button type="action" name="act_module-vigilant" class="mod mod-2">
                                    <span class="checked"></span>
                                </button>
                                <button type="action" name="act_module-caster" class="mod mod-3">
                                    <span class="checked"></span>
                                </button>
                                <button type="action" name="act_module-universal" class="mod mod-4">
                                    <span class="checked"></span>
                                </button>
                                
                                <br>
                                <input type='hidden' name='attr_modwarning' value='' />
                                
                                <span style="color: deeppink" name='attr_modwarning'></span>
                                
                                <div class="assault" >
                                    <b>Mod: 
                                        <select name='attr_module-form' class='equipmentDD'>
                                            <option value='N'>None</option>
                                            <option value='XSB'>Speed Boost (EXCLUSIVE)</option>
                                            <option value='C'>Counterattack (Assault)</option>
                                            <option value='GR'>GG Regeneration (Assault)</option>
                                            <option value='GB'>GG Boost (Assault)</option>
                                            <option value='RA'>Repair Armor (Universal)</option>
                                            <option value='RH'>Restore Health (Universal)</option>
                                            <option value='DP'>Disruption Purge (Universal)</option>
                                        </select>
                                    </b>
                                    <b>Lv: 
                                    <select name="attr_module-level" class='equipmentDD' >
                                        <option value='1'>1</option>
                                        <option value='2'>2</option>
                                        <option value='3'>3</option>
                                        <option value='4'>4</option>
                                        <option value='5'>5</option>
                                        <option value='6'>6</option>
                                    </select>
                                </b>
                                </div>
                                <div class="vigilant">
                                    <b>Mod: 
                                        <select  name='attr_module-form' class='equipmentDD'>
                                            <option value='N'>None</option>
                                            <option value='XB'>Barrier (EXCLUSIVE)</option>
                                            <option value='XER'>Reconstitution (EXCLUSIVE)</option>
                                            <option value='EB'>Evasion Boost (Vigilant)</option>
                                            <option value='RS'>Recover Spirit (Vigilant)</option>
                                            <option value='NS'>Neutral Stress Relief (Vigilant)</option>
                                            <option value='RA'>Repair Armor (Universal)</option>
                                            <option value='RH'>Restore Health (Universal)</option>
                                            <option value='DP'>Disruption Purge (Universal)</option>
                                        </select>
                                    </b>
                                    <b>Lv: 
                                    <select name="attr_module-level" class='equipmentDD' >
                                        <option value='1'>1</option>
                                        <option value='2'>2</option>
                                        <option value='3'>3</option>
                                        <option value='4'>4</option>
                                        <option value='5'>5</option>
                                        <option value='6'>6</option>
                                    </select>
                                </b>
                                </div>
                                <div class="caster" >
                                    <b>Mod: 
                                        <select name='attr_module-form' class='equipmentDD'>
                                            <option value='N'>None</option>
                                            <option value='XJC'>Junction Cast (EXCLUSIVE)</option>
                                            <option value='XSC'>Spell Charge (EXCLUSIVE)</option>
                                            <option value='EG'>Enhanced Gather (Caster)</option>
                                            <option value='SR'>Saturation Replenish (Caster)</option>
                                            <option value='RA'>Repair Armor (Universal)</option>
                                            <option value='RH'>Restore Health (Universal)</option>
                                            <option value='DP'>Disruption Purge (Universal)</option>
                                        </select>
                                    </b>
                                    <b>Lv: 
                                    <select name="attr_module-level" class='equipmentDD' >
                                        <option value='1'>1</option>
                                        <option value='2'>2</option>
                                        <option value='3'>3</option>
                                        <option value='4'>4</option>
                                        <option value='5'>5</option>
                                        <option value='6'>6</option>
                                    </select>
                                </b>
                                </div>
                                <div class="universal">
                                    <b>Mod: 
                                        <select  name='attr_module-form' class='equipmentDD'>
                                            <option value='N'>None</option>
                                            <option value='C'>Counterattack (Assault)</option>
                                            <option value='GR'>GG Regeneration (Assault)</option>
                                            <option value='GB'>GG Boost (Assault)</option>
                                            <option value='EB'>Evasion Boost (Vigilant)</option>
                                            <option value='RS'>Recover Spirit (Vigilant)</option>
                                            <option value='NS'>Neutral Stress Relief (Vigilant)</option>
                                            <option value='EG'>Enhanced Gather (Caster)</option>
                                            <option value='SR'>Saturation Replenish (Caster)</option>
                                            <option value='RA'>Repair Armor (Universal)</option>
                                            <option value='RH'>Restore Health (Universal)</option>
                                            <option value='DP'>Disruption Purge (Universal)</option>
                                        </select>
                                    </b>
                                    <b>Lv: 
                                    <select name="attr_module-level" class='equipmentDD' >
                                        <option value='1'>1</option>
                                        <option value='2'>2</option>
                                        <option value='3'>3</option>
                                        <option value='4'>4</option>
                                        <option value='5'>5</option>
                                        <option value='6'>6</option>
                                    </select>
                                </b>
                                </div>
                               
                            </div>    
                            <b>Cost:</b><input type='text' name='attr_module-cost' value='' readonly="readonly" class='equipmentInput'/>
                            <b>Cooldown:</b><input type='text' name='attr_module-cooldown' value='' readonly="readonly" class='equipmentInput'/>
                            <b>TTT :</b><input type='text' name='attr_module-turn-to-turn' value='' readonly="readonly" class='equipmentInput'/>
                            <br>
                            <br>
                            <b>Effect:</b><input type='text' name="attr_module-effect" value='' readonly="readonly" class="equipmentEffect"/>
                            <input type='hidden' name='attr_module-title' value='' />
                        </div>
                        <br>
                    </fieldset>
                
                </div>
            </div>
        </div>
    </div>

    <div class='styles' id="tab4" >
        <div class='dualcell'>
            <div class='cell'>
                <span class="label-general">WEAPON STYLES</span><br>
                <div class='menuborder' style="text-align: center">
                    <fieldset class="repeating_weapon-styles">
                       <button type="action" name="act_equip-weapon-style" class='semi' style="width:90%;">Equip</button>
                        
                        <!--<input type="hidden" name="attr_weapon-style-warning" value='' />-->
                        <!--<span style="color: deeppink" name="attr_weapon-style-warning"></span>-->
                        <br>
                        <div class="input-container">
                            <span class="input-icon"></span><b>Style:</b><input type="text" name="attr_style-name" value='' style="width: 75%" title="Style" placeholder="Name" class="entry-inputs"/>
                        </div>
                        <div class="input-container">
                            <span class="input-icon"></span>
                            <b>Acc:</b><input type="text" name="attr_style-acc" value='' title="Accuracy" placeholder="--" class="entry-inputs"/>
                            <b>Eva:</b><input type="text" name="attr_style-eva" value='' title="Evasion" placeholder="--" class="entry-inputs"/>
                            <br>
                            <span class="input-icon"></span>
                            <b>GG:</b><input type="text" name="attr_style-gg" value='' title="Guard Gauge" placeholder="--" class="entry-inputs"/>
                            <b>GD:</b><input type="text" name="attr_style-gd" value='' title="Guard Damage" placeholder="--" class="entry-inputs"/>
                        </div>
                        <div class="input-container">
                            <span class="input-icon"></span>
                            <b>Req:</b><input type="text" name="attr_style-req" value='' title="Weapon Arts Requirement" placeholder="W.A." class="entry-inputs"/>
                            <b>Rank:</b><select name="attr_style-rank" type="text" placeholder="Rank" class='meleetechniquesDD'>
                                <option value='D'>D</option>
                                <option value='C'>C</option>
                                <option value='B'>B</option>
                                <option value='A'>A</option>
                                <option value='S'>S</option>
                            </select>
                        </div>
                        <div style="display: inline; font-size: x-small;">
                            <div style="display: inline-flex;">
                                <input type='checkbox' name='attr_style-S' value='S' title="Small (S)" />
                                <b for="Small">(S)</b>
                                <input type='checkbox' name='attr_style-H' value='H' title="1-Handed (H)" />
                                <b for="1-Handed">(H)</b>
                                <input type='checkbox' name='attr_style-SH' value='SH' title="Shield (SH)" />
                                <b for="Shield">(SH)</b>
                                <input type='checkbox' name='attr_style-U' value='U' title="Unorthedox (U)" />
                                <b for="Unorthedox">(U)</b>
                            </div>
                            <div style="display: inline-flex; font-size: x-small;">
                                <input type='checkbox' name='attr_style-SS' value='SS' title="Shield & Small (SS)" />
                                <b for="Shield & Small">(SS)</b>
                                <input type='checkbox' name='attr_style-D' value='D' title="Dual Wield (D)" />
                                <b for="Dual Wield">(D)</b>
                                <input type='checkbox' name='attr_style-P' value='P' title="Polearm (P)" />
                                <b for="Polearm">(P)</b>
                                <input type='checkbox' name='attr_style-PS' value='PS' title="Shield & Polearm (PS)" />
                                <b for="Shield & Polearm">(PS)</b>
                                <input type='checkbox' name='attr_style-HH' value='HH' title="2-Handed (HH)" />
                                <b for="2-Handed">(HH)</b>
                            </div>
                        </div>
                        <textarea name="attr_style-text" placeholder="Effects..." class='passiveText'></textarea>
                    </fieldset>
                </div>
            </div>
            <div class='cell'>
                <span class="label-general">COMBAT STYLES</span><br>
                <div class='menuborder' style="text-align: center">
                    <fieldset class="repeating_combat-styles">
                    
                        <button type="action" name="act_equip-combat-style" class='semi' style="width:90%;">Equip</button>
                        
                        <!--<input type='hidden' name='attr_combat-style-warning' value='' class="entry-inputs"/>-->
                        <!--<span style="color: deeppink" name='attr_combat-style-warning'></span>-->
                        <br>
                        <div class="input-container">
                            <span class="input-icon"></span><b>Style:</b><input type='text' name='attr_style-name' value='' style="width: 75%" title="Style" placeholder="Name" class="entry-inputs"/>
                        </div>
                        <div class="input-container">
                            <span class="input-icon"></span>
                            <b>Acc:</b><input type='text' name='attr_style-acc' value='' title="Accuracy" placeholder="--" class="entry-inputs"/>
                            <b>Eva:</b><input type='text' name='attr_style-eva' value='' title="Evasion" placeholder="--" class="entry-inputs"/>
                            <br>
                            <span class="input-icon"></span>
                            <b>GG:</b><input type='text' name='attr_style-gg' value='' title="Guard Gauge" placeholder="--" class="entry-inputs"/>
                            <b>GD:</b><input type="text" name="attr_style-gd" value='' title="Guard Damage" placeholder="--" class="entry-inputs"/>
                        </div>
                        <div class="input-container">
                            <span class="input-icon"></span>
                            <b>Req:</b><input type="text" name="attr_style-req" value='' title="Combat Arts Requirement" placeholder="C.A." class="entry-inputs"/>
                            <b>Rank:</b><select name="attr_style-rank" type="text" placeholder="Rank" class='meleetechniquesDD'>
                                <option value='D'>D</option>
                                <option value='C'>C</option>
                                <option value='B'>B</option>
                                <option value='A'>A</option>
                                <option value='S'>S</option>
                            </select>
                        </div> 
                        <textarea name="attr_style-text" placeholder="Effects..." style='width: 95%; height: 20%;'></textarea>
                        <br>
                </fieldset>
                </div>
            </div>
        </div>
    </div>

    <div class='spells' id="tab9" >
        <span style='text-align: center' class="label-general">S P E L L S</span>
        <br>
        <div  class="menuborder" style="border-radius: 5%; text-align: center; margin-left: auto; margin-right: auto;">
            <span style='text-align: center' class="label-general">Spell Techniques</span><br>
            <table border="1" class="spelltechniques">
                <tr>
                    <td>
                        <span>Quick Spell</span><input type='checkbox' name='attr_spell-speed' title="" style='float: left'/>
                    </td>
                    <td>
                        <span>Spell Reflex</span><input type='checkbox' name='attr_spell-hispeed' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Double Cast</span><input type='checkbox' name='attr_spell-reflex' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Double Pulse</span><input type='checkbox' name='attr_spell-counter' title=""  style='float: left'/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Carry Spell</span><input type='checkbox' name='attr_spell-double' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Spell Shift</span><input type='checkbox' name='attr_spell-junction' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Counter Spell</span><input type='checkbox' name='attr_spell-pulse' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Spell Surge</span><input type='checkbox' name='attr_spell-father' title=""  style='float: left'/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Junction Cast</span><input type='checkbox' name='attr_spell-lift' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Spell Charge</span><input type='checkbox' name='attr_spell-carry' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Focus Spell</span><input type='checkbox' name='attr_spell-recovery' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Hyper Spell</span><input type='checkbox' name='attr_spell-auto' title=""  style='float: left'/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Auto Cast</span><input type='checkbox' name='attr_spell-shift' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Rivet Cast</span><input type='checkbox' name='attr_spell-charge' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Spell Recovery</span><input type='checkbox' name='attr_spell-rivet' title=""  style='float: left'/>
                    </td>
                    <td>
                        <span>Father Spell</span><input type='checkbox' name='attr_spell-surge' title=""  style='float: left'/>
                    </td>
                </tr>
        </table>
            
        </div>
         <div style="display: inline">
            <input type="hidden" name='attr_spellTabSlot' id="spellList" />
            <button type="action" name="act_spells_slot1" class='semi' id="tab1">1</button>
            <button type="action" name="act_spells_slot2" class='semi' id="tab2">2</button>
            <button type="action" name="act_spells_slot3" class='semi' id="tab3">3</button>
            <button type="action" name="act_spells_slot4" class='semi' id="tab4">4</button>
            <button type="action" name="act_spells_slot5" class='semi' id="tab5">5</button>
            <button type="action" name="act_spells_slot6" class='semi' id="tab6">6</button>
            <button type="action" name="act_spells_slot7" class='semi' id="tab7">7</button>
        </div>
        <br>
        <div class='spellcast-menuborder'>
            <input type="hidden" name='attr_spellTabSlot' id="spellList" />
            <div class="st_slot1">
                <fieldset class="repeating_spells1">
                    <input type='hidden' name="attr_spells-school"/>
                    <input type='radio' name='attr_spellsTabToggle' id='info' class="spellTabToggleTool" style='right: 5%' />
                    <input type='radio' name='attr_spellsTabToggle' id='cast' class="spellTabToggleTool" style='right: 10%' checked/>
                    
                    <div class='spellcastgif' >
                        <input type='text' name='attr_spells-name' title='Name' placeholder="Spell Name" class=" spellcastName" />
                        <br>
                        <input type='text' name='attr_spells-branch' title='School Branch' placeholder="School Branch" class=" spellcastName spellcastBranch"/>
                        <br>
                        
                        <b>School:</b>
                        <select name='attr_spells-school' class='spellsDD' >
                        <option value='None' selected>None</option>
                        <option value='Elementalism'>Elementalism (Covenant A)</option>
                        <option value='Elementalism2'>Elementalism (Covenant B)</option>
                        <option value='Elementalism3'>Elementalism (Covenant C)</option>
                        <option value='Plying Arts'>Plying Arts (Basic)</option>
                        <option value='Enchanting'>Enchanting (Basic A)</option>
                        <option value='Enchanting2'>Enchanting (Basic B)</option>
                        <option value='High Magic'>High Magic (Basic A)</option>
                        <option value='High Magic2'>High Magic (Basic B)</option>
                        <option value='Kinetics'>Kinetics (Basic A)</option>
                        <option value='Kinetics2'>Kinetics (Basic B)</option>
                        <option value='Kinetics3'>Kinetics (Basic C)</option>
                        <option value='Prayer'>Prayer (Covenant)</option>
                        <option value='Sealing'>Sealing (Advanced)</option>
                        <option value='Transcendentalism'>Transcendalism (Advanced A)</option>
                        <option value='Transcendentalism2'>Transcendalism (Advanced B)</option>
                        <option value='Deliverance'>Deliverance (Advanced)</option>
                        <option value='Elder Magic'>Elder Magic (Advanced)</option>
                        <option value='Arcane'>Arcane (Covenant)</option>
                        <option value='Sorcery'>Sorcery (Forbidden)</option>
                        <option value='Ghosting Arts'>Ghosting Arts (Forbidden A)</option>
                        <option value='Ghosting Arts2'>Ghosting Arts (Forbidden B)</option>
                        <option value='Demonic Magic'>Demonic Magic (Forbidden A)</option>
                        <option value='Demonic Magic2'>Demonic Magic (Forbidden B)</option>
                        <option value='Alchemy'>Alchemy (Forbidden A)</option>
                        <option value='Alchemy3'>Alchemy (Forbidden C)</option>
                        <option value='Godden Magic'>Godden Magic</option>
                        </select>
                        <b>Mastery:</b><select name='attr_spells-mastery'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Novice'>Novice</option>
                            <option value='Intermediate'>Intermediate</option>
                            <option value='Mastered'>Mastered</option>
                        </select>
                        <b>Potency:</b><select name='attr_spells-potency'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Minor'>Minor</option>
                            <option value='Major'>Major</option>
                            <option value='Extreme'>Extreme</option>
                            <option value='Cataclysmic'>Cataclysmic</option>
                        </select>
                        <b>Int Req:</b>
                        <select name='attr_spell-req' title="Intelligence Requirement"  class='spellsDD'>
                            <option value='1' selected >1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                            <option value='6'>6</option>
                            <option value='7'>7</option>
                            <option value='8'>8</option>
                            <option value='9'>9</option>
                            <option value='10'>10</option>
                        </select>
                        <button type="action" name="act_applyspell" class='spellcastBtn' >
                        </button>
                        <br>
                    </div>
                    <div class='spellcastInfo'>
                        <br>
                        <!--<button type="action" name="act_applyspell" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='number' name='attr_spells-cost' title='Spell Cost' placeholder="Spell Cost" class="entry-inputssmall" value='0'/>
                        <b>Cast-Time:</b><input type='number' name='attr_spells-cast-time' title="Cast Time" placeholder="Cast Time" class="entry-inputssmall" value='0'/>
                        <b>TTT:</b><input type='number' name='attr_spells-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <br>
                        <input type="hidden" name="attr_spells-warining">
                        <span name="attr_spell-warining"></span>
                        <textarea name="attr_spells-flavor" placeholder="Flavor..." style='width: 95%; height: 2%' ></textarea>
                        <textarea name="attr_spells-text" placeholder="Details & Info..." style='width: 95%; height: 2%' ></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="st_slot2">
                <fieldset class="repeating_spells2">
                    <input type='hidden' name="attr_spells-school"/>
                    <input type='radio' name='attr_spellsTabToggle' id='info' class="spellTabToggleTool" style='right: 5%' />
                    <input type='radio' name='attr_spellsTabToggle' id='cast' class="spellTabToggleTool" style='right: 10%' checked/>
                    
                    <div class='spellcastgif' >
                        <input type='text' name='attr_spells-name' title='Name' placeholder="Spell Name" class=" spellcastName" />
                        <br>
                        <input type='text' name='attr_spells-branch' title='School Branch' placeholder="School Branch" class=" spellcastName spellcastBranch"/>
                        <br>
                        
                        <b>School:</b>
                        <select name='attr_spells-school' class='spellsDD' >
                        <option value='None' selected>None</option>
                        <option value='Elementalism'>Elementalism (Covenant A)</option>
                        <option value='Elementalism2'>Elementalism (Covenant B)</option>
                        <option value='Elementalism3'>Elementalism (Covenant C)</option>
                        <option value='Plying Arts'>Plying Arts (Basic)</option>
                        <option value='Enchanting'>Enchanting (Basic A)</option>
                        <option value='Enchanting2'>Enchanting (Basic B)</option>
                        <option value='High Magic'>High Magic (Basic A)</option>
                        <option value='High Magic2'>High Magic (Basic B)</option>
                        <option value='Kinetics'>Kinetics (Basic A)</option>
                        <option value='Kinetics2'>Kinetics (Basic B)</option>
                        <option value='Kinetics3'>Kinetics (Basic C)</option>
                        <option value='Prayer'>Prayer (Covenant)</option>
                        <option value='Sealing'>Sealing (Advanced)</option>
                        <option value='Transcendentalism'>Transcendalism (Advanced A)</option>
                        <option value='Transcendentalism2'>Transcendalism (Advanced B)</option>
                        <option value='Deliverance'>Deliverance (Advanced)</option>
                        <option value='Elder Magic'>Elder Magic (Advanced)</option>
                        <option value='Arcane'>Arcane (Covenant)</option>
                        <option value='Sorcery'>Sorcery (Forbidden)</option>
                        <option value='Ghosting Arts'>Ghosting Arts (Forbidden A)</option>
                        <option value='Ghosting Arts2'>Ghosting Arts (Forbidden B)</option>
                        <option value='Demonic Magic'>Demonic Magic (Forbidden A)</option>
                        <option value='Demonic Magic2'>Demonic Magic (Forbidden B)</option>
                        <option value='Alchemy'>Alchemy (Forbidden A)</option>
                        <option value='Alchemy3'>Alchemy (Forbidden C)</option>
                        <option value='Godden Magic'>Godden Magic</option>
                        </select>
                        <b>Mastery:</b><select name='attr_spells-mastery'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Novice'>Novice</option>
                            <option value='Intermediate'>Intermediate</option>
                            <option value='Mastered'>Mastered</option>
                        </select>
                        <b>Potency:</b><select name='attr_spells-potency'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Minor'>Minor</option>
                            <option value='Major'>Major</option>
                            <option value='Extreme'>Extreme</option>
                            <option value='Cataclysmic'>Cataclysmic</option>
                        </select>
                        <b>Int Req:</b>
                        <select name='attr_spell-req' title="Intelligence Requirement"  class='spellsDD'>
                            <option value='1' selected >1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                            <option value='6'>6</option>
                            <option value='7'>7</option>
                            <option value='8'>8</option>
                            <option value='9'>9</option>
                            <option value='10'>10</option>
                        </select>
                        <button type="action" name="act_applyspell" class='spellcastBtn' >
                        </button>
                        <br>
                    </div>
                    <div class='spellcastInfo'>
                        <br>
                        <!--<button type="action" name="act_applyspell" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='number' name='attr_spells-cost' title='Spell Cost' placeholder="Spell Cost" class="entry-inputssmall" value='0'/>
                        <b>Cast-Time:</b><input type='number' name='attr_spells-cast-time' title="Cast Time" placeholder="Cast Time" class="entry-inputssmall" value='0'/>
                        <b>TTT:</b><input type='number' name='attr_spells-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <br>
                        <input type="hidden" name="attr_spells-warining">
                        <span name="attr_spell-warining"></span>
                        <textarea name="attr_spells-flavor" placeholder="Flavor..." style='width: 95%; height: 2%' ></textarea>
                        <textarea name="attr_spells-text" placeholder="Details & Info..." style='width: 95%; height: 2%' ></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="st_slot3">
                 <fieldset class="repeating_spells3">
                    <input type='hidden' name="attr_spells-school"/>
                    <input type='radio' name='attr_spellsTabToggle' id='info' class="spellTabToggleTool" style='right: 5%' />
                    <input type='radio' name='attr_spellsTabToggle' id='cast' class="spellTabToggleTool" style='right: 10%' checked/>
                    
                    <div class='spellcastgif' >
                        <input type='text' name='attr_spells-name' title='Name' placeholder="Spell Name" class=" spellcastName" />
                        <br>
                        <input type='text' name='attr_spells-branch' title='School Branch' placeholder="School Branch" class=" spellcastName spellcastBranch"/>
                        <br>
                        
                        <b>School:</b>
                        <select name='attr_spells-school' class='spellsDD' >
                        <option value='None' selected>None</option>
                        <option value='Elementalism'>Elementalism (Covenant A)</option>
                        <option value='Elementalism2'>Elementalism (Covenant B)</option>
                        <option value='Elementalism3'>Elementalism (Covenant C)</option>
                        <option value='Plying Arts'>Plying Arts (Basic)</option>
                        <option value='Enchanting'>Enchanting (Basic A)</option>
                        <option value='Enchanting2'>Enchanting (Basic B)</option>
                        <option value='High Magic'>High Magic (Basic A)</option>
                        <option value='High Magic2'>High Magic (Basic B)</option>
                        <option value='Kinetics'>Kinetics (Basic A)</option>
                        <option value='Kinetics2'>Kinetics (Basic B)</option>
                        <option value='Kinetics3'>Kinetics (Basic C)</option>
                        <option value='Prayer'>Prayer (Covenant)</option>
                        <option value='Sealing'>Sealing (Advanced)</option>
                        <option value='Transcendentalism'>Transcendalism (Advanced A)</option>
                        <option value='Transcendentalism2'>Transcendalism (Advanced B)</option>
                        <option value='Deliverance'>Deliverance (Advanced)</option>
                        <option value='Elder Magic'>Elder Magic (Advanced)</option>
                        <option value='Arcane'>Arcane (Covenant)</option>
                        <option value='Sorcery'>Sorcery (Forbidden)</option>
                        <option value='Ghosting Arts'>Ghosting Arts (Forbidden A)</option>
                        <option value='Ghosting Arts2'>Ghosting Arts (Forbidden B)</option>
                        <option value='Demonic Magic'>Demonic Magic (Forbidden A)</option>
                        <option value='Demonic Magic2'>Demonic Magic (Forbidden B)</option>
                        <option value='Alchemy'>Alchemy (Forbidden A)</option>
                        <option value='Alchemy3'>Alchemy (Forbidden C)</option>
                        <option value='Godden Magic'>Godden Magic</option>
                        </select>
                        <b>Mastery:</b><select name='attr_spells-mastery'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Novice'>Novice</option>
                            <option value='Intermediate'>Intermediate</option>
                            <option value='Mastered'>Mastered</option>
                        </select>
                        <b>Potency:</b><select name='attr_spells-potency'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Minor'>Minor</option>
                            <option value='Major'>Major</option>
                            <option value='Extreme'>Extreme</option>
                            <option value='Cataclysmic'>Cataclysmic</option>
                        </select>
                        <b>Int Req:</b>
                        <select name='attr_spell-req' title="Intelligence Requirement"  class='spellsDD'>
                            <option value='1' selected >1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                            <option value='6'>6</option>
                            <option value='7'>7</option>
                            <option value='8'>8</option>
                            <option value='9'>9</option>
                            <option value='10'>10</option>
                        </select>
                        <button type="action" name="act_applyspell" class='spellcastBtn' >
                        </button>
                        <br>
                    </div>
                    <div class='spellcastInfo'>
                        <br>
                        <!--<button type="action" name="act_applyspell" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='number' name='attr_spells-cost' title='Spell Cost' placeholder="Spell Cost" class="entry-inputssmall" value='0'/>
                        <b>Cast-Time:</b><input type='number' name='attr_spells-cast-time' title="Cast Time" placeholder="Cast Time" class="entry-inputssmall" value='0'/>
                        <b>TTT:</b><input type='number' name='attr_spells-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <br>
                        <input type="hidden" name="attr_spells-warining">
                        <span name="attr_spell-warining"></span>
                        <textarea name="attr_spells-flavor" placeholder="Flavor..." style='width: 95%; height: 2%' ></textarea>
                        <textarea name="attr_spells-text" placeholder="Details & Info..." style='width: 95%; height: 2%' ></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="st_slot4">
                <fieldset class="repeating_spells4">
                    <input type='hidden' name="attr_spells-school"/>
                    <input type='radio' name='attr_spellsTabToggle' id='info' class="spellTabToggleTool" style='right: 5%' />
                    <input type='radio' name='attr_spellsTabToggle' id='cast' class="spellTabToggleTool" style='right: 10%' checked/>
                    
                    <div class='spellcastgif' >
                        <input type='text' name='attr_spells-name' title='Name' placeholder="Spell Name" class=" spellcastName" />
                        <br>
                        <input type='text' name='attr_spells-branch' title='School Branch' placeholder="School Branch" class=" spellcastName spellcastBranch"/>
                        <br>
                        
                        <b>School:</b>
                        <select name='attr_spells-school' class='spellsDD' >
                        <option value='None' selected>None</option>
                        <option value='Elementalism'>Elementalism (Covenant A)</option>
                        <option value='Elementalism2'>Elementalism (Covenant B)</option>
                        <option value='Elementalism3'>Elementalism (Covenant C)</option>
                        <option value='Plying Arts'>Plying Arts (Basic)</option>
                        <option value='Enchanting'>Enchanting (Basic A)</option>
                        <option value='Enchanting2'>Enchanting (Basic B)</option>
                        <option value='High Magic'>High Magic (Basic A)</option>
                        <option value='High Magic2'>High Magic (Basic B)</option>
                        <option value='Kinetics'>Kinetics (Basic A)</option>
                        <option value='Kinetics2'>Kinetics (Basic B)</option>
                        <option value='Kinetics3'>Kinetics (Basic C)</option>
                        <option value='Prayer'>Prayer (Covenant)</option>
                        <option value='Sealing'>Sealing (Advanced)</option>
                        <option value='Transcendentalism'>Transcendalism (Advanced A)</option>
                        <option value='Transcendentalism2'>Transcendalism (Advanced B)</option>
                        <option value='Deliverance'>Deliverance (Advanced)</option>
                        <option value='Elder Magic'>Elder Magic (Advanced)</option>
                        <option value='Arcane'>Arcane (Covenant)</option>
                        <option value='Sorcery'>Sorcery (Forbidden)</option>
                        <option value='Ghosting Arts'>Ghosting Arts (Forbidden A)</option>
                        <option value='Ghosting Arts2'>Ghosting Arts (Forbidden B)</option>
                        <option value='Demonic Magic'>Demonic Magic (Forbidden A)</option>
                        <option value='Demonic Magic2'>Demonic Magic (Forbidden B)</option>
                        <option value='Alchemy'>Alchemy (Forbidden A)</option>
                        <option value='Alchemy3'>Alchemy (Forbidden C)</option>
                        <option value='Godden Magic'>Godden Magic</option>
                        </select>
                        <b>Mastery:</b><select name='attr_spells-mastery'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Novice'>Novice</option>
                            <option value='Intermediate'>Intermediate</option>
                            <option value='Mastered'>Mastered</option>
                        </select>
                        <b>Potency:</b><select name='attr_spells-potency'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Minor'>Minor</option>
                            <option value='Major'>Major</option>
                            <option value='Extreme'>Extreme</option>
                            <option value='Cataclysmic'>Cataclysmic</option>
                        </select>
                        <b>Int Req:</b>
                        <select name='attr_spell-req' title="Intelligence Requirement"  class='spellsDD'>
                            <option value='1' selected >1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                            <option value='6'>6</option>
                            <option value='7'>7</option>
                            <option value='8'>8</option>
                            <option value='9'>9</option>
                            <option value='10'>10</option>
                        </select>
                        <button type="action" name="act_applyspell" class='spellcastBtn' >
                        </button>
                        <br>
                    </div>
                    <div class='spellcastInfo'>
                        <br>
                        <!--<button type="action" name="act_applyspell" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='number' name='attr_spells-cost' title='Spell Cost' placeholder="Spell Cost" class="entry-inputssmall" value='0'/>
                        <b>Cast-Time:</b><input type='number' name='attr_spells-cast-time' title="Cast Time" placeholder="Cast Time" class="entry-inputssmall" value='0'/>
                        <b>TTT:</b><input type='number' name='attr_spells-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <br>
                        <input type="hidden" name="attr_spells-warining">
                        <span name="attr_spell-warining"></span>
                        <textarea name="attr_spells-flavor" placeholder="Flavor..." style='width: 95%; height: 2%' ></textarea>
                        <textarea name="attr_spells-text" placeholder="Details & Info..." style='width: 95%; height: 2%' ></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="st_slot5">
                <fieldset class="repeating_spells5">
                    <input type='hidden' name="attr_spells-school"/>
                    <input type='radio' name='attr_spellsTabToggle' id='info' class="spellTabToggleTool" style='right: 5%' />
                    <input type='radio' name='attr_spellsTabToggle' id='cast' class="spellTabToggleTool" style='right: 10%' checked/>
                    
                    <div class='spellcastgif' >
                        <input type='text' name='attr_spells-name' title='Name' placeholder="Spell Name" class=" spellcastName" />
                        <br>
                        <input type='text' name='attr_spells-branch' title='School Branch' placeholder="School Branch" class=" spellcastName spellcastBranch"/>
                        <br>
                        
                        <b>School:</b>
                        <select name='attr_spells-school' class='spellsDD' >
                        <option value='None' selected>None</option>
                        <option value='Elementalism'>Elementalism (Covenant A)</option>
                        <option value='Elementalism2'>Elementalism (Covenant B)</option>
                        <option value='Elementalism3'>Elementalism (Covenant C)</option>
                        <option value='Plying Arts'>Plying Arts (Basic)</option>
                        <option value='Enchanting'>Enchanting (Basic A)</option>
                        <option value='Enchanting2'>Enchanting (Basic B)</option>
                        <option value='High Magic'>High Magic (Basic A)</option>
                        <option value='High Magic2'>High Magic (Basic B)</option>
                        <option value='Kinetics'>Kinetics (Basic A)</option>
                        <option value='Kinetics2'>Kinetics (Basic B)</option>
                        <option value='Kinetics3'>Kinetics (Basic C)</option>
                        <option value='Prayer'>Prayer (Covenant)</option>
                        <option value='Sealing'>Sealing (Advanced)</option>
                        <option value='Transcendentalism'>Transcendalism (Advanced A)</option>
                        <option value='Transcendentalism2'>Transcendalism (Advanced B)</option>
                        <option value='Deliverance'>Deliverance (Advanced)</option>
                        <option value='Elder Magic'>Elder Magic (Advanced)</option>
                        <option value='Arcane'>Arcane (Covenant)</option>
                        <option value='Sorcery'>Sorcery (Forbidden)</option>
                        <option value='Ghosting Arts'>Ghosting Arts (Forbidden A)</option>
                        <option value='Ghosting Arts2'>Ghosting Arts (Forbidden B)</option>
                        <option value='Demonic Magic'>Demonic Magic (Forbidden A)</option>
                        <option value='Demonic Magic2'>Demonic Magic (Forbidden B)</option>
                        <option value='Alchemy'>Alchemy (Forbidden A)</option>
                        <option value='Alchemy3'>Alchemy (Forbidden C)</option>
                        <option value='Godden Magic'>Godden Magic</option>
                        </select>
                        <b>Mastery:</b><select name='attr_spells-mastery'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Novice'>Novice</option>
                            <option value='Intermediate'>Intermediate</option>
                            <option value='Mastered'>Mastered</option>
                        </select>
                        <b>Potency:</b><select name='attr_spells-potency'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Minor'>Minor</option>
                            <option value='Major'>Major</option>
                            <option value='Extreme'>Extreme</option>
                            <option value='Cataclysmic'>Cataclysmic</option>
                        </select>
                        <b>Int Req:</b>
                        <select name='attr_spell-req' title="Intelligence Requirement"  class='spellsDD'>
                            <option value='1' selected >1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                            <option value='6'>6</option>
                            <option value='7'>7</option>
                            <option value='8'>8</option>
                            <option value='9'>9</option>
                            <option value='10'>10</option>
                        </select>
                        <button type="action" name="act_applyspell" class='spellcastBtn' >
                        </button>
                        <br>
                    </div>
                    <div class='spellcastInfo'>
                        <br>
                        <!--<button type="action" name="act_applyspell" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='number' name='attr_spells-cost' title='Spell Cost' placeholder="Spell Cost" class="entry-inputssmall" value='0'/>
                        <b>Cast-Time:</b><input type='number' name='attr_spells-cast-time' title="Cast Time" placeholder="Cast Time" class="entry-inputssmall" value='0'/>
                        <b>TTT:</b><input type='number' name='attr_spells-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <br>
                        <input type="hidden" name="attr_spells-warining">
                        <span name="attr_spell-warining"></span>
                        <textarea name="attr_spells-flavor" placeholder="Flavor..." style='width: 95%; height: 2%' ></textarea>
                        <textarea name="attr_spells-text" placeholder="Details & Info..." style='width: 95%; height: 2%' ></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="st_slot6">
                <fieldset class="repeating_spells6">
                    <input type='hidden' name="attr_spells-school"/>
                    <input type='radio' name='attr_spellsTabToggle' id='info' class="spellTabToggleTool" style='right: 5%' />
                    <input type='radio' name='attr_spellsTabToggle' id='cast' class="spellTabToggleTool" style='right: 10%' checked/>
                    
                    <div class='spellcastgif' >
                        <input type='text' name='attr_spells-name' title='Name' placeholder="Spell Name" class=" spellcastName" />
                        <br>
                        <input type='text' name='attr_spells-branch' title='School Branch' placeholder="School Branch" class=" spellcastName spellcastBranch"/>
                        <br>
                        
                        <b>School:</b>
                        <select name='attr_spells-school' class='spellsDD' >
                        <option value='None' selected>None</option>
                        <option value='Elementalism'>Elementalism (Covenant A)</option>
                        <option value='Elementalism2'>Elementalism (Covenant B)</option>
                        <option value='Elementalism3'>Elementalism (Covenant C)</option>
                        <option value='Plying Arts'>Plying Arts (Basic)</option>
                        <option value='Enchanting'>Enchanting (Basic A)</option>
                        <option value='Enchanting2'>Enchanting (Basic B)</option>
                        <option value='High Magic'>High Magic (Basic A)</option>
                        <option value='High Magic2'>High Magic (Basic B)</option>
                        <option value='Kinetics'>Kinetics (Basic A)</option>
                        <option value='Kinetics2'>Kinetics (Basic B)</option>
                        <option value='Kinetics3'>Kinetics (Basic C)</option>
                        <option value='Prayer'>Prayer (Covenant)</option>
                        <option value='Sealing'>Sealing (Advanced)</option>
                        <option value='Transcendentalism'>Transcendalism (Advanced A)</option>
                        <option value='Transcendentalism2'>Transcendalism (Advanced B)</option>
                        <option value='Deliverance'>Deliverance (Advanced)</option>
                        <option value='Elder Magic'>Elder Magic (Advanced)</option>
                        <option value='Arcane'>Arcane (Covenant)</option>
                        <option value='Sorcery'>Sorcery (Forbidden)</option>
                        <option value='Ghosting Arts'>Ghosting Arts (Forbidden A)</option>
                        <option value='Ghosting Arts2'>Ghosting Arts (Forbidden B)</option>
                        <option value='Demonic Magic'>Demonic Magic (Forbidden A)</option>
                        <option value='Demonic Magic2'>Demonic Magic (Forbidden B)</option>
                        <option value='Alchemy'>Alchemy (Forbidden A)</option>
                        <option value='Alchemy3'>Alchemy (Forbidden C)</option>
                        <option value='Godden Magic'>Godden Magic</option>
                        </select>
                        <b>Mastery:</b><select name='attr_spells-mastery'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Novice'>Novice</option>
                            <option value='Intermediate'>Intermediate</option>
                            <option value='Mastered'>Mastered</option>
                        </select>
                        <b>Potency:</b><select name='attr_spells-potency'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Minor'>Minor</option>
                            <option value='Major'>Major</option>
                            <option value='Extreme'>Extreme</option>
                            <option value='Cataclysmic'>Cataclysmic</option>
                        </select>
                        <b>Int Req:</b>
                        <select name='attr_spell-req' title="Intelligence Requirement"  class='spellsDD'>
                            <option value='1' selected >1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                            <option value='6'>6</option>
                            <option value='7'>7</option>
                            <option value='8'>8</option>
                            <option value='9'>9</option>
                            <option value='10'>10</option>
                        </select>
                        <button type="action" name="act_applyspell" class='spellcastBtn' >
                        </button>
                        <br>
                    </div>
                    <div class='spellcastInfo'>
                        <br>
                        <!--<button type="action" name="act_applyspell" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='number' name='attr_spells-cost' title='Spell Cost' placeholder="Spell Cost" class="entry-inputssmall" value='0'/>
                        <b>Cast-Time:</b><input type='number' name='attr_spells-cast-time' title="Cast Time" placeholder="Cast Time" class="entry-inputssmall" value='0'/>
                        <b>TTT:</b><input type='number' name='attr_spells-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <br>
                        <input type="hidden" name="attr_spells-warining">
                        <span name="attr_spell-warining"></span>
                        <textarea name="attr_spells-flavor" placeholder="Flavor..." style='width: 95%; height: 2%' ></textarea>
                        <textarea name="attr_spells-text" placeholder="Details & Info..." style='width: 95%; height: 2%' ></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="st_slot7">
                <fieldset class="repeating_spells7">
                    <input type='hidden' name="attr_spells-school"/>
                    <input type='radio' name='attr_spellsTabToggle' id='info' class="spellTabToggleTool" style='right: 5%' />
                    <input type='radio' name='attr_spellsTabToggle' id='cast' class="spellTabToggleTool" style='right: 10%' checked/>
                    
                    <div class='spellcastgif' >
                        <input type='text' name='attr_spells-name' title='Name' placeholder="Spell Name" class=" spellcastName" />
                        <br>
                        <input type='text' name='attr_spells-branch' title='School Branch' placeholder="School Branch" class=" spellcastName spellcastBranch"/>
                        <br>
                        
                        <b>School:</b>
                        <select name='attr_spells-school' class='spellsDD' >
                        <option value='None' selected>None</option>
                        <option value='Elementalism'>Elementalism (Covenant A)</option>
                        <option value='Elementalism2'>Elementalism (Covenant B)</option>
                        <option value='Elementalism3'>Elementalism (Covenant C)</option>
                        <option value='Plying Arts'>Plying Arts (Basic)</option>
                        <option value='Enchanting'>Enchanting (Basic A)</option>
                        <option value='Enchanting2'>Enchanting (Basic B)</option>
                        <option value='High Magic'>High Magic (Basic A)</option>
                        <option value='High Magic2'>High Magic (Basic B)</option>
                        <option value='Kinetics'>Kinetics (Basic A)</option>
                        <option value='Kinetics2'>Kinetics (Basic B)</option>
                        <option value='Kinetics3'>Kinetics (Basic C)</option>
                        <option value='Prayer'>Prayer (Covenant)</option>
                        <option value='Sealing'>Sealing (Advanced)</option>
                        <option value='Transcendentalism'>Transcendalism (Advanced A)</option>
                        <option value='Transcendentalism2'>Transcendalism (Advanced B)</option>
                        <option value='Deliverance'>Deliverance (Advanced)</option>
                        <option value='Elder Magic'>Elder Magic (Advanced)</option>
                        <option value='Arcane'>Arcane (Covenant)</option>
                        <option value='Sorcery'>Sorcery (Forbidden)</option>
                        <option value='Ghosting Arts'>Ghosting Arts (Forbidden A)</option>
                        <option value='Ghosting Arts2'>Ghosting Arts (Forbidden B)</option>
                        <option value='Demonic Magic'>Demonic Magic (Forbidden A)</option>
                        <option value='Demonic Magic2'>Demonic Magic (Forbidden B)</option>
                        <option value='Alchemy'>Alchemy (Forbidden A)</option>
                        <option value='Alchemy3'>Alchemy (Forbidden C)</option>
                        <option value='Godden Magic'>Godden Magic</option>
                        </select>
                        <b>Mastery:</b><select name='attr_spells-mastery'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Novice'>Novice</option>
                            <option value='Intermediate'>Intermediate</option>
                            <option value='Mastered'>Mastered</option>
                        </select>
                        <b>Potency:</b><select name='attr_spells-potency'  class='spellsDD'>
                            <option value='N/A' selected >N/A</option>
                            <option value='Minor'>Minor</option>
                            <option value='Major'>Major</option>
                            <option value='Extreme'>Extreme</option>
                            <option value='Cataclysmic'>Cataclysmic</option>
                        </select>
                        <b>Int Req:</b>
                        <select name='attr_spell-req' title="Intelligence Requirement"  class='spellsDD'>
                            <option value='1' selected >1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                            <option value='6'>6</option>
                            <option value='7'>7</option>
                            <option value='8'>8</option>
                            <option value='9'>9</option>
                            <option value='10'>10</option>
                        </select>
                        <button type="action" name="act_applyspell" class='spellcastBtn' >
                        </button>
                        <br>
                    </div>
                    <div class='spellcastInfo'>
                        <br>
                        <!--<button type="action" name="act_applyspell" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='number' name='attr_spells-cost' title='Spell Cost' placeholder="Spell Cost" class="entry-inputssmall" value='0'/>
                        <b>Cast-Time:</b><input type='number' name='attr_spells-cast-time' title="Cast Time" placeholder="Cast Time" class="entry-inputssmall" value='0'/>
                        <b>TTT:</b><input type='number' name='attr_spells-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <br>
                        <input type="hidden" name="attr_spells-warining">
                        <span name="attr_spell-warining"></span>
                        <textarea name="attr_spells-flavor" placeholder="Flavor..." style='width: 95%; height: 2%' ></textarea>
                        <textarea name="attr_spells-text" placeholder="Details & Info..." style='width: 95%; height: 2%' ></textarea>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>

    <div class='energytechniques' id="tab7">
        <span class="label-general">ENERGY TECHNQIUES</span><br>
        <div class="menuborder" style="border-radius: 5%; text-align: center; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;">
            <br>
            <div style='text-align: center'>
                <input type='hidden' name='attr_etechdefault' value='mental'/>
                <button type='action' class='semi' id="mental" name='act_mentaltechdefault' >MENTAL</button>
                <button type='action' class='semi' id="body" name='act_bodytechdefault' >BODY</button>
                <button type='action' class='semi' id="spirit" name='act_spirittechdefault' >SPIRIT</button>
                <button type='action' class='semi' id="memory" name='act_memorytechdefault' >MEMORY</button>
                <button type='action' class='semi' id="demon" name='act_demontechdefault' >DEMON</button>
                <button type='action' class='semi' id="necro" name='act_necroforcetechdefault' >NECRO</button>
            </div>
            <br>
            <div>
                <input type='hidden' name='attr_etechdefault' value='mental'/>
                <div class='mentalenergydefault'>
                    <p>Mental Energy is based around the concepts of <b style='color: orange'>TELEPATHY & TELEKINESIS</b>.
                    It is a mostly transparent hue with a tint of magenta and has limited persistance.
                    Its primary use is in moving objects or enemies and protecting/attack a mind.
                    Techniques range from storms of telekinesis to attacks on a target's conciousness wherin you monitor their minds and read their thoughts.</p>
                    <br>
                    <b style="color: deeppink">Default Mental Energy Tech</b>
                    <ul>
                    <li>Telepathy (Req: 5)</li>
                    <li>(Cognitive) Telekinesis (Req: 5)</li>
                        <ul>
                            <li>Base: 0</li>
                            <li>Power Cap: 2</li>
                            <li>Up to 5 for 1 action</li>
                            <li>Cost 3 (+3 TTT)</li>
                        </ul>
                    <li>Telekinesis (Req: 10)</li>
                        <ul>
                            <li>Base: 5</li>
                            <li>Scaling: 3/3</li>
                            <li>Cost 5 (+5 TTT)</li>
                        </ul>
                    </ul>
                    
                </div>
                <div class='bodyenergydefault'>
                    <p>Body Energy is highly volitile. Its is prone to explosions and release large amounts of heat and golden light while being channeled.
                    Expect body energy technique to destroy terrain, harms allies, and destroy treasure if not used carefully.
                    Body Energy techniques mostly come in three <b style='color: orange'>FORMS</b>; light, heavy, and immense and can be further enhanced by augmentations.
                    These forms have different costs and damage all have a default form and requirement listed below.</p>
                    <br>
                    <b style='color: deeppink'>Default Body Energy Forms(Scaling: 20%/25%)</b>
                    <ul>
                        <li><b>Light Form (Req: 5)</b></li>
                        <ul>
                            <li>Base: 8</li>
                            <li>Cost: 10</li>
                            <li>Up to three for 1 action</li>
                        </ul>
                        <li><b>Heavy Form (Req: 10)</b></li>
                        <ul>
                            <li>Base: 40</li>
                            <li>Cost: 35</li>
                            <li>1 action</li>
                            <li>Small AOE</li>
                        </ul>
                        <li><b>Immense Form (Req: 15)</b></li>
                        <ul>
                            <li>Base: 80</li>
                            <li>Cost: 65</li>
                            <li>2 actions</li>
                            <li>Moderate AOE</li>
                        </ul>
                    </ul>
                </ul>
                </div>
                <div class='spiritenergydefault'>
                    <p>Spiritual Energy is very stable and not easily damaged. 
                    Spiritual energy is a bright neon blue and invovles creating semi permanent <b style='color: orange'>CONSTRUCTS</b>.
                    Additionally, Spirit energy allows users to harm incoporeal targets that are immune to physical damage.</p>
                    <br>
                    <b style='color: deeppink'>No default techniques</b>
                </div>
                <div class='memoryenergydefault'>
                    <p>Memory Energy is the most stable energy.
                    It produces a dull white glow and luckwarm heat when channeled. 
                    Memory energy techniques are mostly passive but also involve <b style='color: orange'>PROJECTIONS</b>.
                    By default, Orchestrates tap into the memory of <b style='color: orange'>CACEALEOS</b> to view important history of a location.</p>
                    <br>
                    <b style='color: deeppink'>Default Memory Energy Techniques</b>
                    <ul>
                        <li>Memory Recovery (Req: 10)</li>
                    </ul>
                </div>
                <div class='demonenergydefault'>
                    <p>Demon Energy is the most dangerous and does not use Manna at all.
                    It produces a blood red aura and intense heat when channeled.
                    Instead, demonic energy and its techniques rely on a steady resevoir of <b style='color: orange'>DEMONIC ESSENCE</b>.
                    Demon techniques CANNOT be used by default and are among the most powerful and blend all of the other energy techniques.
                    Can be used to harm incorporeal targets.</p>
                    <br>
                    <b style='color: deeppink'>No default techniques</b>
                </div>
                <div class='necroenergydefault'>
                    <p>Necro-Force is not actually a manna-based energy. It is the energy of the dead and is what gives them unlife.
                    Those who channel it produce a putrid green aura and a chill the air around them. 
                    Necro-Force techniques CANNOT be used by default and are used mostly against those who have no life-force and subdue the undead. 
                    Can be used to harm incorporeal targets.</p>
                    <br>
                    <b style='color: deeppink'>No default techniques</b>
                </div>
            </div>
        </div>
        <div style="display: inline">
            <input type="hidden" name='attr_eTechTabSlot' id="eTechList" />
            <button type="action" name="act_eTech_slot1" class='semi' id="tab1">1</button>
            <button type="action" name="act_eTech_slot2" class='semi' id="tab2">2</button>
            <button type="action" name="act_eTech_slot3" class='semi' id="tab3">3</button>
            <button type="action" name="act_eTech_slot4" class='semi' id="tab4">4</button>
            <button type="action" name="act_eTech_slot5" class='semi' id="tab5">5</button>
            <button type="action" name="act_eTech_slot6" class='semi' id="tab6">6</button>
            <button type="action" name="act_eTech_slot7" class='semi' id="tab7">7</button>
        </div>
        <br>
        <div class='energytech-menuborder'>
            <input type="hidden" name='attr_eTechTabSlot' id="eTechList" />
            <div class="et_slot1">
                <fieldset class="repeating_energytech1">
                    <input type='hidden' name="attr_energytech-type"/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='info'  style='right: 5%' checked/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='detail'  style='right: 10%' />
                    
                    <div class='EnergyTechTitle'>
                        <input type='text' name='attr_etech-name' title='Name' placeholder="Name" class="energyTechName"/>
                        <select name='attr_energytech-type' value='mental' title='type' placeholder="Energy Type" class="EtechDD energyTechName energyTechType" >
                            <option value='mental' selected>Mental</option>
                            <option value='body'>Body</option>
                            <option value='spirit'>Spirit</option>
                            <option value='memory'>Memory</option>
                            <option value='demon'>Demon</option>
                            <option value='necro'>Necro</option>
                            <option value='special'>Special</option>
                        </select>
                        <br>
                        <button class=' energytechBtn' type="action" name="act_applyetech" >
                             <!--&{template:default}{{name=@{etech-name}}}{{Manna Cost=@{etech-cost}}}{{Turn Eco=@{etech-tcost}}}{{Flavor=@{etech-flavor}}}"-->
                            </button>
                        <br>
                    </div>
                    <div class='EnergyTechInfo'>
                        <!--<button type="action" name="act_applyetech" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='text' name='attr_etech-cost' title='Manna Cost' placeholder="Cost" class="entry-inputs"/>
                        <b>Turn Eco:</b><input type='text' name='attr_etech-tcost' value=0 title='Turn Cost' placeholder="Turn Cost" class="entry-inputs"/>
                        <b>TTT:</b><input type='number' name='attr_etch-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <b>Req:</b>
                        <select name='attr_etech-requirement' title='Requirement' class='EtechDD'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <b>Lv:</b><select name='attr_etech-level' class='EtechDD'>
                            <option>N/A</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                        </select>
                        <br>
                        <textarea name="attr_etech-flavor" placeholder="Flavor Text..." style='height: 5%; width: 90%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="et_slot2">
                <fieldset class="repeating_energytech2">
                    <input type='hidden' name="attr_energytech-type"/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='info'  style='right: 5%' checked/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='detail'  style='right: 10%' />
                    
                    <div class='EnergyTechTitle'>
                        <input type='text' name='attr_etech-name' title='Name' placeholder="Name" class="energyTechName"/>
                        <select name='attr_energytech-type' value='mental' title='type' placeholder="Energy Type" class="EtechDD energyTechName energyTechType" >
                            <option value='mental' selected>Mental</option>
                            <option value='body'>Body</option>
                            <option value='spirit'>Spirit</option>
                            <option value='memory'>Memory</option>
                            <option value='demon'>Demon</option>
                            <option value='necro'>Necro</option>
                            <option value='special'>Special</option>
                        </select>
                        <br>
                        <button class=' energytechBtn' type="action" name="act_applyetech" >
                             <!--&{template:default}{{name=@{etech-name}}}{{Manna Cost=@{etech-cost}}}{{Turn Eco=@{etech-tcost}}}{{Flavor=@{etech-flavor}}}"-->
                            </button>
                        <br>
                    </div>
                    <div class='EnergyTechInfo'>
                        <!--<button type="action" name="act_applyetech" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='text' name='attr_etech-cost' title='Manna Cost' placeholder="Cost" class="entry-inputs"/>
                        <b>Turn Eco:</b><input type='text' name='attr_etech-tcost' value=0 title='Turn Cost' placeholder="Turn Cost" class="entry-inputs"/>
                        <b>TTT:</b><input type='number' name='attr_etch-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <b>Req:</b>
                        <select name='attr_etech-requirement' title='Requirement' class='EtechDD'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <b>Lv:</b><select name='attr_etech-level' class='EtechDD'>
                            <option>N/A</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                        </select>
                        <br>
                        <textarea name="attr_etech-flavor" placeholder="Flavor Text..." style='height: 5%; width: 90%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="et_slot3">
                <fieldset class="repeating_energytech3">
                    <input type='hidden' name="attr_energytech-type"/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='info'  style='right: 5%' checked/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='detail'  style='right: 10%' />
                    
                    <div class='EnergyTechTitle'>
                        <input type='text' name='attr_etech-name' title='Name' placeholder="Name" class="energyTechName"/>
                        <select name='attr_energytech-type' value='mental' title='type' placeholder="Energy Type" class="EtechDD energyTechName energyTechType" >
                            <option value='mental' selected>Mental</option>
                            <option value='body'>Body</option>
                            <option value='spirit'>Spirit</option>
                            <option value='memory'>Memory</option>
                            <option value='demon'>Demon</option>
                            <option value='necro'>Necro</option>
                            <option value='special'>Special</option>
                        </select>
                        <br>
                        <button class=' energytechBtn' type="action" name="act_applyetech" >
                             <!--&{template:default}{{name=@{etech-name}}}{{Manna Cost=@{etech-cost}}}{{Turn Eco=@{etech-tcost}}}{{Flavor=@{etech-flavor}}}"-->
                            </button>
                        <br>
                    </div>
                    <div class='EnergyTechInfo'>
                        <!--<button type="action" name="act_applyetech" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='text' name='attr_etech-cost' title='Manna Cost' placeholder="Cost" class="entry-inputs"/>
                        <b>Turn Eco:</b><input type='text' name='attr_etech-tcost' value=0 title='Turn Cost' placeholder="Turn Cost" class="entry-inputs"/>
                        <b>TTT:</b><input type='number' name='attr_etch-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <b>Req:</b>
                        <select name='attr_etech-requirement' title='Requirement' class='EtechDD'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <b>Lv:</b><select name='attr_etech-level' class='EtechDD'>
                            <option>N/A</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                        </select>
                        <br>
                        <textarea name="attr_etech-flavor" placeholder="Flavor Text..." style='height: 5%; width: 90%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="et_slot4">
                <fieldset class="repeating_energytech4">
                    <input type='hidden' name="attr_energytech-type"/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='info'  style='right: 5%' checked/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='detail'  style='right: 10%' />
                    
                    <div class='EnergyTechTitle'>
                        <input type='text' name='attr_etech-name' title='Name' placeholder="Name" class="energyTechName"/>
                        <select name='attr_energytech-type' value='mental' title='type' placeholder="Energy Type" class="EtechDD energyTechName energyTechType" >
                            <option value='mental' selected>Mental</option>
                            <option value='body'>Body</option>
                            <option value='spirit'>Spirit</option>
                            <option value='memory'>Memory</option>
                            <option value='demon'>Demon</option>
                            <option value='necro'>Necro</option>
                            <option value='special'>Special</option>
                        </select>
                        <br>
                        <button class=' energytechBtn' type="action" name="act_applyetech" >
                             <!--&{template:default}{{name=@{etech-name}}}{{Manna Cost=@{etech-cost}}}{{Turn Eco=@{etech-tcost}}}{{Flavor=@{etech-flavor}}}"-->
                            </button>
                        <br>
                    </div>
                    <div class='EnergyTechInfo'>
                        <!--<button type="action" name="act_applyetech" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='text' name='attr_etech-cost' title='Manna Cost' placeholder="Cost" class="entry-inputs"/>
                        <b>Turn Eco:</b><input type='text' name='attr_etech-tcost' value=0 title='Turn Cost' placeholder="Turn Cost" class="entry-inputs"/>
                        <b>TTT:</b><input type='number' name='attr_etch-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <b>Req:</b>
                        <select name='attr_etech-requirement' title='Requirement' class='EtechDD'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <b>Lv:</b><select name='attr_etech-level' class='EtechDD'>
                            <option>N/A</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                        </select>
                        <br>
                        <textarea name="attr_etech-flavor" placeholder="Flavor Text..." style='height: 5%; width: 90%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="et_slot5">
                <fieldset class="repeating_energytech5">
                    <input type='hidden' name="attr_energytech-type"/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='info'  style='right: 5%' checked/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='detail'  style='right: 10%' />
                    
                    <div class='EnergyTechTitle'>
                        <input type='text' name='attr_etech-name' title='Name' placeholder="Name" class="energyTechName"/>
                        <select name='attr_energytech-type' value='mental' title='type' placeholder="Energy Type" class="EtechDD energyTechName energyTechType" >
                            <option value='mental' selected>Mental</option>
                            <option value='body'>Body</option>
                            <option value='spirit'>Spirit</option>
                            <option value='memory'>Memory</option>
                            <option value='demon'>Demon</option>
                            <option value='necro'>Necro</option>
                            <option value='special'>Special</option>
                        </select>
                        <br>
                        <button class=' energytechBtn' type="action" name="act_applyetech" >
                             <!--&{template:default}{{name=@{etech-name}}}{{Manna Cost=@{etech-cost}}}{{Turn Eco=@{etech-tcost}}}{{Flavor=@{etech-flavor}}}"-->
                            </button>
                        <br>
                    </div>
                    <div class='EnergyTechInfo'>
                        <!--<button type="action" name="act_applyetech" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='text' name='attr_etech-cost' title='Manna Cost' placeholder="Cost" class="entry-inputs"/>
                        <b>Turn Eco:</b><input type='text' name='attr_etech-tcost' value=0 title='Turn Cost' placeholder="Turn Cost" class="entry-inputs"/>
                        <b>TTT:</b><input type='number' name='attr_etch-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <b>Req:</b>
                        <select name='attr_etech-requirement' title='Requirement' class='EtechDD'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <b>Lv:</b><select name='attr_etech-level' class='EtechDD'>
                            <option>N/A</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                        </select>
                        <br>
                        <textarea name="attr_etech-flavor" placeholder="Flavor Text..." style='height: 5%; width: 90%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="et_slot6">
                <fieldset class="repeating_energytech6">
                    <input type='hidden' name="attr_energytech-type"/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='info'  style='right: 5%' checked/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='detail'  style='right: 10%' />
                    
                    <div class='EnergyTechTitle'>
                        <input type='text' name='attr_etech-name' title='Name' placeholder="Name" class="energyTechName"/>
                        <select name='attr_energytech-type' value='mental' title='type' placeholder="Energy Type" class="EtechDD energyTechName energyTechType" >
                            <option value='mental' selected>Mental</option>
                            <option value='body'>Body</option>
                            <option value='spirit'>Spirit</option>
                            <option value='memory'>Memory</option>
                            <option value='demon'>Demon</option>
                            <option value='necro'>Necro</option>
                            <option value='special'>Special</option>
                        </select>
                        <br>
                        <button class=' energytechBtn' type="action" name="act_applyetech" >
                             <!--&{template:default}{{name=@{etech-name}}}{{Manna Cost=@{etech-cost}}}{{Turn Eco=@{etech-tcost}}}{{Flavor=@{etech-flavor}}}"-->
                            </button>
                        <br>
                    </div>
                    <div class='EnergyTechInfo'>
                        <!--<button type="action" name="act_applyetech" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='text' name='attr_etech-cost' title='Manna Cost' placeholder="Cost" class="entry-inputs"/>
                        <b>Turn Eco:</b><input type='text' name='attr_etech-tcost' value=0 title='Turn Cost' placeholder="Turn Cost" class="entry-inputs"/>
                        <b>TTT:</b><input type='number' name='attr_etch-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <b>Req:</b>
                        <select name='attr_etech-requirement' title='Requirement' class='EtechDD'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <b>Lv:</b><select name='attr_etech-level' class='EtechDD'>
                            <option>N/A</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                        </select>
                        <br>
                        <textarea name="attr_etech-flavor" placeholder="Flavor Text..." style='height: 5%; width: 90%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="et_slot7">
                <fieldset class="repeating_energytech7">
                    <input type='hidden' name="attr_energytech-type"/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='info'  style='right: 5%' checked/>
                    <input type='radio' name='attr_energyTabToggle' class="EnergyTabToggleTool" id='detail'  style='right: 10%' />
                    
                    <div class='EnergyTechTitle'>
                        <input type='text' name='attr_etech-name' title='Name' placeholder="Name" class="energyTechName"/>
                        <select name='attr_energytech-type' value='mental' title='type' placeholder="Energy Type" class="EtechDD energyTechName energyTechType" >
                            <option value='mental' selected>Mental</option>
                            <option value='body'>Body</option>
                            <option value='spirit'>Spirit</option>
                            <option value='memory'>Memory</option>
                            <option value='demon'>Demon</option>
                            <option value='necro'>Necro</option>
                            <option value='special'>Special</option>
                        </select>
                        <br>
                        <button class=' energytechBtn' type="action" name="act_applyetech" >
                             <!--&{template:default}{{name=@{etech-name}}}{{Manna Cost=@{etech-cost}}}{{Turn Eco=@{etech-tcost}}}{{Flavor=@{etech-flavor}}}"-->
                            </button>
                        <br>
                    </div>
                    <div class='EnergyTechInfo'>
                        <!--<button type="action" name="act_applyetech" class='semi'>Apply</button>-->
                        <b>Cost:</b><input type='text' name='attr_etech-cost' title='Manna Cost' placeholder="Cost" class="entry-inputs"/>
                        <b>Turn Eco:</b><input type='text' name='attr_etech-tcost' value=0 title='Turn Cost' placeholder="Turn Cost" class="entry-inputs"/>
                        <b>TTT:</b><input type='number' name='attr_etch-ttt' title="Turn-to-Turn" placeholder="TTT" class="entry-inputssmall" value='0' />
                        <b>Req:</b>
                        <select name='attr_etech-requirement' title='Requirement' class='EtechDD'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <b>Lv:</b><select name='attr_etech-level' class='EtechDD'>
                            <option>N/A</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                        </select>
                        <br>
                        <textarea name="attr_etech-flavor" placeholder="Flavor Text..." style='height: 5%; width: 90%'></textarea>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>

    <div class='meleetechniques' id="tab6">
        <span class="label-general">MELEE TECHNIQUES</span><br>
        <div  class="menuborder" style="border-radius: 5%; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;">
            <div class='dualcell'>
                <div class='cell'>
                    <br>
                    <b style="color: deeppink">Melee-Tech Combo Sequences:</b>
                    <ul>
                        <li>Lunges & Spikes Chain into:</li>
                            <ul>
                                <li>Lunges</li>
                                <li>Lauchers</li>
                                <li>Enders</li>
                            </ul>
                        <li>Lauchers & Streaks Chain into:</li>
                            <ul>
                                <li>Streaks</li>
                                <li>Spikes</li>
                                <li>Enders</li>
                            </ul>
                        <li>Enders</li>
                            <b>None</b>
                        <li>Counter & Parries</li>
                            <b style="color: deeppink">Used as DEFENSIVE Actions</b>
                        <li>Stances</li>
                            <b style="color: deeppink">Used as INTERACT Actions</b>
                    </ul>
                </div>
                <div class='cell'>
                    <input type= 'hidden' name="attr_combatcooldown" value='0'>
                    <input type= 'hidden' name="attr_combatcooldownMeter" value='0'>
                    <button type="action" name="act_combomenu" class="semi">INITIATE COMBO!</button><br>
                    <br>
                    <span class="label-general" style="text-align: right">Weapon Durability:</span>
                    <input type='text' name="attr_weapon-rem-dur" value='@{attr_weapon-rem-dur}' readonly='readonly' style="width: 45px;" class="entry-inputs"/>
                    <br>
                    <span style="color: deeppink;" name="attr_combatcooldown"></span>
                    <div class="progress">
                        <input type="hidden" value="0" name="attr_dur-bar" class="durbar">
                        <div class="durbar"></div>
                    </div>
                    <div class="progress">
                        <input type="hidden" value="0" name="attr_cool-bar" class="durbar">
                        <div class="durbar"></div>
                    </div>
                </div>
            </div>
        </div>
        <div style="display: inline">
            <input type="hidden" name='attr_mTechTabSlot' id="mTechList" />
            <button type="action" name="act_mTech_slot1" class='semi' id="tab1">1</button>
            <button type="action" name="act_mTech_slot2" class='semi' id="tab2">2</button>
            <button type="action" name="act_mTech_slot3" class='semi' id="tab3">3</button>
            <button type="action" name="act_mTech_slot4" class='semi' id="tab4">4</button>
            <button type="action" name="act_mTech_slot5" class='semi' id="tab5">5</button>
            <button type="action" name="act_mTech_slot6" class='semi' id="tab6">6</button>
            <button type="action" name="act_mTech_slot7" class='semi' id="tab7">7</button>
        </div>
        <br>
        <div class='menuborder'>
            <input type="hidden" name='attr_mTechTabSlot' id="mTechList" />
            <div class="mt_slot1">
                <fieldset class="repeating_meleetech1">
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='info'  style='right: 15%' checked/>
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='detail'  style='right: 20%' />
                        
                    <div class='meleeTechTitle' >
                        <input type='text' name='attr_meleetech-name' title='Name' placeholder="Tech Name" class="meleeTechName" />
                        <br>
                        <input id='Weapon' type='radio' name='attr_meleetech-type' value='Weapon' checked>
                        <span for="Weapon">Weapon</span>
                        <input id='Combat' type='radio' name='attr_meleetech-type' value='Combat'>
                        <span for="Combat">Combat</span>
                        <br>
                        <button class='iconbutton weaponArtsIcon'></button>
                        <button class='iconbutton combatArtsIcon'></button>
                        
                    </div>
                    <div class='meleeTechInfo'>
                        <br>
                        <button type="action" name='act_activatetech' class='semi'>Execute</button>
                        
                        <b>Sequence:</b>
                        <div style='display: inline'>
                            <input type='checkbox' name='attr_meleetech-lunge'>
                            <span >Lunge</span>
                            <input type='checkbox' name='attr_meleetech-launcher'>
                            <span >Launcher</span>
                            <input type='checkbox' name='attr_meleetech-spike'>
                            <span >Spike</span>
                            <input type='checkbox' name='attr_meleetech-streak'>
                            <span >Streak</span>
                            <input type='checkbox' name='attr_meleetech-ender'>
                            <span >Ender</span>
                            <input type='checkbox' name='attr_meleetech-counter'>
                            <span >Counter</span>
                            <input type='checkbox' name='attr_meleetech-parry'>
                            <span >Parry</span>
                            <input type='checkbox' name='attr_meleetech-stance'>
                            <span >Stance</span>
                        </div>
                        <br>
                        <b>Base:</b><input type='number' name='attr_meleetech-base' value=0 title='Base Damage Bonus' placeholder="Base" max='50' min='0' class="entry-inputs"/>
                        <b>Hits:</b><input type='number' name='attr_meleetech-hits' value=1 title='Number of Hits' placeholder="Hits" max='50' min='0'  class="entry-inputs"/>
                        <b>Cost:</b><input type='text' name='attr_meleetech-cost' style='width: 25%' value='' title='Cost' placeholder="Numbers ONLY" class="entry-inputs"/>
                        <b>Req:</b><select name='attr_meleetech-requirement' class='meleetechniquesDD' title='Requirement'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <textarea name="attr_meleetech-text" placeholder="description" style='width: 95%; height: 5%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="mt_slot2">
                <fieldset class="repeating_meleetech2">
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='info'  style='right: 15%' checked/>
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='detail'  style='right: 20%' />
                        
                    <div class='meleeTechTitle' >
                        <input type='text' name='attr_meleetech-name' title='Name' placeholder="Tech Name" class="meleeTechName" />
                        <br>
                        <input id='Weapon' type='radio' name='attr_meleetech-type' value='Weapon' checked>
                        <span for="Weapon">Weapon</span>
                        <input id='Combat' type='radio' name='attr_meleetech-type' value='Combat'>
                        <span for="Combat">Combat</span>
                        <br>
                        <button class='iconbutton weaponArtsIcon'></button>
                        <button class='iconbutton combatArtsIcon'></button>
                        
                    </div>
                    <div class='meleeTechInfo'>
                        <br>
                        <button type="action" name='act_activatetech' class='semi'>Execute</button>
                        
                        <b>Sequence:</b>
                        <div style='display: inline'>
                            <input type='checkbox' name='attr_meleetech-lunge'>
                            <span >Lunge</span>
                            <input type='checkbox' name='attr_meleetech-launcher'>
                            <span >Launcher</span>
                            <input type='checkbox' name='attr_meleetech-spike'>
                            <span >Spike</span>
                            <input type='checkbox' name='attr_meleetech-streak'>
                            <span >Streak</span>
                            <input type='checkbox' name='attr_meleetech-ender'>
                            <span >Ender</span>
                            <input type='checkbox' name='attr_meleetech-counter'>
                            <span >Counter</span>
                            <input type='checkbox' name='attr_meleetech-parry'>
                            <span >Parry</span>
                            <input type='checkbox' name='attr_meleetech-stance'>
                            <span >Stance</span>
                        </div>
                        <br>
                        <b>Base:</b><input type='number' name='attr_meleetech-base' value=0 title='Base Damage Bonus' placeholder="Base" max='50' min='0' class="entry-inputs"/>
                        <b>Hits:</b><input type='number' name='attr_meleetech-hits' value=1 title='Number of Hits' placeholder="Hits" max='50' min='0'  class="entry-inputs"/>
                        <b>Cost:</b><input type='text' name='attr_meleetech-cost' style='width: 25%' value='' title='Cost' placeholder="Numbers ONLY" class="entry-inputs"/>
                        <b>Req:</b><select name='attr_meleetech-requirement' class='meleetechniquesDD' title='Requirement'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <textarea name="attr_meleetech-text" placeholder="description" style='width: 95%; height: 5%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="mt_slot3">
                <fieldset class="repeating_meleetech3">
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='info'  style='right: 15%' checked/>
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='detail'  style='right: 20%' />
                        
                    <div class='meleeTechTitle' >
                        <input type='text' name='attr_meleetech-name' title='Name' placeholder="Tech Name" class="meleeTechName" />
                        <br>
                        <input id='Weapon' type='radio' name='attr_meleetech-type' value='Weapon' checked>
                        <span for="Weapon">Weapon</span>
                        <input id='Combat' type='radio' name='attr_meleetech-type' value='Combat'>
                        <span for="Combat">Combat</span>
                        <br>
                        <button class='iconbutton weaponArtsIcon'></button>
                        <button class='iconbutton combatArtsIcon'></button>
                        
                    </div>
                    <div class='meleeTechInfo'>
                        <br>
                        <button type="action" name='act_activatetech' class='semi'>Execute</button>
                        
                        <b>Sequence:</b>
                        <div style='display: inline'>
                            <input type='checkbox' name='attr_meleetech-lunge'>
                            <span >Lunge</span>
                            <input type='checkbox' name='attr_meleetech-launcher'>
                            <span >Launcher</span>
                            <input type='checkbox' name='attr_meleetech-spike'>
                            <span >Spike</span>
                            <input type='checkbox' name='attr_meleetech-streak'>
                            <span >Streak</span>
                            <input type='checkbox' name='attr_meleetech-ender'>
                            <span >Ender</span>
                            <input type='checkbox' name='attr_meleetech-counter'>
                            <span >Counter</span>
                            <input type='checkbox' name='attr_meleetech-parry'>
                            <span >Parry</span>
                            <input type='checkbox' name='attr_meleetech-stance'>
                            <span >Stance</span>
                        </div>
                        <br>
                        <b>Base:</b><input type='number' name='attr_meleetech-base' value=0 title='Base Damage Bonus' placeholder="Base" max='50' min='0' class="entry-inputs"/>
                        <b>Hits:</b><input type='number' name='attr_meleetech-hits' value=1 title='Number of Hits' placeholder="Hits" max='50' min='0'  class="entry-inputs"/>
                        <b>Cost:</b><input type='text' name='attr_meleetech-cost' style='width: 25%' value='' title='Cost' placeholder="Numbers ONLY" class="entry-inputs"/>
                        <b>Req:</b><select name='attr_meleetech-requirement' class='meleetechniquesDD' title='Requirement'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <textarea name="attr_meleetech-text" placeholder="description" style='width: 95%; height: 5%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="mt_slot4">
                <fieldset class="repeating_meleetech4">
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='info'  style='right: 15%' checked/>
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='detail'  style='right: 20%' />
                        
                    <div class='meleeTechTitle' >
                        <input type='text' name='attr_meleetech-name' title='Name' placeholder="Tech Name" class="meleeTechName" />
                        <br>
                        <input id='Weapon' type='radio' name='attr_meleetech-type' value='Weapon' checked>
                        <span for="Weapon">Weapon</span>
                        <input id='Combat' type='radio' name='attr_meleetech-type' value='Combat'>
                        <span for="Combat">Combat</span>
                        <br>
                        <button class='iconbutton weaponArtsIcon'></button>
                        <button class='iconbutton combatArtsIcon'></button>
                        
                    </div>
                    <div class='meleeTechInfo'>
                        <br>
                        <button type="action" name='act_activatetech' class='semi'>Execute</button>
                        
                        <b>Sequence:</b>
                        <div style='display: inline'>
                            <input type='checkbox' name='attr_meleetech-lunge'>
                            <span >Lunge</span>
                            <input type='checkbox' name='attr_meleetech-launcher'>
                            <span >Launcher</span>
                            <input type='checkbox' name='attr_meleetech-spike'>
                            <span >Spike</span>
                            <input type='checkbox' name='attr_meleetech-streak'>
                            <span >Streak</span>
                            <input type='checkbox' name='attr_meleetech-ender'>
                            <span >Ender</span>
                            <input type='checkbox' name='attr_meleetech-counter'>
                            <span >Counter</span>
                            <input type='checkbox' name='attr_meleetech-parry'>
                            <span >Parry</span>
                            <input type='checkbox' name='attr_meleetech-stance'>
                            <span >Stance</span>
                        </div>
                        <br>
                        <b>Base:</b><input type='number' name='attr_meleetech-base' value=0 title='Base Damage Bonus' placeholder="Base" max='50' min='0' class="entry-inputs"/>
                        <b>Hits:</b><input type='number' name='attr_meleetech-hits' value=1 title='Number of Hits' placeholder="Hits" max='50' min='0'  class="entry-inputs"/>
                        <b>Cost:</b><input type='text' name='attr_meleetech-cost' style='width: 25%' value='' title='Cost' placeholder="Numbers ONLY" class="entry-inputs"/>
                        <b>Req:</b><select name='attr_meleetech-requirement' class='meleetechniquesDD' title='Requirement'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <textarea name="attr_meleetech-text" placeholder="description" style='width: 95%; height: 5%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="mt_slot5">
                <fieldset class="repeating_meleetech5">
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='info'  style='right: 15%' checked/>
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='detail'  style='right: 20%' />
                        
                    <div class='meleeTechTitle' >
                        <input type='text' name='attr_meleetech-name' title='Name' placeholder="Tech Name" class="meleeTechName" />
                        <br>
                        <input id='Weapon' type='radio' name='attr_meleetech-type' value='Weapon' checked>
                        <span for="Weapon">Weapon</span>
                        <input id='Combat' type='radio' name='attr_meleetech-type' value='Combat'>
                        <span for="Combat">Combat</span>
                        <br>
                        <button class='iconbutton weaponArtsIcon'></button>
                        <button class='iconbutton combatArtsIcon'></button>
                        
                    </div>
                    <div class='meleeTechInfo'>
                        <br>
                        <button type="action" name='act_activatetech' class='semi'>Execute</button>
                        
                        <b>Sequence:</b>
                        <div style='display: inline'>
                            <input type='checkbox' name='attr_meleetech-lunge'>
                            <span >Lunge</span>
                            <input type='checkbox' name='attr_meleetech-launcher'>
                            <span >Launcher</span>
                            <input type='checkbox' name='attr_meleetech-spike'>
                            <span >Spike</span>
                            <input type='checkbox' name='attr_meleetech-streak'>
                            <span >Streak</span>
                            <input type='checkbox' name='attr_meleetech-ender'>
                            <span >Ender</span>
                            <input type='checkbox' name='attr_meleetech-counter'>
                            <span >Counter</span>
                            <input type='checkbox' name='attr_meleetech-parry'>
                            <span >Parry</span>
                            <input type='checkbox' name='attr_meleetech-stance'>
                            <span >Stance</span>
                        </div>
                        <br>
                        <b>Base:</b><input type='number' name='attr_meleetech-base' value=0 title='Base Damage Bonus' placeholder="Base" max='50' min='0' class="entry-inputs"/>
                        <b>Hits:</b><input type='number' name='attr_meleetech-hits' value=1 title='Number of Hits' placeholder="Hits" max='50' min='0'  class="entry-inputs"/>
                        <b>Cost:</b><input type='text' name='attr_meleetech-cost' style='width: 25%' value='' title='Cost' placeholder="Numbers ONLY" class="entry-inputs"/>
                        <b>Req:</b><select name='attr_meleetech-requirement' class='meleetechniquesDD' title='Requirement'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <textarea name="attr_meleetech-text" placeholder="description" style='width: 95%; height: 5%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="mt_slot6">
                <fieldset class="repeating_meleetech6">
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='info'  style='right: 15%' checked/>
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='detail'  style='right: 20%' />
                        
                    <div class='meleeTechTitle' >
                        <input type='text' name='attr_meleetech-name' title='Name' placeholder="Tech Name" class="meleeTechName" />
                        <br>
                        <input id='Weapon' type='radio' name='attr_meleetech-type' value='Weapon' checked>
                        <span for="Weapon">Weapon</span>
                        <input id='Combat' type='radio' name='attr_meleetech-type' value='Combat'>
                        <span for="Combat">Combat</span>
                        <br>
                        <button class='iconbutton weaponArtsIcon'></button>
                        <button class='iconbutton combatArtsIcon'></button>
                        
                    </div>
                    <div class='meleeTechInfo'>
                        <br>
                        <button type="action" name='act_activatetech' class='semi'>Execute</button>
                        
                        <b>Sequence:</b>
                        <div style='display: inline'>
                            <input type='checkbox' name='attr_meleetech-lunge'>
                            <span >Lunge</span>
                            <input type='checkbox' name='attr_meleetech-launcher'>
                            <span >Launcher</span>
                            <input type='checkbox' name='attr_meleetech-spike'>
                            <span >Spike</span>
                            <input type='checkbox' name='attr_meleetech-streak'>
                            <span >Streak</span>
                            <input type='checkbox' name='attr_meleetech-ender'>
                            <span >Ender</span>
                            <input type='checkbox' name='attr_meleetech-counter'>
                            <span >Counter</span>
                            <input type='checkbox' name='attr_meleetech-parry'>
                            <span >Parry</span>
                            <input type='checkbox' name='attr_meleetech-stance'>
                            <span >Stance</span>
                        </div>
                        <br>
                        <b>Base:</b><input type='number' name='attr_meleetech-base' value=0 title='Base Damage Bonus' placeholder="Base" max='50' min='0' class="entry-inputs"/>
                        <b>Hits:</b><input type='number' name='attr_meleetech-hits' value=1 title='Number of Hits' placeholder="Hits" max='50' min='0'  class="entry-inputs"/>
                        <b>Cost:</b><input type='text' name='attr_meleetech-cost' style='width: 25%' value='' title='Cost' placeholder="Numbers ONLY" class="entry-inputs"/>
                        <b>Req:</b><select name='attr_meleetech-requirement' class='meleetechniquesDD' title='Requirement'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <textarea name="attr_meleetech-text" placeholder="description" style='width: 95%; height: 5%'></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="mt_slot7">
                <fieldset class="repeating_meleetech7">
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='info'  style='right: 15%' checked/>
                    <input type='radio' name='attr_meleeTabToggle' class="MeleeTabToggleTool" id='detail'  style='right: 20%' />
                        
                    <div class='meleeTechTitle' >
                        <input type='text' name='attr_meleetech-name' title='Name' placeholder="Tech Name" class="meleeTechName" />
                        <br>
                        <input id='Weapon' type='radio' name='attr_meleetech-type' value='Weapon' checked>
                        <span for="Weapon">Weapon</span>
                        <input id='Combat' type='radio' name='attr_meleetech-type' value='Combat'>
                        <span for="Combat">Combat</span>
                        <br>
                        <button class='iconbutton weaponArtsIcon'></button>
                        <button class='iconbutton combatArtsIcon'></button>
                        
                    </div>
                    <div class='meleeTechInfo'>
                        <br>
                        <button type="action" name='act_activatetech' class='semi'>Execute</button>
                        
                        <b>Sequence:</b>
                        <div style='display: inline'>
                            <input type='checkbox' name='attr_meleetech-lunge'>
                            <span >Lunge</span>
                            <input type='checkbox' name='attr_meleetech-launcher'>
                            <span >Launcher</span>
                            <input type='checkbox' name='attr_meleetech-spike'>
                            <span >Spike</span>
                            <input type='checkbox' name='attr_meleetech-streak'>
                            <span >Streak</span>
                            <input type='checkbox' name='attr_meleetech-ender'>
                            <span >Ender</span>
                            <input type='checkbox' name='attr_meleetech-counter'>
                            <span >Counter</span>
                            <input type='checkbox' name='attr_meleetech-parry'>
                            <span >Parry</span>
                            <input type='checkbox' name='attr_meleetech-stance'>
                            <span >Stance</span>
                        </div>
                        <br>
                        <b>Base:</b><input type='number' name='attr_meleetech-base' value=0 title='Base Damage Bonus' placeholder="Base" max='50' min='0' class="entry-inputs"/>
                        <b>Hits:</b><input type='number' name='attr_meleetech-hits' value=1 title='Number of Hits' placeholder="Hits" max='50' min='0'  class="entry-inputs"/>
                        <b>Cost:</b><input type='text' name='attr_meleetech-cost' style='width: 25%' value='' title='Cost' placeholder="Numbers ONLY" class="entry-inputs"/>
                        <b>Req:</b><select name='attr_meleetech-requirement' class='meleetechniquesDD' title='Requirement'>
                            <option selected >0</option>
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                            <option>25</option>
                            <option>30</option>
                            <option>35</option>
                            <option>40</option>
                            <option>45</option>
                            <option>50</option>
                            <option>55</option>
                            <option>60</option>
                            <option>65</option>
                            <option>70</option>
                            <option>75</option>
                            <option>80</option>
                            <option>85</option>
                            <option>90</option>
                            <option>95</option>
                            <option>100</option>
                        </select>
                        <textarea name="attr_meleetech-text" placeholder="description" style='width: 95%; height: 5%'></textarea>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>

    <div class='training' id="tab8">
        
        <span class="label-general">
            <span>||Core Training -</span>
            <input type='radio' name='attr_trainingtype' value='core' />
            <span>||Minor Training -</span>
            <input type='radio' name='attr_trainingtype' value='minor' />
            <span>||Concentration -</span>
            <input type='radio' name='attr_trainingtype' value='concentration' />
            <span>||Titles -</span>
            <input type='radio' name='attr_trainingtype' value='title' />
            <span>||Race -</span>
            <input type='radio' name='attr_trainingtype' value='race' />
            <span>||</span>
        </span>
        <br>
        
        <div class="menuborder" style='text-align: center'>
            <input type='hidden' name='attr_trainingtype' />
            
            <div class='train5'>
                <span class="label-general">Sub-Race</span>
                <fieldset class="repeating_races">
                    <input type="text" name='attr_name' placeholder='Name' class='passiveInput'/>
                    <br>
                        <span>Origin: </span><select name="attr_training-origin" class='EtechDD'>
                            <option value='None' selected >None</option>
                            <option value='Ciaha'>Ciaha</option>
                            <option value='Magian'>Magian</option>
                            <option value='Adept'>Adept</option>
                            <option value='Arbitar'>Arbitar</option>
                            <option value='Necrian'>Necrian</option>
                            <option value='Riahan'>Riahan</option>
                            <option value='Celestial'>Celestial</option>
                        </select>
                    <br>
                    <textarea name="attr_race-desc" placeholder="Description and Origin..." style='width: 30%; height: 25%;'></textarea>
                    <textarea name="attr_race-text" placeholder="Bonuses..." style='width: 30%; height: 25%;'></textarea>
                    <textarea name="attr_race-training" placeholder="Training..." style='width: 30%; height: 25%;'></textarea>
                    <br>
                </fieldset>
            </div>
            <div class='train4'>
                <span class="label-general">CONCENTRATIONS</span>
                <br>
                <span class="label-general">
                -B O N U S E S-
                </span>
                <br>
                <span >
                ***************************************************
                </span>
                <br>
                <span class="label-general">
                    <span>Melee(L)</span><input name='attr_meleecon' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>Defense(D)</span><input name='attr_defensecon' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>Energy(E)</span><input name='attr_energycon' type='number' min=0 max=5 class='passiveNumber'  value=0 />
                    <span>Magic(M)</span><input name='attr_magiccon' type='number' min=0 max=5 class='passiveNumber' value=0  />
                </span>
                <br>
                <span class="label-general">
                    <span>Faith(F)</span><input name='attr_faithcon' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>Arcane(A)</span><input name='attr_arcanecon' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>Tech(T)</span><input name='attr_techcon' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>General(G)</span><input name='attr_generalcon' type='number' min=0 max=5 class='passiveNumber' value=0  />
                </span>
                <br>
                <span >
                ***************************************************
                </span>
                <br>
                <fieldset class="repeating_concentrations">
                    <input type="text" name='attr_name' placeholder="Name" class='passiveInput'/> 
                    <span>Max Trainings: </span><input type='number' min=0 max=10 class='passiveNumber' value=0 />
                    <br>
                    <span>Melee(L)</span><input name='attr_meleeconrep' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>Defense(D)</span><input name='attr_defenseconrep' type='number' min=0 max=5 class='passiveNumber'  value=0 />
                    <span>Energy(E)</span><input name='attr_energyconrep' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>Magic(M)</span><input name='attr_magicconrep' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <br>
                    <span>Faith(F)</span><input name='attr_faithconrep' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>Arcane(A)</span><input name='attr_arcaneconrep' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>Tech(T)</span><input name='attr_techconrep' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <span>General(G)</span><input name='attr_generalconrep' type='number' min=0 max=5 class='passiveNumber' value=0  />
                    <br>
                    <textarea name="attr_trainings" style='width: 45%; height: 25%;' placeholder='Trainings...'></textarea>
                    <textarea name="attr_titles" style='width: 45%; height: 25%;' placeholder='Titles...'></textarea>
                    <br> 
                </fieldset> 
            </div>
            <div class='train3'>
                <span class="label-general">CORE TRAINING</span>
                <div style="display: inline">
                    <input type="hidden" name='attr_coreSlot' id="coreList" />
                    <button type="action" name="act_core_slot1" class='semi' id="tab1">1</button>
                    <button type="action" name="act_core_slot2" class='semi' id="tab2">2</button>
                    <button type="action" name="act_core_slot3" class='semi' id="tab3">3</button>
                </div>
                <div>
                    <input type="hidden" name='attr_coreSlot' id="coreList" />
                    <div class="ct_slot1" >
                        <fieldset class="repeating_core1">
                            <input type="text" name='attr_name' class='passiveInput' placeholder='Name'/> 
                            <br>
                            <input type="text" name='attr_origin' class='passiveInput'  placeholder='Campaign' />
                            <br>
                            <span>Creation: </span><input type='checkbox' name='attr_creation' />
                            <span>Stage: </span><input type='number' min=0 max=4 value=0 class='passiveNumber' name='attr_stage' />
                            <textarea name="attr_core-desc" style='width: 95%; height: 25%;' placeholder='Bonuses...'></textarea>
                            <br> 
                        </fieldset> 
                    </div>
                    <div class="ct_slot2" >
                        <fieldset class="repeating_core2">
                            <input type="text" name='attr_name' class='passiveInput' placeholder='Name'/> 
                            <br>
                            <input type="text" name='attr_origin' class='passiveInput'  placeholder='Campaign' />
                            <br>
                            <span>Creation: </span><input type='checkbox' />
                            <span>Stage: </span><input type='number' min=0 max=4 value=0 class='passiveNumber' />
                            <textarea name="attr_core-desc" style='width: 95%; height: 25%;' placeholder='Bonuses...'></textarea>
                            <br> 
                        </fieldset> 
                    </div>
                    <div class="ct_slot3" >
                        <fieldset class="repeating_core3">
                            <input type="text" name='attr_name' class='passiveInput' placeholder='Name'/> 
                            <br>
                            <input type="text" name='attr_origin' class='passiveInput'  placeholder='Campaign' />
                            <br>
                            <span>Creation: </span><input type='checkbox' />
                            <span>Stage: </span><input type='number' min=0 max=4 value=0 class='passiveNumber' />
                            <textarea name="attr_core-desc" style='width: 95%; height: 25%;' placeholder='Bonuses...'></textarea>
                            <br>  
                        </fieldset> 
                    </div>
                </div>
            </div>
            <div class='train2'>
                <span class="label-general">TITLES</span>
                <div style="display: inline">
                    <input type="hidden" name='attr_titleSlot' id="titleList" />
                    <button type="action" name="act_title_slot1" class='semi' id="tab1">1</button>
                    <button type="action" name="act_title_slot2" class='semi' id="tab2">2</button>
                    <button type="action" name="act_title_slot3" class='semi' id="tab3">3</button>
                    <button type="action" name="act_title_slot4" class='semi' id="tab4">4</button>
                    <button type="action" name="act_title_slot5" class='semi' id="tab5">5</button>
                </div>
                <div>
                    <input type="hidden" name='attr_titleSlot' id="titleList" />
                    <div class="tt_slot1" >
                        <fieldset class="repeating_titles1">
                            <input type="text" name='attr_titlename' placeholder='Name' class='passiveInput'/>
                            <b>CLASS TITLE</b><input name='attr_classTitle' type='checkbox' />
                            <br><br>
                            <textarea name="attr_title-desc" placeholder="Bonuses..." style='width: 45%; height: 25%;'></textarea>
                            <textarea name="attr_title-text" placeholder="Requirements..." style='width: 45%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                    </div>
                    <div class="tt_slot2" >
                        <fieldset class="repeating_titles2">
                            <input type="text" name='attr_titlename' placeholder='Name' class='passiveInput'/>
                            <b>CLASS TITLE</b><input name='attr_classTitle' type='checkbox' />
                            <br><br>
                            <textarea name="attr_title-desc" placeholder="Bonuses..." style='width: 45%; height: 25%;'></textarea>
                            <textarea name="attr_title-text" placeholder="Requirements..." style='width: 45%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                    </div>
                    <div class="tt_slot3" >
                        <fieldset class="repeating_titles3">
                            <input type="text" name='attr_titlename' placeholder='Name' class='passiveInput'/>
                            <b>CLASS TITLE</b><input name='attr_classTitle' type='checkbox' />
                            <br><br>
                            <textarea name="attr_title-desc" placeholder="Bonuses..." style='width: 45%; height: 25%;'></textarea>
                            <textarea name="attr_title-text" placeholder="Requirements..." style='width: 45%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                    </div>
                    <div class="tt_slot4" >
                        <fieldset class="repeating_titles4">
                            <input type="text" name='attr_titlename' placeholder='Name' class='passiveInput'/>
                            <b>CLASS TITLE</b><input name='attr_classTitle' type='checkbox' />
                            <br><br>
                            <textarea name="attr_title-desc" placeholder="Bonuses..." style='width: 45%; height: 25%;'></textarea>
                            <textarea name="attr_title-text" placeholder="Requirements..." style='width: 45%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                    </div>
                    <div class="tt_slot5" >
                        <fieldset class="repeating_titles5">
                            <input type="text" name='attr_titlename' placeholder='Name' class='passiveInput'/>
                            <b>CLASS TITLE</b><input name='attr_classTitle' type='checkbox' />
                            <br><br>
                            <textarea name="attr_title-desc" placeholder="Bonuses..." style='width: 45%; height: 25%;'></textarea>
                            <textarea name="attr_title-text" placeholder="Requirements..." style='width: 45%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                    </div>
                </div>
            </div>
            <div class='train1'>
                <span class="label-general">MINOR TRAINING</span>
                <div style="display: inline">
                    <input type="hidden" name='attr_trainingSlot' id="trainingList" />
                    <button type="action" name="act_training_slot1" class='semi selected' id="tab1">1</button>
                    <button type="action" name="act_training_slot2" class='semi selected' id="tab2">2</button>
                    <button type="action" name="act_training_slot3" class='semi selected' id="tab3">3</button>
                    <button type="action" name="act_training_slot4" class='semi selected' id="tab4">4</button>
                    <button type="action" name="act_training_slot5" class='semi selected' id="tab5">5</button>
                </div>
                <div>
                    <input type="hidden" name='attr_trainingSlot' id="trainingList" />
                    <div class="tr_slot1">
                        <fieldset class="repeating_training">
                            <input  name="attr_trainingname" type="text" placeholder='Name' class='passiveInput' />
                            <b>RACIAL</b><input name='attr_racial' type='checkbox' />
                            <br>
                            <span>Origin: </span><select name="attr_training-origin" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Ciaha'>Ciaha</option>
                                <option value='Magian'>Magian</option>
                                <option value='Adept'>Adept</option>
                                <option value='Arbitar'>Arbitar</option>
                                <option value='Necrian'>Necrian</option>
                                <option value='Riahan'>Riahan</option>
                                <option value='Celestial'>Celestial</option>
                                <option value='Spell-Craft'>Spell-Craft</option>
                                <option value='Mage-Craft'>Mage-Craft</option>
                                <option value='War-Craft'>War-Craft</option>
                                <option value='Star-Craft'>Star-Craft</option>
                            </select>
                            <span>Type: </span><select name="attr_training-type" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Core'>Core</option>
                                <option value='General'>General</option>
                                <option value='Melee'>Melee</option>
                                <option value='Magic'>Magic</option>
                                <option value='Energy'>Energy</option>
                                <option value='Defense'>Defense</option>
                                <option value='Tech'>Tech</option>
                                <option value='Faith'>Faith</option>
                                <option value='Arcane'>Arcane</option>
                            </select><br>
                            <textarea name="attr_training-text" placeholder="Bonuses..." style='width: 90%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                    </div>
                    <div class="tr_slot2">
                        <fieldset class="repeating_training2">
                            <input  name="attr_trainingname" type="text" placeholder='Name' class='passiveInput' />
                            <b>RACIAL</b><input name='attr_racial' type='checkbox' />
                            <br>
                            <span>Origin: </span><select name="attr_training-origin" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Ciaha'>Ciaha</option>
                                <option value='Magian'>Magian</option>
                                <option value='Adept'>Adept</option>
                                <option value='Arbitar'>Arbitar</option>
                                <option value='Necrian'>Necrian</option>
                                <option value='Riahan'>Riahan</option>
                                <option value='Celestial'>Celestial</option>
                                <option value='Spell-Craft'>Spell-Craft</option>
                                <option value='Mage-Craft'>Mage-Craft</option>
                                <option value='War-Craft'>War-Craft</option>
                                <option value='Star-Craft'>Star-Craft</option>
                            </select>
                            <span>Type: </span><select name="attr_training-type" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Core'>Core</option>
                                <option value='General'>General</option>
                                <option value='Melee'>Melee</option>
                                <option value='Magic'>Magic</option>
                                <option value='Energy'>Energy</option>
                                <option value='Defense'>Defense</option>
                                <option value='Tech'>Tech</option>
                                <option value='Faith'>Faith</option>
                                <option value='Arcane'>Arcane</option>
                            </select><br>
                            <textarea name="attr_training-text" placeholder="Bonuses..." style='width: 90%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                </div>
                    <div class="tr_slot3">
                        <fieldset class="repeating_training3">
                            <input  name="attr_trainingname" type="text" placeholder='Name' class='passiveInput' />
                            <b>RACIAL</b><input name='attr_racial' type='checkbox' />
                            <br>
                            <span>Origin: </span><select name="attr_training-origin" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Ciaha'>Ciaha</option>
                                <option value='Magian'>Magian</option>
                                <option value='Adept'>Adept</option>
                                <option value='Arbitar'>Arbitar</option>
                                <option value='Necrian'>Necrian</option>
                                <option value='Riahan'>Riahan</option>
                                <option value='Celestial'>Celestial</option>
                                <option value='Spell-Craft'>Spell-Craft</option>
                                <option value='Mage-Craft'>Mage-Craft</option>
                                <option value='War-Craft'>War-Craft</option>
                                <option value='Star-Craft'>Star-Craft</option>
                            </select>
                            <span>Type: </span><select name="attr_training-type" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Core'>Core</option>
                                <option value='General'>General</option>
                                <option value='Melee'>Melee</option>
                                <option value='Magic'>Magic</option>
                                <option value='Energy'>Energy</option>
                                <option value='Defense'>Defense</option>
                                <option value='Tech'>Tech</option>
                                <option value='Faith'>Faith</option>
                                <option value='Arcane'>Arcane</option>
                            </select><br>
                            <textarea name="attr_training-text" placeholder="Bonuses..." style='width: 90%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                    </div>
                    <div class="tr_slot4">
                        <fieldset class="repeating_training4">
                            <input  name="attr_trainingname" type="text" placeholder='Name' class='passiveInput' />
                            <b>RACIAL</b><input name='attr_racial' type='checkbox' />
                            <br>
                            <span>Origin: </span><select name="attr_training-origin" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Ciaha'>Ciaha</option>
                                <option value='Magian'>Magian</option>
                                <option value='Adept'>Adept</option>
                                <option value='Arbitar'>Arbitar</option>
                                <option value='Necrian'>Necrian</option>
                                <option value='Riahan'>Riahan</option>
                                <option value='Celestial'>Celestial</option>
                                <option value='Spell-Craft'>Spell-Craft</option>
                                <option value='Mage-Craft'>Mage-Craft</option>
                                <option value='War-Craft'>War-Craft</option>
                                <option value='Star-Craft'>Star-Craft</option>
                            </select>
                            <span>Type: </span><select name="attr_training-type" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Core'>Core</option>
                                <option value='General'>General</option>
                                <option value='Melee'>Melee</option>
                                <option value='Magic'>Magic</option>
                                <option value='Energy'>Energy</option>
                                <option value='Defense'>Defense</option>
                                <option value='Tech'>Tech</option>
                                <option value='Faith'>Faith</option>
                                <option value='Arcane'>Arcane</option>
                            </select><br>
                            <textarea name="attr_training-text" placeholder="Bonuses..." style='width: 90%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                </div>
                    <div class="tr_slot5">
                        <fieldset class="repeating_training5">
                            <input  name="attr_trainingname" type="text" placeholder='Name' class='passiveInput' />
                            <b>RACIAL</b><input name='attr_racial' type='checkbox' />
                            <br>
                            <span>Origin: </span><select name="attr_training-origin" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Ciaha'>Ciaha</option>
                                <option value='Magian'>Magian</option>
                                <option value='Adept'>Adept</option>
                                <option value='Arbitar'>Arbitar</option>
                                <option value='Necrian'>Necrian</option>
                                <option value='Riahan'>Riahan</option>
                                <option value='Celestial'>Celestial</option>
                                <option value='Spell-Craft'>Spell-Craft</option>
                                <option value='Mage-Craft'>Mage-Craft</option>
                                <option value='War-Craft'>War-Craft</option>
                                <option value='Star-Craft'>Star-Craft</option>
                            </select>
                            <span>Type: </span><select name="attr_training-type" class='EtechDD'>
                                <option value='None' selected >None</option>
                                <option value='Core'>Core</option>
                                <option value='General'>General</option>
                                <option value='Melee'>Melee</option>
                                <option value='Magic'>Magic</option>
                                <option value='Energy'>Energy</option>
                                <option value='Defense'>Defense</option>
                                <option value='Tech'>Tech</option>
                                <option value='Faith'>Faith</option>
                                <option value='Arcane'>Arcane</option>
                            </select><br>
                            <textarea name="attr_training-text" placeholder="Bonuses..." style='width: 90%; height: 25%;'></textarea>
                            <br>
                        </fieldset> 
                </div>
                </div>
            </div>
        </div>
    </div>

</div>
<rolltemplate class="sheet-rolltemplate-spell">
    <div class="template-container">
        <div class="template-header"></div>
        <div class="template-row"><span>Spell: </span>{{computed::Spell}}</div>
        <div class="template-row"><span>Cost: </span>{{computed::Cost}}</div>
        <div class="template-row"><span>TTT: </span>{{computed::TTT}}</div>
        <div class="template-row"><span>Info: </span>{{computed::Info}}</div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-etech">
    <div class="template-container">
        <div class="template-header"></div>
        <div class="template-row"><span>Tech: </span>{{computed::Tech}}</div>
        <div class="template-row"><span>Cost: </span>{{computed::Cost}}</div>
        <div class="template-row"><span>TTT: </span>{{computed::TTT}}</div>
        <div class="template-row"><span>Info: </span>{{computed::Info}}</div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-test">
    <div class="sheet-template-container">
        <h1>{{name}}</h1>
        <h3>Chain: {{computed::Chain}}</h3>
        <h3>Hits: {{computed::Hits}}</h3>
        <h3>Total Bonus: {{computed::Bonus}}</h3>
        <h3>Total Damage: {{computed::Total}}</h3>
        <h3>Durability Cost: {{computed::Dur}}</h3>
    </div>
</rolltemplate>

<script type="text/worker">
//tab buttons
const buttonlist = ["character","health","battle","passives","inventory","equipment","spells","styles","meleetechniques","energytechniques","training"];
buttonlist.forEach(button => {
//creates several functions with a foreach using energyRadioValues array and string concatenation for function names
    on(`clicked:${button}`, function() {
        setAttrs({
            sheetTab: button
        });
    });
});
//Training Tabs
const Tabs = ["1","2","3","4","5","6","7"]
Tabs.forEach(tab => {
    on(`clicked:training_slot${tab}`, function() {
        setAttrs({
            trainingSlot: tab
        });
    });
    on(`clicked:pe_slot${tab}`, function() {
        setAttrs({
            peSlot: tab
        });
    });
    on(`clicked:title_slot${tab}`, function() {
        setAttrs({
            titleSlot: tab
        });
    });
     on(`clicked:core_slot${tab}`, function() {
        setAttrs({
            coreSlot: tab
        });
    });
    on(`clicked:spells_slot${tab}`, function() {
        setAttrs({
            spellTabSlot: tab
        });
    });
    on(`clicked:eTech_slot${tab}`, function() {
        setAttrs({
            eTechTabSlot: tab
        });
    });
    on(`clicked:mTech_slot${tab}`, function() {
        setAttrs({
            mTechTabSlot: tab
        });
    });
})
//Energy Catalyst buttons
const energyRadioValues = ["Mental","Body","Spirit","Memory","Demon","necroforce"];
//creates several functions with a foreach using energyRadioValues array and string concatenation for function names
energyRadioValues.forEach(value => {
    on(`clicked:Energy_type_${value}`, function() {
        setAttrs({
            Energy_type: value
        });
    });
    on(`clicked:${value.toLowerCase()}techdefault`, function() {
        setAttrs({
            etechdefault: value.toLowerCase()
        });
    });
});
//governs the increments of progress bars on Health tab. Roll20 won't allow for normal meter or progress HTML tags
const progressBarList = ["Char_Life_Force","Char_Spirit_Force","Char_Soul_Force","Char_Manna","Char_Demon","Disruption","Pain"];
progressBarList.forEach(button => {
    on(`change:${button}`, function() {
        getAttrs([`max${button}`, button], v => {
            var ratio = parseInt((parseInt(v[button])/v[`max${button}`])/0.1);
            console.log(button + " ratio: " + ratio);
            setAttrs({
            [`${button}ratio`]: ratio || 0
            });
        });
    });
});
//governs the weapon attack display between mainhand, offhand, and dualwielding or ranged
const weapontoggle= ["primary","secondary","dual","ranged","unarmed"];
weapontoggle.forEach(value => {
    on(`clicked:${value}-toggle`, function() {
        setAttrs({
            "weapon-toggle": value
        });
    });
});
const guardtoggle = ["weapon","combat"];
guardtoggle.forEach(value => {
    on(`clicked:${value}guardtoggle`, function() {
        setAttrs({
            blockToggle: value
        });
        console.log(value)
    });
});
//race radio buttons
const raceRadioValues = ["Ciaha","Magian","Necrian","Adept","Arbiter","Riahan"];
//creates several functions with a foreach using raceRadioValues array and string concatenation for function names
raceRadioValues.forEach(value => {
    on(`clicked:Race_${value}`, function() {
        setAttrs({
            Char_Race: value
        });
        //console.log(value);
    });
});
//unfortunately, there is no other way to incremenant an attribute without the API
const statButtons = ["constitution","discipline","resistance","intelligence"];
statButtons.forEach(value => {//styles and acc doesn't reflect changes to dis
    on(`clicked:add_${value}`, () => {
        getAttrs([`char_${value}`], v => {
            if(v[`char_${value}`] < 10)
            {
                setAttrs({
                [`char_${value}`]: v[`char_${value}`] + 1
                }); 
            }else
            {
                setAttrs({
                [`char_${value}`]: 10
                });
            }
        })
    });
    on(`clicked:minus_${value}`, () => {
        getAttrs([`char_${value}`], v => {
            if(v[`char_${value}`] > 0)
            {
                setAttrs({
                [`char_${value}`]: v[`char_${value}`] - 1
                }); 
            }else
            {
                setAttrs({
                [`char_${value}`]: 0
                });
            }
        })
    });
});
//unfortunately, there is no other way to incremenant an attribute without the API
const skillsButtons = ["weapon_arts","combat_arts","magitech","tech"];
skillsButtons.forEach(value => {
     on(`clicked:add_${value}`, () => {
        getAttrs([`char_${value}`,"equipped-weapon-style","primary-weapon","secondary-weapon"], v => {
            if(v[`char_${value}`] < 100)
            {
                setAttrs({
                [`char_${value}`]: v[`char_${value}`] + 5
                }); 
            }else
            {
                setAttrs({
                [`char_${value}`]: 100
                });
            }
            Adjust_Battle(v["primary-weapon"], v["secondary-weapon"], v["equipped-weapon-style"]);
        })
    });
    on(`clicked:minus_${value}`, () => {
        getAttrs([`char_${value}`,"equipped-weapon-style","primary-weapon","secondary-weapon"], v => {
            if(v[`char_${value}`] > 5)
            {
                setAttrs({
                [`char_${value}`]: v[`char_${value}`] - 5
                }); 
            }else
            {
                setAttrs({
                [`char_${value}`]: 0
                });
            }
            Adjust_Battle(v["primary-weapon"], v["secondary-weapon"], v["equipped-weapon-style"]);
        })
    });
});
//unfortunately, there is no other way to incremenant an attribute without the API
const CatalystButtons = ["catalyst_mental","catalyst_body","catalyst_spirit","catalyst_memory","catalyst_demon","catalyst_necro"];
CatalystButtons.forEach(value => {
    on(`clicked:add_${value}`, () => {
        getAttrs([`${value}`], v => {
            if(v[`${value}`] <96)
            {
                setAttrs({
                    [`${value}`]: v[`${value}`] + 5
                });
            }else
            {
                setAttrs({
                    [`${value}`]: 100
                });
            }
        });
        Adjust_Energy();
    });
    on(`clicked:minus_${value}`, () => {
        getAttrs([`${value}`], v => {
            if(v[`${value}`] > 4)
            {
                setAttrs({
                    [`${value}`]: v[`${value}`] - 5
                });
            }else
            {
                setAttrs({
                    [`${value}`]: 0
                });
            } 
        });
        Adjust_Energy();
    });
});
//governs skill and Spell Points growth and extra point accumulation
const statAdjustors = ["BASE","ACC","EVA","GG"];
statAdjustors.forEach(stat => {
    on(`clicked:adjust${stat}`, () => {
        getAttrs([`${stat.toLowerCase()}adjust`], v => {
            setAttrs({[`${stat.toLowerCase()}adjust`]: StatAdjust(stat.toLowerCase(), v[`${stat.toLowerCase()}adjust`])} )
        })
    })
    on(`clicked:flat${stat}`, () => {
        setAttrs({[`${stat.toLowerCase()}adjust`]: 0})
    })
})
//unfortunately, there is no other way to incremenant an attribute without the API
const actionButtons = ["action","defensive","interact"]
actionButtons.forEach(value => {
    on(`clicked:${value}Action`, () => {
        getAttrs([`${value}-limit`], v => {
            if(v[`${value}-limit`] > 0)
            setAttrs({[`${value}-limit`]: v[`${value}-limit`] - 1} )
        })
    })
});
const growthPointButtons = ["spell_points","skill_points"];
growthPointButtons.forEach(value => {
    on(`clicked:add_${value}`, () => {
        getAttrs([`${value}`], v => {
            setAttrs({
                [`${value}`]:     v[`${value}`] + 1
            });
        });
    });
    on(`clicked:minus_${value}`, () => {
        getAttrs([`${value}`], v => {
            setAttrs({
                [`${value}`]:     v[`${value}`] - 1
            });
        });
    });
    on(`clicked:add_Ex${value}`, () => {
        getAttrs([`Ex${value}`,`${value}`], v => {
            setAttrs({
                [`Ex${value}`]:   v[`Ex${value}`] + 1,
                [`${value}`]:     v[`${value}`] + 1
            });
        });
    });
    on(`clicked:minus_Ex${value}`, () => {
        getAttrs([`Ex${value}`,`${value}`], v => {
            setAttrs({
                [`Ex${value}`]:   v[`Ex${value}`] - 1,
                [`${value}`]:     v[`${value}`] - 1
            });
        });
    });
});
const defensiveActionToggle = ["energy","armor"]
defensiveActionToggle.forEach(value => {
    on(`clicked:${value}Def-toggle`, () => {
        setAttrs({
            defenseType:     value
        });
        
    });
})
//armor module radio buttons
const ModuleValues = ["assault","vigilant","caster","universal"];
//creates several functions with a foreach using ModuleValues array and string concatenation for function names
//button within repeating sections are NOT detected with an "_" therefore, a "-" is necessary instead
ModuleValues.forEach(value => {
    on(`clicked:repeating_armor:module-${value}`, function(eventInfo) {
        
        const rowid = eventInfo.sourceAttribute.split('_')[2];
        setAttrs({
        [`repeating_armor_${rowid}_module-type`]: value
        });
    });
});
//defense module prog bars
const defensiveProgBar = ["0","1","2","3","4","5"]
defensiveProgBar.forEach(bar => {
    on(`clicked:activate-${bar}`, () => {
        getAttrs([`modmax${bar}`,`mod-cd${bar}`,`modcost${bar}`,`armor-current-dur`,'defensive-limit'], v => {
            
            const newRowId = generateRowID();
            
            if(v[`mod-cd${bar}`]==="" && v['defensive-limit'] > 0)
            {
                setAttrs({
                    [`armor-current-dur`]:  parseInt(v[`armor-current-dur`])-parseInt(v[`modcost${bar}`]),
                    [`mod-cd${bar}`]:   parseInt(v[`modmax${bar}`]),
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "0" : "Out of DEFENSIVE actions!"
                });
            }
        });
    });
});
//Defensive Techiques
on('clicked:PhaseStep', () => {
    getAttrs(["Char_Manna", "Energy_type","Char_Demon",'defensive-limit'], v => {
        
        const newRowId = generateRowID();
        
        if(v.Energy_type==="Demon"&&v.Char_Demon > 14)
        {
            setAttrs({
                Char_Demon:  parseInt(v.Char_Demon) - 15,
                ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Phase Step Used (15 Demonic Essence)" : "Out of DEFENSIVE actions!"
            })
            return
        }
            
        if(parseInt(v.Char_Manna) > 14)
        {
            setAttrs({
                Char_Manna:  parseInt(v.Char_Manna) - 15,
                ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Phase Step Used (15 Manna)" : "Out of DEFENSIVE actions!"
            })
            return
        }
        setAttrs({ ["repeating_errorStack_" + newRowId + "_error"]: "Not enough energy."})
    });
});
on('clicked:PhaseJump', () => {
    
    const newRowId = generateRowID();
    
    getAttrs(["Char_Manna", "Energy_type","Char_Demon",'defensive-limit'], v => {
        if(v.Energy_type==="Demon"&&v.Char_Demon > 14)
        {
            setAttrs({
                Char_Demon:  parseInt(v.Char_Demon) - 15,
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Phase Jump Used (15 Demonic Essence)" : "Out of DEFENSIVE actions!"
            })
            return
        }
            
        if(parseInt(v.Char_Manna) > 14)
        {
            setAttrs({
                Char_Manna:  parseInt(v.Char_Manna) - 15,
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Phase Jump Used (15 Manna)" : "Out of DEFENSIVE actions!"
            })
            return
        }
        setAttrs({ ["repeating_errorStack_" + newRowId + "_error"]: "Not enough energy."})
    });
});
on('clicked:Barrier', () => {
    
    const newRowId = generateRowID();
    
    getAttrs(["Char_Manna", "Energy_type","Char_Demon",'defensive-limit'], v => {
        if(v.Energy_type==="Demon"&&v.Char_Demon > 29)
        {
            setAttrs({
                Char_Demon:  parseInt(v.Char_Demon) - 30,
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Barrier Used (30 Demonic Essence)" : "Out of DEFENSIVE actions!"
            })
            return
        }
            
        if(parseInt(v.Char_Manna) > 29)
        {
            setAttrs({
                Char_Manna:  parseInt(v.Char_Manna) - 30,
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Barrier Used (30 Manna)" : "Out of DEFENSIVE actions!"
            })
            return
        }
        setAttrs({ ["repeating_errorStack_" + newRowId + "_error"]: "Not enough energy."})
    });
});
on('clicked:Reflect', () => {
    
    const newRowId = generateRowID();
    
    getAttrs(["Char_Manna", "Energy_type","Char_Demon",'defensive-limit'], v => {
        if(v.Energy_type==="Demon"&&v.Char_Demon > 4)
        {
            setAttrs({
                Char_Demon:  parseInt(v.Char_Demon) - 5,
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Reflect Used (5 Demonic Essence)" : "Out of DEFENSIVE actions!"
            })
            return
        }
            
        if(parseInt(v.Char_Manna) > 4)
        {
            setAttrs({
                Char_Manna:  parseInt(v.Char_Manna) - 5,
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Reflect Used (5 Manna)" : "Out of DEFENSIVE actions!"
            })
            return
        }
        setAttrs({ ["repeating_errorStack_" + newRowId + "_error"]: "Not enough energy."})
    });
});
on('clicked:Defend', () => {
    
    const newRowId = generateRowID();
    
    getAttrs(["Char_Manna", "Energy_type","Char_Demon",'defensive-limit'], v => {
        if(v.Energy_type==="Demon"&&v.Char_Demon > 6)
        {
            setAttrs({
                Char_Demon:  parseInt(v.Char_Demon) - 7,
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Defend Used (7 Demonic Essence)" : "Out of DEFENSIVE actions!"
            })
            return
        }
            
        if(parseInt(v.Char_Manna) > 6)
        {
            setAttrs({
                Char_Manna:  parseInt(v.Char_Manna) - 7,
                    ['defensive-limit']:    parseInt(v['defensive-limit']) > 0 ? parseInt(v['defensive-limit']) - 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(v['defensive-limit']) > 0 ? "Defend Used (7 Manna)" : "Out of DEFENSIVE actions!"
            })
            return
        }
        setAttrs({ ["repeating_errorStack_" + newRowId + "_error"]: "Not enough energy."})
    });
});
on('clicked:combatBlock', () => {
    
    const newRowId = generateRowID();
    
    getAttrs(["curCGG","blockedHits","bonusGR"], v => {
        
        const GG = parseInt(v.curCGG) - (100 - (parseInt(v.bonusGR) || 0))
        setAttrs({
            curCGG:         GG > 0 ? GG : 0,
            guardWarningC:  GG > 0 ? "" : "Guard Break!",
            //economy:        (v.curCGG > 100) ? 100 : 25,
            blockedHits:    1 + v.blockedHits
        })
    })    
});
on('clicked:weaponBlock', () => {
    getAttrs(["curWGG","blockedHits","bonusGR"], v => {
        const GG = parseInt(v.curWGG) - (100 - (parseInt(v.bonusGR) || 0))
        setAttrs({
            curWGG:         GG > 0 ? GG : 0,
            guardWarningC:  GG > 0 ? "" : "Guard Break!",
            //economy:        (v.curCGG > 100) ? 100 : 25,
            blockedHits:    1 + v.blockedHits
        })
    })
});
on('clicked:gather', () => { 
    getAttrs(["economy","Char_Manna","Char_Manna_Training","Char_Level","bonusGather",'interact-limit','bonusMnHealth'], value => {
        const max = (100 + parseInt(value.Char_Manna_Training) + parseInt(value.Char_Level) + value.bonusMnHealth);
        
        let gather = parseInt(value.Char_Manna) + 30;
        let interacts = parseInt(value['interact-limit']);
        const newRowId = generateRowID();
        
        if(value.bonusGather)
        gather += parseInt(value.bonusGather)
        
        if(value.economy >= 70)
        {
            setAttrs({
                Char_Manna:         gather <= max ? gather : max,
                ['interact-limit']: interacts > 0 ? interacts - 1 : 0,
                ["repeating_errorStack_" + newRowId + "_error"]:     parseInt(value['interact-limit']) > 0 ? "0" : "Out of INTERACT actions!"
                //economy:        parseInt(value.economy) - 30
            })
        }
    });
    Adjust_Energy();
});
on('clicked:vitalize', () => Vitalize());
//intialize new characters //default to Ciaha
on("sheet:opened", ()=> {
    getAttrs(["Char_Race","blockToggle","sheetTab","tools","totaltools"], v => {
        
        let initiate = {
            defensiveType:      "energy"
        }
        
        if(v.Char_Race ==="")
        {
            let initiateRace = {
                Char_Race:          "Ciaha",
                Char_Level:         1,
                char_constitution:  3,  
                char_discipline:    2,
                char_resistance:    0,
                char_intelligence:  1,
                char_combat_arts:   20,
                char_weapon_arts:   25,
                char_tech:          5,
                char_magitech:      5,
                catalyst_mental:    0,
                catalyst_body:      10,
                catalyst_spirit:    0,
                catalyst_memory:    5,
                catalyst_demon:     0,
                catalyst_necro:     0,
                Char_Life_Force:    161,
                Char_Manna:         101,
                Char_Demon:         0,
                Char_Manna_Training: 0,
                spell_points:       1,  
                skill_points:       2,
                Exspell_points:     0,
                Exskill_points:     0,
                
            };
            initiate = Object.assign(initiate, initiateRace)
        }
        
        if(v.blockToggle ==="")
        initiate.blockToggle = "weapon"
        
        if(v.sheetTab ==="")
        initiate.sheetTab = "battle"
        
        if(v.tools === 0)
        initiate.tools = 1
        
        ToolTipGenerator();
        
        setAttrs(initiate, {silent:true});
    });
});
on("change:Char_Life_Force", (eventInfo) => {
    if(eventInfo.newValue <= 1)
    {
        setAttrs({
            Char_Manna: 0,
            Char_Demon: 0
        })
        Adjust_Energy(false, false);
    }
});
on("change:Char_Spirit_Force", (eventInfo) => {
    if(eventInfo.newValue <= 1)
    {
        setAttrs({
            Char_Manna: 0
        })
        Adjust_Energy(false, false);
    }
});
on("change:deathcovenant change:voidcovenant change:hellcovenant change:primordialcovenant change:unnamedcovenant", (eventInfo) => {
    //checkbox input. "on" is true "'0'" is false. Dont ask me...
    getAttrs(["Age","restrict"], value => {
        
        const newRowId = generateRowID();
        
         if(value.restrict !== 'None')
        {
            setAttrs({
                ["repeating_errorStack_" + newRowId + "_error"]:     "Restricted Covenant: " + value.restrict + ". Disable Restricted covenant first."
            })
            return
        }
        if(eventInfo.newValue === 'on')
        {
            setAttrs({
                Age:        parseInt(value.Age * 1.2),
                ["repeating_errorStack_" + newRowId + "_error"]:     eventInfo.sourceAttribute.replace('covenant','').toUpperCase() + " Covenant enacted. +20% Age."
            })
        }
        if(eventInfo.newValue === '0')
        {
            setAttrs({
                Age:        parseInt(value.Age * 0.83),
                ["repeating_errorStack_" + newRowId + "_error"]:     eventInfo.sourceAttribute.replace('covenant','').toUpperCase() + " Covenant broken. -20% Age."
            })
        }
        
    });
    
});
on("change:restrict", (eventInfo) => {
    
    const newRowId = generateRowID();
    const covenants = ["deathcovenant","hellcovenant","primordialcovenant","unnamedcovenant","voidcovenant"];
    const Age = ["Age","halfbreed"];
    Age.push.apply(Age, covenants);
    
    getAttrs(Age, value => {
            
        let valid = true;
        covenants.forEach(c => {
            if(value.c === 'on'){
               valid = false;
            }
        })
        
        if(value.halfbreed !== '0'){
            setAttrs({
                restrict: "None",
                ["repeating_errorStack_" + newRowId + "_error"]:     "Restricted Covenant: " + eventInfo.newValue + ". Cambions are banned from this coven."
            })
            return
        }
        
        if(!valid){
            setAttrs({
                restrict: "None",
                ["repeating_errorStack_" + newRowId + "_error"]:     "Restricted Covenant: " + eventInfo.newValue + ". Remove Non-Restricted covenants."
            })
            return
        }
        
        if(eventInfo.newValue !== 'None')
            {
                setAttrs({
                    Age:        parseInt(value.Age * 1.2),
                    ["repeating_errorStack_" + newRowId + "_error"]:     "Covenant: " + eventInfo.newValue + " enacted. +20% Age."
                })
                return
            }
        if(eventInfo.previousValue !== "None" && eventInfo.newValue === 'None')
            {
                setAttrs({
                    Age:        parseInt(value.Age * 0.8),
                    ["repeating_errorStack_" + newRowId + "_error"]:     "Covenant: " + eventInfo.previousValue + " broken. -20% Age."
                })
                return
            }
    })
    
});
on("change:Age", (eventInfo) => {
    if(eventInfo.previousValue < 100 && eventInfo.newValue >= 100)
    getAttrs(['Difficulty'], v => {
        setAttrs({Difficulty: parseInt(v.Difficulty) + 1})
    })
    
    if(eventInfo.newValue < 100 && eventInfo.previousValue >= 100)
    getAttrs(['Difficulty'], v => {
        setAttrs({Difficulty: parseInt(v.Difficulty) - 1})
    })
});
on("change:bonusLfHealth change:bonusSpHealth change:bonusSlHealth change:bonusMnHealth", (eventInfo) => {
    
    const data = { //source attribute changes everything to lowercase
        bonuslfhealth: "maxChar_Life_Force",
        bonusmnhealth:  "maxChar_Manna",
        bonusslhealth:  "maxChar_Soul_Force",
        bonussphealth:  "maxChar_Spirit_Force"
    }
    
    const formula = ["Char_Level","Char_Manna_Training", "char_constitution", data[eventInfo.sourceAttribute]]
    
    getAttrs(formula, v => {
        
        // const delta = eventInfo.newValue - (eventInfo.previousValue || 0);
        
        if(eventInfo.sourceAttribute === 'bonuslfhealth')
        {
            setAttrs({
                [data[eventInfo.sourceAttribute]]: 100 + v.Char_Level + v.char_constitution * 15 + parseInt(eventInfo.newValue)
            })
        }
        if(eventInfo.sourceAttribute === 'bonussphealth')
        {
            setAttrs({
                [data[eventInfo.sourceAttribute]]: 200 + parseInt(eventInfo.newValue)
            })
        }
        if(eventInfo.sourceAttribute === 'bonusslhealth')
        {
            setAttrs({
                [data[eventInfo.sourceAttribute]]: 300 + parseInt(eventInfo.newValue)
            })
        }
        if(eventInfo.sourceAttribute === 'bonusmnhealth')
        {
            setAttrs({
                [data[eventInfo.sourceAttribute]]: 100 + v.Char_Level + parseInt(v.Char_Manna_Training) + parseInt(eventInfo.newValue)
            })
        }
    })
});
on("clicked:logs", ()=> {
    getAttrs(["logtoggle"], value => {
        
        setAttrs({
            logtoggle: value.logtoggle === false ? true : false
        })
        
    })
})
on("clicked:tttlog", ()=> {
    getAttrs(["tttlogtoggle"], value => {
        
        setAttrs({
            tttlogtoggle: value.tttlogtoggle === false ? true : false
        })
        
    })
})
on("clicked:graphics", ()=> {
    getAttrs(["graphics"], value => {
       
        const newRowId = generateRowID();
        let state = true;
        if(value.graphics === 0) //1 = on, so pressing the button while its on turns it off
            state = false
        setAttrs({
            graphics: state ? 0 : 1,
            ["repeating_errorStack_" + newRowId + "_error"]:    state ? "Graphics Disabled" : "Graphics Enabled"
        })
    });
});
on("clicked:tools", ()=> {
    getAttrs(["tools"], value => {
       
        const newRowId = generateRowID();
        let state = true;
        if(value.tools === 0) //1 = on, so pressing the button while its on turns it off
            state = false
        setAttrs({
            tools: state ? 0 : 1,
            ["repeating_errorStack_" + newRowId + "_error"]:    state ? "Tool Tips Disabled" : "Tool Tips Enabled"
        })
        // if(state)
        // $20('.toolsdiplay').addClass('ActiveComboMenu');
        
    });
});
on("clicked:ether", () => { 
    getAttrs(["ether","enableEther"], value => {
       
        const newRowId = generateRowID();
        console.log(value["ether"] + " " + value["enableEther"])
        if(value.enableEther !== 'on') //checkbox input. "on" is true "0" is false. Dont ask me...
            return
            
        setAttrs({
           
            ether: value.ether === 'false' ? true : 'false',
            // ["repeating_errorStack_" + newRowId + "_error"]:     "ETHER BURN!"
        })
    });
    Adjust_Energy();
});
on("change:powerstate change:Energy_type", () => Adjust_Energy());
on("change:Power", (eventInfo) => {
    
    const stress = ["primaryweapon-stress",
        "secondaryweapon-stress",
        "ranged_stress",
        "armor-stress"]
    const names = ["primaryweapon",
    "secondaryweapon",
    "rangedweapon",
    "armor-name"]
    
    getAttrs(stress.concat(names), v => {
        
        let warnings = {};
        let index = 0;
        
        stress.forEach(entry => {
            const newRowId = generateRowID();
            
            if(v[entry] == true && v[entry] < parseInt(eventInfo.newValue))
            warnings["repeating_errorStack_" + newRowId + "_error"] = "WARNING: " + v[(names[index])].toUpperCase() + " Stress Tolerance exceeded. Using the weapon/armor for attack/blocking with too much Power will destroy it."
            
            index++;
        });
        setAttrs(warnings)
    });
});
on("change:char_constitution", (eventInfo) => {
    getAttrs(["Char_Level","char_resistance","armor-disruption","char_discipline","bonusLfHealth"], v => {
        var dis = 0;
        if(v["armor-disruption"]!=="")
        dis = parseInt(v["armor-disruption"]);
        setAttrs({
            Char_Life_Force:    parseInt(eventInfo.newValue)*15 + v.Char_Level + 100 + parseInt(v.bonusLfHealth || 0),
            maxChar_Life_Force:    parseInt(eventInfo.newValue)*15 + v.Char_Level + 100 + parseInt(v.bonusLfHealth || 0),
            Disruption:         v.Char_Level + dis + (parseInt(eventInfo.newValue) + v.char_resistance)*5,
            maxDisruption:         v.Char_Level + dis + (parseInt(eventInfo.newValue) + v.char_resistance)*5,
            Pain:               v.Char_Level + (parseInt(eventInfo.newValue) + v.char_discipline)*10   ,
            maxPain:               v.Char_Level + (parseInt(eventInfo.newValue) + v.char_discipline)*10
        })
    });
});
on("change:char_resistance", (eventInfo) => {
    getAttrs(["Char_Level","char_constitution","armor-disruption"], v => {
        var dis = 0;
        if(v["armor-disruption"]!=="")
        dis = parseInt(v["armor-disruption"]);
        setAttrs({
            Disruption:         v.Char_Level + dis + (parseInt(eventInfo.newValue) + v.char_constitution)*5,
            maxDisruption:         v.Char_Level + dis + (parseInt(eventInfo.newValue) + v.char_constitution)*5
        })
    });
});
on("change:char_discipline", (eventInfo) => {
    getAttrs(["Char_Level","char_constitution","char_weapon_arts","char_combat_arts","equipped-weapon-style","primary-weapon","secondary-weapon"], v => {
        var WA = v.char_weapon_arts + (parseInt(eventInfo.newValue) - parseInt(eventInfo.previousValue))*5
        var CA = v.char_combat_arts + (parseInt(eventInfo.newValue) - parseInt(eventInfo.previousValue))*5
        setAttrs({
            Pain:         v.Char_Level + (parseInt(eventInfo.newValue) + v.char_constitution)*10,
            maxPain:         v.Char_Level + (parseInt(eventInfo.newValue) + v.char_constitution)*10,
            char_weapon_arts:       WA,
            char_combat_arts:       CA 
        })
        Adjust_Battle(v["primary-weapon"], v["secondary-weapon"], v["equipped-weapon-style"]);
    });
});
on("change:char_intelligence", (eventInfo) => {
    getAttrs(["char_magitech","char_tech"], v => {
        setAttrs({
            char_magitech:    v.char_magitech + (parseInt(eventInfo.newValue) - parseInt(eventInfo.previousValue))*5,
            char_tech:        v.char_tech + (parseInt(eventInfo.newValue) - parseInt(eventInfo.previousValue))*5     
        })
    });
});
on("change:halfbreed", (eventInfo) => {
    
    //const covenants = ["deathcovenant","hellcovenant","primordialcovenant","unnamedcovenant","voidcovenant"];
    const newRowId = generateRowID();
    
    getAttrs(["Char_Race","Difficulty","Char_Level","Age","restrict"], v => {
        
        let race = Adjust_Race(v.Char_Race);
        let state = eventInfo.newValue==="on";
        var Diff = v.Difficulty;
        var Age = v.Age;
        
        if(v.restrict !== 'None')
        {
             setAttrs({
            ["repeating_errorStack_" + newRowId + "_error"]:     "Restricted Covenant: " + v.restrict + ". Cambions are banned from this coven."
            })
            return
        }
       
        
        if(state){
            Age *= 1.5;
            Diff ++;
        }
        else{
            Age  *= (2/3);
            Diff--;
        }
        
        
        if(v.Age < 100 && Age > 100)
        Diff++;
        else if(v.Age > 100 && Age < 100)
        Diff--;
        
        setAttrs({
            Char_Demon:     100 + ((eventInfo.newValue=="on") ? v.Char_Level * 9 : v.Char_Level*3),
            maxChar_Demon:     100 + ((eventInfo.newValue=="on") ? v.Char_Level * 9 : v.Char_Level*3),
            Difficulty:     Diff,
            ["repeating_errorStack_" + newRowId + "_error"]:    state ? "Well met, Cambion...Demon Energy Unlocked. " : "Demon Excorsized.",
            Age:            Age
        }, {silent: true})
    })
    console.log(eventInfo.newValue);
});
on("clicked:ecocombat", (eventInfo) => {
    getAttrs(["combatstate"], v => {
    
    if(v.combatstate  === "ENTER COMBAT")//means combat menu is disengaged
    {
        setAttrs({combatstate: "EXIT COMBAT", turnCount: 1} )
        Adjust_Energy() 
    }
    else
        setAttrs({combatstate: "ENTER COMBAT", Energy_type: "", turnCount: 0})
        //console.log(v.combatstate  === "EXIT COMBAT" ? "ENTER COMBAT" : "EXIT COMBAT");
    })

});
//equips weapon
on("clicked:repeating_weapons:equip-primaryweapon clicked:repeating_weapons:equip-secondaryweapon", function(eventInfo) {
    // Check the current value of the hidden attribute.
    
    const rowid = eventInfo.sourceAttribute.split('_')[2];
    const weaponPriority = eventInfo.sourceAttribute.split('_')[3];//Secondary or Primary
    const warning = weaponPriority === "equip-primaryweapon" ? "primary" : "secondary";
    
    const wget = [`repeating_weapons_${rowid}_weapon-name`,
        `repeating_weapons_${rowid}_weapon-req`,
        `repeating_weapons_${rowid}_reqtype`,
        `repeating_weapons_${rowid}_weapon-stress`,
        `repeating_weapons_${rowid}_weapon-current-dur`,
        `repeating_weapons_${rowid}_weapon-maximum-dur`,
        `repeating_weapons_${rowid}_weapon-base`,
        `repeating_weapons_${rowid}_weapon-pscaling`,
        `repeating_weapons_${rowid}_weapon-nscaling`,
        `repeating_weapons_${rowid}_weapon-acc`,
        `repeating_weapons_${rowid}_weapon-type`];
        
    const sget = ["char_constitution","equipped-weapon-style",
        "Power","primary-weapon","secondary-weapon"];
        
    const allget = [];
    allget.push.apply(allget, wget);
    allget.push.apply(allget, sget);
    
    console.log(weaponPriority + " " + warning);
    getAttrs(allget, function(weapon) {
            
        const newRowId = generateRowID();
            // Toggle the hidden attribute value between
            if(weapon[`repeating_weapons_${rowid}_weapon-name`]==="")
            {
                setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:    "Missing weapon name."
                    });
                    return
            }
            else if(weapon[`equipped-weapon-style`]==="")
            {
                setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + ": Weapon-Style Missing. Equip a style on STYLE page."
                    });
                    return
            }else if(weapon[`repeating_weapons_${rowid}_reqtype`] !== "Con")
            {
                setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + `: Select "Con" for Melee Weapons.`
                    });
                    return
            }else if(weapon[`repeating_weapons_${rowid}_weapon-req`] > weapon["char_constitution"])
            {
                setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + ": Inadequate constitution."
                    });
                    return
            }else if(weapon[`repeating_weapons_${rowid}_weapon-stress`] < weapon["Power"])
            {
                setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + ": WARNING- Power Exceed Stress Tolerance."
                    });
                    return
            }
            
            wget.forEach(field => {
                if(weapon[field] === "")
                {
                setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + ": Missing weapon Properties."
                    });
                    return
                }
            })
            //equipped "X"-weapon is a hidden input found character tab. The warnings of equipped weapons with same rowid need to be cleared
            if(warning === "primary")
            {
                setAttrs({
                    [`${warning}-weapon`]:    rowid,
                    // [`repeating_weapons_${rowid}_weapon-${warning}warning`]:    "Equipped",
                    // [`repeating_weapons_${rowid}_weapon-secondarywarning`]:     "",
                    // [`repeating_weapons_${rowid}_weapon-rangedwarning`]:        "",
                    ["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + " Equiped (Primary)"
                    });
                Adjust_Battle(rowid, weapon["secondary-weapon"], weapon[`equipped-weapon-style`]);
            }else if(warning === "secondary")
            {
                setAttrs({
                    [`${warning}-weapon`]:    rowid,
                    // [`repeating_weapons_${rowid}_weapon-${warning}warning`]:    "Equipped",
                    // [`repeating_weapons_${rowid}_weapon-primarywarning`]:       "",
                    // [`repeating_weapons_${rowid}_weapon-rangedwarning`]:        ""
                    ["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + " Equiped (Secondary)"
                    });
                Adjust_Battle(weapon["primary-weapon"], rowid, weapon[`equipped-weapon-style`]);
            }
    });
});
//equips tech and magi weapons
on("clicked:repeating_weapons:equip-rangedweapon", function(eventInfo) {
    const rowid = eventInfo.sourceAttribute.split('_')[2];
    const newRowId = generateRowID();
    
    getAttrs([`repeating_weapons_${rowid}_weapon-name`,
        `repeating_weapons_${rowid}_weapon-req`,
        `repeating_weapons_${rowid}_reqtype`,
        `repeating_weapons_${rowid}_weapon-acc`,
        `repeating_weapons_${rowid}_weapon-stress`,
        // `repeating_weapons_${rowid}_weapon-current-dur`,
        // `repeating_weapons_${rowid}_weapon-maximum-dur`,
        `repeating_weapons_${rowid}_weapon-base`,
        `repeating_weapons_${rowid}_weapon-pscaling`,
        `repeating_weapons_${rowid}_weapon-nscaling`,
        "char_tech","char_magitech"], function (weapon) {
        
        Object.values(weapon).forEach(field => {
            if(field === "")
            {
            setAttrs({["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + ": Weapon Incomplete."});
            return
            }
        })
        if(weapon[`repeating_weapons_${rowid}_reqtype`] !== "Tech" && weapon[`repeating_weapons_${rowid}_reqtype`] !== "MTech")
        {
            setAttrs({["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + `: Select "Tech" or "Magi-Tech" requirement.`});
            return
            }
        if(weapon[`repeating_weapons_${rowid}_reqtype`] === "MTech" && parseInt(weapon["char_magitech"]) < parseInt(weapon[`repeating_weapons_${rowid}_weapon-req`]))
        {
            setAttrs({["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + `: Insufficiant "Magi-Tech" Skill.`});
            return
            }
        if(weapon[`repeating_weapons_${rowid}_reqtype`] === "Tech" && parseInt(weapon[`char_tech`]) < parseInt(weapon[`repeating_weapons_${rowid}_weapon-req`]))
        {
            setAttrs({["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + `: Insufficiant "Tech" Skill.`});
            return
            }
        
        setAttrs({
            rangedweapon:       weapon[`repeating_weapons_${rowid}_weapon-name`],
            ranged_base:        weapon[`repeating_weapons_${rowid}_weapon-base`],
            ranged_scaling:     (weapon[`repeating_weapons_${rowid}_weapon-pscaling`] + " / " + weapon[`repeating_weapons_${rowid}_weapon-nscaling`]),
            ranged_pscaling:    weapon[`repeating_weapons_${rowid}_weapon-pscaling`],
            ranged_nscaling:    weapon[`repeating_weapons_${rowid}_weapon-nscaling`],
            ranged_stress:      weapon[`repeating_weapons_${rowid}_weapon-stress`],
            ranged_hits:        parseInt(weapon[`repeating_weapons_${rowid}_weapon-acc`] / 100),
            // [`repeating_weapons_${rowid}_weapon-rangedwarning`]:        "Equipped",
            // [`repeating_weapons_${rowid}_weapon-primarywarning`]:       "",
            // [`repeating_weapons_${rowid}_weapon-secondarywarning`]:     "",
            ["repeating_errorStack_" + newRowId + "_error"]:    weapon[`repeating_weapons_${rowid}_weapon-name`] + " Equipped (Ranged)"
        });
        
    });
});
//equips weapon style
on("clicked:repeating_weapon-styles:equip-weapon-style", function(eventInfo) {

    const rowid = eventInfo.sourceAttribute.split('_')[2];
    const newRowId = generateRowID();
    
    getAttrs([`repeating_weapon-styles_${rowid}_style-name`,
    `repeating_weapon-styles_${rowid}_style-name`,
    `repeating_weapon-styles_${rowid}_style-acc`,
    `repeating_weapon-styles_${rowid}_style-eva`,
    `repeating_weapon-styles_${rowid}_style-gg`,
    `repeating_weapon-styles_${rowid}_style-gd`,
    `repeating_weapon-styles_${rowid}_style-req`,
    `primary-weapon`,"secondary-weapon","char_discipline","char_weapon_arts"], function(style) {
        
        if(style[`repeating_weapon-styles_${rowid}_style-name`]==="")
        {
            setAttrs({
                ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_weapon-styles_${rowid}_style-name`] + ":  Style Name Missing"
                });
                return
        }else if(style[`repeating_weapon-styles_${rowid}_style-acc`]==="")
        {
            setAttrs({
                ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_weapon-styles_${rowid}_style-name`] + ":  Accuracy Rating Missing"
                });
                return
        }else if(style[`repeating_weapon-styles_${rowid}_style-eva`]==="")
        {
            setAttrs({
                ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_weapon-styles_${rowid}_style-name`] + ":  Evasion Rating Missing"
                });
                return
        }else if(style[`repeating_weapon-styles_${rowid}_style-gg`]==="")
        {
            setAttrs({
                ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_weapon-styles_${rowid}_style-name`] + ":  Guard Guarge Rating Missing"
                });
                return
        }else if(style[`repeating_weapon-styles_${rowid}_style-gd`]==="")
        {
            setAttrs({
                ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_weapon-styles_${rowid}_style-name`] + ":  Guard Damage Rating Missing"
                });
                return
        }else if(style[`repeating_weapon-styles_${rowid}_style-req`]==="" || style[`repeating_weapon-styles_${rowid}_style-req`] > style.char_weapon_arts)
        {
            setAttrs({
                ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_weapon-styles_${rowid}_style-name`] + ":  Weapon Arts Requirement Failed or Missing"
                });
                return
        }
        setAttrs({
            [`equipped-weapon-style`]:                                  rowid,  //sets global value for style reference for other functions
            [`repeating_weapon-styles_${rowid}_weapon-style-warning`]:  "Equipped",
            weapon_gg:      parseInt(style[`repeating_weapon-styles_${rowid}_style-gg`]) + parseInt(style["char_discipline"])*5, //This is the display value on the DEFENSE TAB
            ["repeating_errorStack_" + newRowId + "_error"]:  style[`repeating_weapon-styles_${rowid}_style-name`] + " - Equipped (Weapon Style)"
        });
        Adjust_Battle(style["primary-weapon"], style["secondary-weapon"], rowid);
    });
});
//equips combat style
on("clicked:repeating_combat-styles:equip-combat-style", function(eventInfo) {
    
    const rowid = eventInfo.sourceAttribute.split('_')[2];
    const newRowId = generateRowID();
    
    getAttrs([`repeating_combat-styles_${rowid}_style-name`,
    `repeating_combat-styles_${rowid}_style-acc`,
    `repeating_combat-styles_${rowid}_style-eva`,
    `repeating_combat-styles_${rowid}_style-gg`,
    `repeating_combat-styles_${rowid}_style-gd`,
    `repeating_combat-styles_${rowid}_style-req`,
    "bonusUnarmed","char_constitution",
    "char_discipline", "char_combat_arts"], function (style) {
        
        if(style[`repeating_combat-styles_${rowid}_style-name`]==="")
        {
            setAttrs({
            ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_combat-styles_${rowid}_style-name`] + ": Missing Style Name"
            });
            return
        }else if(style[`repeating_combat-styles_${rowid}_style-acc`]==="")
        {
            setAttrs({
            ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_combat-styles_${rowid}_style-name`] + ": Missing Accuracy Rating"
            });
            return
        }else  if(style[`repeating_combat-styles_${rowid}_style-eva`]==="")
        {
            setAttrs({
            ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_combat-styles_${rowid}_style-name`] + ": Missing Evasion Rating"
            });
            return
        }else  if(style[`repeating_combat-styles_${rowid}_style-gd`]==="")
        {
            setAttrs({
            ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_combat-styles_${rowid}_style-name`] + ": Missing Guard Damage Rating"
            });
            return
        }else  if(style[`repeating_combat-styles_${rowid}_style-gg`]==="")
        {
            setAttrs({
            ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_combat-styles_${rowid}_style-name`] + ": Missing Guard Guage Rating"
            });
            return
        }else if(style[`repeating_combat-styles_${rowid}_style-req`]==="" || style[`repeating_combat-styles_${rowid}_style-req`] > (style.char_combat_arts))
        {
            setAttrs({
            ["repeating_errorStack_" + newRowId + "_error"]:    style[`repeating_combat-styles_${rowid}_style-name`] + ": Combat Arts Requirement Failed or Missing"
            });
            return
        }
        
        const NewBase = (5 + parseInt(style.char_constitution) + parseInt(style.bonusUnarmed || 0));
        
        setAttrs({
            combat_base:    `${NewBase}`,
            combat_acc:     (parseInt(style[`repeating_combat-styles_${rowid}_style-acc`]) + 100 + parseInt(style[`char_combat_arts`])*2),
            combat_eva:     (parseInt(style[`repeating_combat-styles_${rowid}_style-eva`]) + (style.char_discipline * 5)),
            combat_gg:      (parseInt(style[`repeating_combat-styles_${rowid}_style-gg`]) + (style.char_discipline * 5)),
            combat_gd:      parseInt(style[`repeating_combat-styles_${rowid}_style-gd`]),
            combat_style:   style[`repeating_combat-styles_${rowid}_style-name`],
            combat_scaling: ([`${NewBase}/5`]),
            ["repeating_errorStack_" + newRowId + "_error"]: style[`repeating_combat-styles_${rowid}_style-name`] + " - Equipped (Combat Style)",
            unarmedBaseMeter:   MeterAdjust("base", NewBase*2),
            unarmedAccMeter:    MeterAdjust("acc", (parseInt(style[`repeating_combat-styles_${rowid}_style-acc`]) + 100 + parseInt(style[`char_combat_arts`])*2)),
            unarmedEvaMeter:    MeterAdjust("acc", (parseInt(style[`repeating_combat-styles_${rowid}_style-eva`]) + (style.char_discipline * 5))),
            unarmedGGMeter:     MeterAdjust("gg", (parseInt(style[`repeating_combat-styles_${rowid}_style-gg`]) + (style.char_discipline * 5))),
            unarmedGDMeter:     MeterAdjust("gd", parseInt(style[`repeating_combat-styles_${rowid}_style-gd`]))
        });
        
    });
});

on("clicked:repeating_errorstack:dismiss", function(eventInfo) {
    const rowid = eventInfo.sourceAttribute.split('_')[2];
    removeRepeatingRow( "repeating_errorstack_" + rowid )
});

on("clicked:repeating_personalities:disassociate", function(eventInfo) {
    const rowid = eventInfo.sourceAttribute.split('_')[2];
    
    getAttrs([`repeating_personalities_${rowid}_person`,'personality'], v => {
        setAttrs({
            personality: v[`repeating_personalities_${rowid}_person`] === v.personality ? "Normal" : v[`repeating_personalities_${rowid}_person`]
        })
    })
});
//repeating tabs
const spellLists = ["1","2","3","4","5","6","7"]
//applys the cost of spells
spellLists.forEach(tab => {
    //Each repeat tab of spells has a different repeating section with the tab number appended to the end of it in the html
    //original string: "clicked:repeating_spells:applyspell"
    const spellConcat = "repeating_spells"+tab;
    const newRowId = generateRowID();
    
    on("clicked:"+spellConcat+":applyspell", function(eventInfo) {
        const rowid = eventInfo.sourceAttribute.split('_')[2];
        const spells = [`${spellConcat}_${rowid}_spells-name`,
            `${spellConcat}_${rowid}_spells-cost`,
            // `${spellConcat}_${rowid}_spells-cast-time`,
            `${spellConcat}_${rowid}_spells-ttt`,
            `${spellConcat}_${rowid}_spells-flavor`,
            // `${spellConcat}_${rowid}_spells-text`,
            "Char_Manna","adTTT",'action-limit']
            
        console.log(spells)
    
        getAttrs(spells, function(value) {
        
            Object.values(value).forEach(V => {
                if(V ==="" || typeof V ==="undefined")
                {
                    setAttrs({["repeating_errorStack_" + newRowId + "_error"]: "Character or Spell is incomplete."});
                        return
                }
            })
            
            if(parseInt(value['action-limit'])<1)
            {
                setAttrs({["repeating_errorStack_" + newRowId + "_error"]: value[`${spellConcat}_${rowid}_spells-name`] + ": No Main Actions."});
                    return
            }
            
            if(parseInt(value[`${spellConcat}_${rowid}_spells-cost`]) > parseInt(value.Char_Manna))
            {
                setAttrs({["repeating_errorStack_" + newRowId + "_error"]: value[`${spellConcat}_${rowid}_spells-name`] + ": Insufficient Manna supply."});
                    return
            }
            
            let apply = {
                Char_Manna: parseInt(value.Char_Manna) - parseInt(value[`${spellConcat}_${rowid}_spells-cost`]),
                economy: value.economy, //Economy turned off
                adTTT: parseInt(value.adTTT) + parseInt(value[`${spellConcat}_${rowid}_spells-ttt`]),
                [`${spellConcat}_${rowid}_spells-warning`]: "",
                ['action-limit']:           value['action-limit'] - 1
            };
            
            console.log(value[`${spellConcat}_${rowid}_spells-name`])
            
            startRoll( "&{template:spell} {{Spell=[[0]]}} {{Cost=[[0]]}} {{TTT=[[0]]}} {{Info=[[0]]}}",
            (results) => {
                
                //{{name=@{spells-name}}}{{School=@{spells-school}}}{{Branch=@{spells-branch}}}{{Mastery=@{spells-mastery}}}{{Potency=@{spells-potency}}}{{Manna Cost=@{spells-cost}}}{{Cast Time=@{spells-cast-time}}}{{TTT Cost=@{spells-ttt}}}{{Flavor=@{spells-flavor}}}
                finishRoll(
                    results.rollId,
                    {
                        Spell:   value[`${spellConcat}_${rowid}_spells-name`] ,
                        Cost:  value[`${spellConcat}_${rowid}_spells-cost`] ,
                        TTT:  value[`${spellConcat}_${rowid}_spells-ttt`] ,
                        Info:  value[`${spellConcat}_${rowid}_spells-flavor`]
                    }
                );
            })
                         
            // TURN ECONOMY
            // if(value[`${spellConcat}_${rowid}_spells-cast-time`] >= value.economy)
            // {
            //     if(value[`${spellConcat}_${rowid}_spells-cast-time`] < 100)
            //     {
            //         apply[`${spellConcat}_${rowid}_spells-warning`] = "WARNING. 0 REMAINING TURN ECONOMY.";
            //         apply.economy = 0;
            //     }
            //     else
            //         apply[`${spellConcat}_${rowid}_spells-warning`] = "WARNING. Spell will take more than one turn to cast. Increment MANUALLY.";
            // }else
            // apply.economy = value.economy - value[`${spellConcat}_${rowid}_spells-cast-time`];
            
            setAttrs(apply);
    })
    });
});
//original function
//on("clicked:repeating_spells:applyspell", function(eventInfo) {
    
//     const rowid = eventInfo.sourceAttribute.split('_')[2];
    
//     getAttrs([`repeating_spells_${rowid}_spells-cost`,
//     `repeating_spells_${rowid}_spells-cast-time`,
//     `repeating_spells_${rowid}_spells-ttt`,
//     "Char_Manna","economy","adTTT"], function(value) {
        
//         Object.values(value).forEach(V => {
//             if(V ==="" || typeof V ==="undefined")
//             {
//                 setAttrs({[`repeating_spells_${rowid}_spells-warning`]: "Character or Spell is incomplete."});
//                     return
//             }
//         })
        
//         if(value[`repeating_spells_${rowid}_spells-cost`] > value.Char_Manna)
//         {
//             setAttrs({[`repeating_spells_${rowid}_spells-warning`]: "Insufficient Manna supply."});
//                 return
//         }
        
//         let apply = {
//             Char_Manna: value.Char_Manna - value[`repeating_spells_${rowid}_spells-cost`],
//             economy: value.economy,
//             adTTT: parseInt(value.adTTT) + parseInt(value[`repeating_spells_${rowid}_spells-ttt`]),
//             [`repeating_spells_${rowid}_spells-warning`]: ""
//         };
        
//         if(value[`repeating_spells_${rowid}_spells-cast-time`] >= value.economy)
//         {
//             if(value[`repeating_spells_${rowid}_spells-cast-time`] < 100)
//             {
//                 apply[`repeating_spells_${rowid}_spells-warning`] = "WARNING. 0 REMAINING TURN ECONOMY.";
//                 apply.economy = 0;
//             }
//             else
//                 apply[`repeating_spells_${rowid}_spells-warning`] = "WARNING. Spell will take more than one turn to cast. Increment MANUALLY.";
//         }else
//         apply.economy = value.economy - value[`repeating_spells_${rowid}_spells-cast-time`];
        
//         setAttrs(apply);
//     })
// });
const eTechList = ["1","2","3","4","5","6","7"]
//apply cost for each tecnhique
eTechList.forEach(tab => {
    //Each repeat tab of tech has a different repeating section with the tab number appended to the end of it in the html
    //original string: "clicked:repeating_energytech:applyetech"
    const techConcat = "repeating_energytech"+tab;
    const newRowId = generateRowID();
    
    on("clicked:"+techConcat+":applyetech", function(eventInfo) {
    
        const rowid = eventInfo.sourceAttribute.split('_')[2];
        const Etechs = [`${techConcat}_${rowid}_etech-name`,
            `${techConcat}_${rowid}_etech-cost`,
            `${techConcat}_${rowid}_etech-tcost`,
            `${techConcat}_${rowid}_etech-ttt`,
            `${techConcat}_${rowid}_etech-flavor`,
            "Char_Manna",'action-limit']
        
    getAttrs(Etechs, function(value) {
        
        Object.values(value).forEach(V => {
            if(V ==="" || typeof V ==="undefined")
            {
                setAttrs({["repeating_errorStack_" + newRowId + "_error"]: "Character or Tech is incomplete."});
                    return
            }
        })
        
        console.log(value)
        
        if(parseInt(value['action-limit'])<1)
        {
            setAttrs({["repeating_errorStack_" + newRowId + "_error"]: value[`${techConcat}_${rowid}_etech-name`] + ": No Main Actions."});
                return
        }
        
        if(parseInt(value[`${techConcat}_${rowid}_etech-cost`]) > value.Char_Manna)
        {
            setAttrs({["repeating_errorStack_" + newRowId + "_error"]: "Insufficient Manna supply."});
                return
        }
        
        let apply = {
            Char_Manna: value.Char_Manna - parseInt(value[`${techConcat}_${rowid}_etech-cost`]),
            economy: value.economy, //TURN ECONOMY DISABLED
            // [`${techConcat}_${rowid}_etech-warning`]: "",
            ["repeating_errorStack_" + newRowId + "_error"]: value[`${techConcat}_${rowid}_etech-name`] + "used. (" + value[`${techConcat}_${rowid}_etech-cost`] + ")",
            ['action-limit']:       value['action-limit'] - 1
        };
        
        startRoll( "&{template:etech} {{Tech=[[0]]}} {{Cost=[[0]]}} {{TTT=[[0]]}} {{Info=[[0]]}}",
            (results) => {
                
            //{{name=@{spells-name}}}{{School=@{spells-school}}}{{Branch=@{spells-branch}}}{{Mastery=@{spells-mastery}}}{{Potency=@{spells-potency}}}{{Manna Cost=@{spells-cost}}}{{Cast Time=@{spells-cast-time}}}{{TTT Cost=@{spells-ttt}}}{{Flavor=@{spells-flavor}}}
                finishRoll(
                    results.rollId,
                    {
                        Tech:   value[`${techConcat}_${rowid}_etech-name`] ,
                        Cost:  value[`${techConcat}_${rowid}_etech-cost`] ,
                        TTT:  value[`${techConcat}_${rowid}_etech-ttt`] ,
                        Info:  value[`${techConcat}_${rowid}_etech-flavor`]
                    }
                );
            })
        
        //&{template:default}{{name=@{etech-name}}}{{Manna Cost=@{etech-cost}}}{{Turn Eco=@{etech-tcost}}}{{Flavor=@{etech-flavor}}}"
        //TURN ECONOMY
        // if(value[`${techConcat}_${rowid}_etech-tcost`] >= value.economy)
        // {
        //     if(value[`${techConcat}_${rowid}_etech-tcost`] <= 100)
        //     {
        //         apply[`${techConcat}_${rowid}_etech-warning`] = "WARNING. 0 REMAINING TURN ECONOMY.";
        //         apply.economy = 0;
        //     }
        //     else
        //         apply[`${techConcat}_${rowid}_etech-warning`] = "WARNING. Technique will take more than one turn to perform. Increment MANUALLY.";
        // }else
        // apply.economy = value.economy - value[`${techConcat}_${rowid}_etech-tcost`];
        
        setAttrs(apply);
    })
});
});
//original function
//on("clicked:repeating_energytech:applyetech", function(eventInfo) {
    
//     const rowid = eventInfo.sourceAttribute.split('_')[2];
    
//     getAttrs([`repeating_energytech_${rowid}_etech-cost`,
//     `repeating_energytech_${rowid}_etech-tcost`,
//     "Char_Manna","economy"], function(value) {
        
//         Object.values(value).forEach(V => {
//             if(V ==="" || typeof V ==="undefined")
//             {
//                 setAttrs({[`repeating_energytech_${rowid}_etech-warning`]: "Character or Tech is incomplete."});
//                     return
//             }
//         })
        
//         if(value[`repeating_energytech_${rowid}_etech-cost`] > value.Char_Manna)
//         {
//             setAttrs({[`repeating_energytech_${rowid}_etech-warning`]: "Insufficient Manna supply."});
//                 return
//         }
        
//         let apply = {
//             Char_Manna: value.Char_Manna - value[`repeating_energytech_${rowid}_etech-cost`],
//             economy: value.economy,
//             [`repeating_energytech_${rowid}_etech-warning`]: ""
//         };
        
//         if(value[`repeating_energytech_${rowid}_etech-tcost`] >= value.economy)
//         {
//             if(value[`repeating_energytech_${rowid}_etech-tcost`] <= 100)
//             {
//                 apply[`repeating_energytech_${rowid}_etech-warning`] = "WARNING. 0 REMAINING TURN ECONOMY.";
//                 apply.economy = 0;
//             }
//             else
//                 apply[`repeating_energytech_${rowid}_etech-warning`] = "WARNING. Technique will take more than one turn to perform. Increment MANUALLY.";
//         }else
//         apply.economy = value.economy - value[`repeating_energytech_${rowid}_etech-tcost`];
        
//         setAttrs(apply);
//     })
// });
const mTechList = ["1","2","3","4","5","6","7"]
//updates progress bars for meleetechs
mTechList.forEach(tab => {
//Each repeat tab of tech has a different repeating section with the tab number appended to the end of it in the html
//original string: "clicked:repeating_energytech:applyetech"
    const techConcat = "repeating_meleetech"+tab;
    
    on("clicked:"+techConcat+":execute", function(eventInfo){
        const rowid = eventInfo.sourceAttribute.split('_')[2];
        const fetch = [
            `${techConcat}_${rowid}_meleetech-cost`,
            `${techConcat}_${rowid}_meleetech-type`,
            `${techConcat}_${rowid}_meleetech-base`,
            `${techConcat}_${rowid}_meleetech-name`,
            `${techConcat}_${rowid}_meleetech-hits`,
            // `${techConcat}_${rowid}_tech-bar`,
            `${techConcat}_${rowid}_meleetech-lunge`,
            `${techConcat}_${rowid}_meleetech-launcher`,
            `${techConcat}_${rowid}_meleetech-spike`,
            `${techConcat}_${rowid}_meleetech-streak`,
            `${techConcat}_${rowid}_meleetech-ender`,
            `${techConcat}_${rowid}_meleetech-parry`,
            `${techConcat}_${rowid}_meleetech-counter`,
            `${techConcat}_${rowid}_meleetech-stance`,
            `primary-weapon`, 
            `secondary-weapon`,
            `primaryweapon_base`,
            `primaryweapon-rem-dur`,
            `primaryweapon-max-dur`,
            'seqType',
            'baseMod',
            "combo_counter",
            'comboBaseTotal',
            'comboDamageTotal', //Unused
            'comboStrikeTotal',
            'comboDurCost',
            'comboTypeStack'];
        
        getAttrs(fetch, function(value){
        
        const comboData = {
            "combo_counter":    parseInt(value["combo_counter"]) + 1,
            'comboBaseTotal':   (parseInt(value['comboBaseTotal']) + ( value['baseMod'] * (value[`${techConcat}_${rowid}_meleetech-base`] * value[`${techConcat}_${rowid}_meleetech-hits`]) || 0)) || 0,
            'comboDamageTotal': (parseFloat(value['comboDamageTotal']) || 0) + parseFloat(value['baseMod'] * value[`${techConcat}_${rowid}_meleetech-hits`]),
            'comboStrikeTotal': parseInt(value['comboStrikeTotal'] || 0) + parseInt(value[`${techConcat}_${rowid}_meleetech-hits`]),
            //'comboDurCost':     value['comboDurCost'] === "" ? value[`${techConcat}_${rowid}_meleetech-cost`] : parseInt(value['comboDurCost']) +  parseInt(value[`${techConcat}_${rowid}_meleetech-cost`]),
            'comboTypeStack':   value['seqType'],
        }
        
        //check if sequence allows for technique
        const newRowId = generateRowID();
    
        if(value['comboTypeStack'] === 'EN')
            console.log("Ender console")            //Ender, throw warning
        else if(value['comboTypeStack'] === 'LU' || value['comboTypeStack'] === 'SP')
        {
            if(value['seqType'] !== 'LU' && value['seqType'] !== 'LA' && value['seqType'] !== 'EN')
            {
                setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:   "Combo Stack failure: LU/SP"
                    })
                return 
            }
            
        }
        else if(value['comboTypeStack'] === 'LA' || value['comboTypeStack'] === 'ST')
        {
            if(value['seqType'] !== 'ST' && value['seqType'] !== 'SP' && value['seqType'] !== 'EN')
            {
                setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:   "Combo Stack failure: LA/ST"
                    })
                return
            }
        }
        //Generate combo display in combo Menu
        comboData["repeating_comboStack_" + newRowId + "_tech"] = value[`${techConcat}_${rowid}_meleetech-name`];
        comboData["repeating_comboStack_" + newRowId + "_techType"] = value[`${techConcat}_${rowid}_meleetech-type`];
        comboData["repeating_comboStack_" + newRowId + "_techBase"] = value[`${techConcat}_${rowid}_meleetech-base`];
        comboData["repeating_comboStack_" + newRowId + "_techCost"] = value[`${techConcat}_${rowid}_meleetech-cost`];
        comboData["repeating_comboStack_" + newRowId + "_techHits"] = value[`${techConcat}_${rowid}_meleetech-hits`];
        
        setAttrs(comboData)
        //console.log(comboData);
        }); 
    }); //Tallies the combo numbers from each tech. execute btn only appears on the combomenu
    
    on("clicked:"+techConcat+":activatetech", function(eventInfo){
        
        const rowid = eventInfo.sourceAttribute.split('_')[2];
        const fetch = [
            `${techConcat}_${rowid}_meleetech-cost`,
            `${techConcat}_${rowid}_meleetech-type`,
            `${techConcat}_${rowid}_meleetech-base`,
            `${techConcat}_${rowid}_meleetech-name`,
            `${techConcat}_${rowid}_meleetech-hits`,
            // `${techConcat}_${rowid}_tech-bar`,
            `${techConcat}_${rowid}_meleetech-lunge`,
            `${techConcat}_${rowid}_meleetech-launcher`,
            `${techConcat}_${rowid}_meleetech-spike`,
            `${techConcat}_${rowid}_meleetech-streak`,
            `${techConcat}_${rowid}_meleetech-ender`,
            `${techConcat}_${rowid}_meleetech-parry`,
            `${techConcat}_${rowid}_meleetech-counter`,
            `${techConcat}_${rowid}_meleetech-stance`,
            'combatcooldown',
            'combatcooldownMeter',
            'primaryweapon-rem-dur',
            'defense','defensive-limit','interact-limit'];
            
        getAttrs(fetch, function(value){
            
            let techniqueIsViable = false;
            let techniqueIsDef = false;
            const newRowId = generateRowID();
            let dur = value['primaryweapon-rem-dur'];
            let cool = value.combatcooldown;
            
            if(value[`${techConcat}_${rowid}_meleetech-parry`]=='on' || value[`${techConcat}_${rowid}_meleetech-counter`]=='on')
            {
               techniqueIsViable = true; 
               techniqueIsDef = true;
            }
                
            if(value[`${techConcat}_${rowid}_meleetech-stance`]=='on')
            {
                if(value['interact-limit']<1)
                {
                    setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:   value[`${techConcat}_${rowid}_meleetech-name`] + " failed. Out of interact actions."
                    })
                    return
                }
                    setAttrs({
                    'interact-limit':    value['interact-limit'] - 1,
                    ["repeating_errorStack_" + newRowId + "_error"]:   value[`${techConcat}_${rowid}_meleetech-name`] + " Performed. Adjust stats manually."
                    })
                    return
                
            }else if(techniqueIsViable && techniqueIsDef)
            {
                if(value['defensive-limit']<1 && value.defense != 'on')
                {
                    setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:   value[`${techConcat}_${rowid}_meleetech-name`] + " failed. Out of defensive actions."
                    })
                    return
                }
                if(value[`${techConcat}_${rowid}_meleetech-type`] === 'Combat' && value.combatcooldown > 0 && value.defense != 'on')
                {
                    setAttrs({
                    ["repeating_errorStack_" + newRowId + "_error"]:   value[`${techConcat}_${rowid}_meleetech-name`] + " failed. Body Exhaustion. (Combat Technique cooldown)"
                    })
                    return
                }
                if(value[`${techConcat}_${rowid}_meleetech-type`] === 'Weapon')
                dur = value['primaryweapon-rem-dur'] - value[`${techConcat}_${rowid}_meleetech-cost`];
                
                if(value[`${techConcat}_${rowid}_meleetech-type`] === 'Combat')
                cool = parseInt(cool) + parseInt(value[`${techConcat}_${rowid}_meleetech-cost`]);
                
                setAttrs({
                    combatcooldownMeter:                cool / 10,
                    combatcooldown:                     cool,
                    'primaryweapon-rem-dur':            dur < 0 ? 0 : dur,
                    'defensive-limit':                  value['defensive-limit'] - value.defense != 'on' ? 1 : 0,
                    ["repeating_errorStack_" + newRowId + "_error"]:   value[`${techConcat}_${rowid}_meleetech-name`] + " Performed."
                    })
                return
                
            }
            InitiateCombo()
        });
            
    }) //single tech execution. Used for stances and def

});
//original function
//on("clicked:repeating_meleetech:execute", function(eventInfo) {
//   const rowid = eventInfo.sourceAttribute.split('_')[2];
   
//   getAttrs([`repeating_meleetech_${rowid}_meleetech-cost`,"combo_counter",`primary-weapon`, `secondary-weapon`,`primaryweapon-rem-dur`,`primaryweapon-max-dur`,`repeating_meleetech_${rowid}_tech-bar`], function(value){
//         //the repeating section only has one input for cost but...
//         //combat techniques always have a cooldown whereas weapon tech use DURABILITY
//         //However, This means that weapon tech will always have at least 10 meleetech-cost
//         //using this, we seperate the execute button to either start a cooldown progress bar or subtract the cost from DURABILITY bar
//         if(value[`repeating_meleetech_${rowid}_meleetech-cost`]==="")
//         {
//             setAttrs({
//                     techwarning: "WARNING: Tech Incomplete"
//                 });
//                 return
//         }
//         if(value[`repeating_meleetech_${rowid}_meleetech-cost`] > 9)//weapon tech tree
//         {
//             if(value[`primary-weapon`]==="" && value[`secondary-weapon`]==="")
//             {
//                 setAttrs({
//                     techwarning: "WARNING:  No weapon Equipped!"
//                 });
//                 return
//             }else if(parseInt(value[`repeating_meleetech_${rowid}_meleetech-cost`]) > parseInt(value[`primaryweapon-rem-dur`]))
//             {
//                 setAttrs({
//                     techwarning: "WARNING:  Weapon will break if tech is used!"
//                 });
//                 return
//             }//END IF ELSE
            
//             setAttrs({
//                 [`primaryweapon-rem-dur`]:     value[`primaryweapon-rem-dur`] - value[`repeating_meleetech_${rowid}_meleetech-cost`],
//                 [`weapon-rem-dur`]:     value[`primaryweapon-rem-dur`] - value[`repeating_meleetech_${rowid}_meleetech-cost`],
//                 [`dur-bar`]:            Math.floor(((value[`primaryweapon-rem-dur`] - value[`repeating_meleetech_${rowid}_meleetech-cost`])/value[`primaryweapon-max-dur`])*5 + 1),
//                 combo_counter:          parseInt(value.combo_counter) + 1 || 1,
//                 techwarning:            ""
//             });
//             console.log(Math.floor(((value[`primaryweapon-rem-dur`] - value[`repeating_meleetech_${rowid}_meleetech-cost`])/value[`primaryweapon-max-dur`])*5 + 1));
//             return
//         }
//         if(parseInt(value[`repeating_meleetech_${rowid}_meleetech-cost`]) < 10)//combat tech tree
//         {
//             if(value[`repeating_meleetech_${rowid}_tech-bar`]!=="" && value[`repeating_meleetech_${rowid}_tech-bar`] > 0)
//             {
//                 console.log(value[`repeating_meleetech_${rowid}_tech-bar`]);
//                 setAttrs({
//                     techwarning: "WARNING:  Tech in Cooldown"
//                 });
//                 return
//             }
//             setAttrs({
//                 [`repeating_meleetech_${rowid}_tech-bar`]: value[`repeating_meleetech_${rowid}_meleetech-cost`],
//                 combo_counter:          parseInt(value.combo_counter) + 1 || 1,
//                 techwarning:            ""
//             });
//         }
//     }); 
// });
on('clicked:combomenu', () => InitiateCombo());

on('clicked:perform', () => {
    
    const foo = [
        'combo_counter',
        'comboBaseTotal',
        'comboDamageTotal', //Unused
        'comboStrikeTotal',
        'comboDurCost',     //Unused
        'combat_base',
        'power',
        'discipline',
        'cool-bar',
        'dur-bar',
        'primaryweapon_base',
        'primaryweapon-positive-scaling',
        'primaryweapon-negative-scaling',
        'primaryweapon-max-dur',
        'primaryweapon-rem-dur'];
    
    getSectionIDs('comboStack', function(IDs) { 
        
        const techs = [];
        IDs.forEach( ID => {
            techs.push( "repeating_comboStack_" + ID + "_tech" )
            techs.push( "repeating_comboStack_" + ID + "_techType" )
            techs.push( "repeating_comboStack_" + ID + "_techCost" )
            techs.push( "repeating_comboStack_" + ID + "_techHits" )
            techs.push( "repeating_comboStack_" + ID + "_techBase" )
        });
        
        foo.push.apply(foo, techs);
        //console.log(foo)
        
        getAttrs(foo, v => {
   
            startRoll("&{template:test} {{Endurance=[[?{Target's Endurance|0|1|2|3|4|5|6|7|8|9|10}]]}} {{name=Combo!}} ({([[@{power}]]-[[?{Target's Endurance}]]),0}kh1*[[@{primaryweapon-positive-scaling}]])+({([[@{power}]]-[[?{Target's Endurance}]]),0}kl1*[[@{primaryweapon-negative-scaling}]]))]],0}kh1]]}} {{Hits=[[0]]}} {{Chain=[[0]]}} {{Dur=[[0]]}} {{Bonus=[[0]]}} {{Total=[[0]]}} ", 
            (results) => {
                //const total = results.results.roll1.result -- {{roll1=[[1d20]]}}
    
                const techFetch = {}
                techs.map( tech => techFetch[tech] = v[tech])
                
                let base = 0;
                let adjBase = 0;
                let scaling = 0;
                let hits = 0;
                let totalDamage = 0;
                let durability = 0;
                let techCooldown = 0;
                const techThresh = parseInt(v['discipline']) + 5; 
                
                IDs.forEach( ID => {
                    const keys = Object.keys(techFetch).filter( tech => tech.toLowerCase().includes(ID) )
                    
                    keys.forEach( key => {
                        if(key === "")
                        {
                            setAttrs({
                                    techwarning: "WARNING: " + v["repeating_comboStack_" + ID + "_tech"] + " Incomplete"
                                });
                            return
                        }
                    } )
                    
                    if(v["repeating_comboStack_" + ID + "_techType"] === "Combat")
                    {
                        scaling = parseInt(results.results.Endurance.result) - v.power;
                        if(scaling < 0) // Endurance is less than power
                        base = parseInt(v['combat_base']) + v['combat_base'] * scaling * -1
                        else //Endurance is greater or equal to power
                        base = (v['combat_base'] - 5 * scaling) >= 0 ? (v['combat_base'] - 5 * scaling) : 0
                        
                        techCooldown += parseInt(v["repeating_comboStack_" + ID + "_techCost"])
                    }
                    if(v["repeating_comboStack_" + ID + "_techType"] === "Weapon")
                    {
                        scaling = parseInt(results.results.Endurance.result) - v.power;
                        if(scaling < 0)  // Endurance is less than power
                        base = parseInt(v['primaryweapon_base']) +  v['primaryweapon-positive-scaling'] * scaling * -1
                        else //Endurance is greater or equal to power
                        base = (v['primaryweapon_base'] - v['primaryweapon-negative-scaling'] * scaling) >= 0 ? (v['primaryweapon_base'] - v['primaryweapon-negative-scaling'] * scaling) : 0
                        
                        durability += parseInt(v["repeating_comboStack_" + ID + "_techCost"])
                    }
                    
                    adjBase = (base + parseInt(v["repeating_comboStack_" + ID + "_techBase"]))
                    hits = v["repeating_comboStack_" + ID + "_techHits"]
                    totalDamage += (adjBase > 0 ? adjBase : 0) * hits
                } )
                
                // const newRowId = generateRowID();
                console.log(v)
                 
                setAttrs({
                    [`primaryweapon-rem-dur`]:      v[`primaryweapon-rem-dur`] - durability,
                    [`weapon-rem-dur`]:             v[`primaryweapon-rem-dur`] - durability,
                    [`dur-bar`]:                    Math.floor((v[`primaryweapon-rem-dur`] - durability/v[`primaryweapon-max-dur`])*5 + 1),
                    [`cool-bar`]:                   techCooldown / techThresh + 1
                })
    
                finishRoll(
                    results.rollId,
                    {
                        Hits:   v.comboStrikeTotal,
                        Chain:  v.combo_counter,
                        Bonus:  v.comboBaseTotal,
                        Total:  totalDamage,
                        Dur:    durability
                    }
                );
            });
            TerminateCombo(); 
        });
    });
}); //execute combo   

on('clicked:performCancel', () => TerminateCombo());

on('clicked:performReset', () => ResetCombo());

on('clicked:meleeshouldbtn1' , (eventInfo) => {
    
    //console.log(eventInfo.sourceAttribute) //Doesnt work for button. ONLY attrs
    let foo = ['meleeactiontoggle','meleeshoulder1','meleeshoulder2']
    getAttrs(foo, v => {
        
        let apply = {
            meleeactiontoggle:  "Melee",
            meleeshoulder1:     "Magic",
            meleeshoulder2:     "Techs"
        }
        
        if(v.meleeshoulder1 == "Magic")
        {
            apply.meleeactiontoggle = 'Magic'
            apply.meleeshoulder1 = 'Melee'
            apply.meleeshoulder2 = "Techs"
        }
        setAttrs(apply)
    })
});
on('clicked:meleeshouldbtn2' , (eventInfo) => {
    
    //console.log(eventInfo.sourceAttribute) //Doesnt work for button. ONLY attrs    
    let foo = ['meleeactiontoggle','meleeshoulder1','meleeshoulder2']
    getAttrs(foo, v => {
        
        let apply = {
            meleeactiontoggle:  "Melee",
            meleeshoulder1:     "Magic",
            meleeshoulder2:     "Techs"
        }
        
        if(v.meleeshoulder2 == "Techs")
        {
            apply.meleeactiontoggle = 'Techs'
            apply.meleeshoulder1 = 'Magic'
            apply.meleeshoulder2 = "Melee"
        }
        setAttrs(apply)
    })
});
on('clicked:toolnavback' , (eventInfo) => {
    //console.log(eventInfo.sourceAttribute) //Doesnt work for button. ONLY attrs    
    let foo = ['currenttool','totaltool']
    getAttrs(foo, v => {
      
        if(parseInt(v.currenttool)>1)
        {
            let apply = {
            currenttool:    parseInt(v.currenttool) - 1,
            toolinfo:       ToolTipGenerator(parseInt(v.currenttool) - 1)
            }
            
            setAttrs(apply)
            if(parseInt(v.currenttool)<parseInt(v.totaltool))
        apply.currenttool = ToolTipGenerator(parseInt(v.totaltool) + 1) 
        }
    })
});
on('clicked:toolnavforward' , (eventInfo) => {
    //console.log(eventInfo.sourceAttribute) //Doesnt work for button. ONLY attrs    
    let foo = ['currenttool','totaltool']
    getAttrs(foo, v => {
      
        if(parseInt(v.currenttool)<parseInt(v.totaltool))
        {
            let apply = {
            currenttool:    parseInt(v.currenttool) + 1,
            toolinfo:       ToolTipGenerator(parseInt(v.currenttool) + 1)
            }
            
            setAttrs(apply)
        }
    })
});

//equips armor and modules
on("clicked:equip-armor", () => {
    
    getSectionIDs('repeating_armor', idArray => {
        //console.log(idArray); //debugging
        
        const foo = [];
        let Mods = {
            modtitle1:  "",
            modtitle2:  "",
            modtitle3:  "",
            modtitle4:  "",
            modtitle5:  "",
            mod1:   "",
            mod2:   "",
            mod3:   "",
            mod4:   "",
            mod5:   "",
            modcost1:   "",
            modcost2:   "",
            modcost3:   "",
            modcost4:   "",
            modcost5:   "",
            "mod-cd1":  "",
            "modmax1":  "",
            "mod-cd2":  "",
            "modmax2":  "",
            "mod-cd3":  "",
            "modmax3":  "",
            "mod-cd4":  "",
            "modmax4":  "",
            "mod-cd5":  "",
            "modmax5":  "",
            ['armor-totalttt']: 0,
            ['Disruption']:   0,
            ["armor-equipwarning"]:     "Equipped"
        };
        var i =0;
        idArray.forEach(id => {
            foo.push(`repeating_armor_${id}_module-form`,
            `repeating_armor_${id}_module-cooldown`,
            `repeating_armor_${id}_module-cost`,
            `repeating_armor_${id}_module-effect`,
            `repeating_armor_${id}_module-title`,
            `repeating_armor_${id}_module-turn-to-turn`,
            `repeating_armor_${id}_modulewarning`);
        });
        
        const bar = ["armor-basettt", "armor-disruption","armor-max-dur","equippedarmor-current-dur","Char_Level", "char_constitution", "char_resistance"];
        foo.push.apply(foo, bar);
        
        getAttrs(foo, v => {
            
            idArray.forEach(id => {
                
                if(typeof v[`repeating_armor_${id}_modulewarning`] !== "undefined"){
                setAttrs({["armor-equipwarning"]:     "Module Error - Cannot Equip"});
                return
                }
            
                i++;
                Mods[`mod${i}`] = [`Cost:   ${v[`repeating_armor_${id}_module-cost`]}. \n
                    Effect:     ${v[`repeating_armor_${id}_module-effect`]}.`];
                Mods['armor-totalttt'] += parseInt(v[`repeating_armor_${id}_module-turn-to-turn`]);
                Mods[`modmax${i}`] = v[`repeating_armor_${id}_module-cooldown`];
                Mods[`modcost${i}`] = parseInt(v[`repeating_armor_${id}_module-cost`]);
                Mods[`modtitle${i}`] = v[`repeating_armor_${id}_module-title`];
            });
            
            if(v['armor-current-dur'] > v['armor-max-dur'])
            Mods['armor-current-dur'] = parseInt(v['armor-max-dur']);
            else
            Mods['armor-current-dur'] = parseInt(v['equippedarmor-current-dur']);
            Mods['armor-totalttt'] += parseInt(v["armor-basettt"]);
            Mods['Disruption'] = parseInt(v["armor-disruption"]) + parseInt(v["Char_Level"]) + (parseInt(v["char_resistance"]) + parseInt(v["char_constitution"]))*5;
            setAttrs(Mods);
            console.log(Mods['Disruption']);
        });
        Adjust_Energy();
    });
});

on("change:repeating_armor:module-form", function(eventInfo) {
    //load module data into armor modules
    const rowid = eventInfo.sourceAttribute.split('_')[2];
    
    getAttrs([`repeating_armor_${rowid}_module-level`, "char_constitution", "armor-type"], v => {
        //call Defensive_MOdule to assign values to module
        let module = Defensive_Module(eventInfo.newValue, v[`repeating_armor_${rowid}_module-level`], v["armor-type"], v["char_constitution"]);
        console.log(module.warn);
        setAttrs({
            [`repeating_armor_${rowid}_module-turn-to-turn`]:   module.TTT,
            [`repeating_armor_${rowid}_module-cooldown`]:       module.CoolD,
            [`repeating_armor_${rowid}_module-cost`]:           module.Cost,
            [`repeating_armor_${rowid}_module-effect`]:         module.effect,
            [`repeating_armor_${rowid}_module-title`]:         module.title,
            [`repeating_armor_${rowid}_modwarning`]:            module.warn,
            ['armor-equipwarning']:     module.warn !== "" ? "Module Error - Cannot Equip" : "Unequipped"
        });
    });
});

on("change:repeating_armor:module-level", function(eventInfo) {
    const rowid = eventInfo.sourceAttribute.split('_')[2];
    //place dropdown to default "None" entry
    setAttrs({[`repeating_armor_${rowid}_module-form`]: 'None'});
});

on('clicked:endTurn', () => {
    var manna = true;
    getSectionIDs('repeating_meleetech', techs => {
        
        let cooldown = {
            economy:        1000,
            combo_counter:  0,
            comboStrikeTotal: 0,
            comboDurCost:   0,
            comboTypeStack: "",
            comboBaseTotal: 0,
            ['defensive-limit']: 2,
            ['interact-limit']: 2,
            ['action-limit']: 2,
            blockedHits:    0,
            defactionW:     "",
            guardWarningC:  "",
            guardWarningW:  "",
        };
        const foo = [];
        techs.forEach(id => { //currently unused now with global cooldown bar - Jan 2024
            foo.push(`repeating_meleetech_${id}_tech-bar`);
        });
        for(var i = 1; i<=5; i++)
        {
            foo.push(`mod-cd${i}`);
            foo.push(`modmax${i}`);
            cooldown[`mod-cd${i}`] = "";
        }
            
        const bar = ["char_constitution","char_discipline","char_resistance",
                    "Char_TTT","adTTT","Energy_type",
                    "Char_Manna","Char_Demon","Char_Life_Force",
                    "Char_Level","armor-disruption",
                    "combat_gg","weapon_gg","curCGG","curWGG",
                    "bonusGG","bonusGC","bonusDfActions","bonusInActions",
                    "defense","Disruption","Pain","turnCount"];
        foo.push.apply(foo, bar);
        
        getAttrs(foo, value => {
        //reduce cooldowns for each combat tech by 1 until zero
            techs.forEach(id => {
                if(parseInt(value[`repeating_meleetech_${id}_tech-bar`]) > 1)
                cooldown[`repeating_meleetech_${id}_tech-bar`] = value[`repeating_meleetech_${id}_tech-bar`] - 1;
                else
                cooldown[`repeating_meleetech_${id}_tech-bar`] = "";
            })
            //reduce pain and Disruption
            var dis = 0;
            if(value["armor-disruption"]!=="")
            dis = parseInt(value["armor-disruption"]) || 0;
            var maxDis = parseInt(value.Char_Level) + dis + ((parseInt(value.char_resistance) + parseInt(value.char_constitution)) * 5);
            var maxPain = parseInt(value.Char_Level) + ((parseInt(value.char_discipline) + parseInt(value.char_constitution)) * 10);

            cooldown.Disruption =  (parseInt(value.Disruption) + 5) <= maxDis ? (parseInt(value.Disruption) + 5) : maxDis;
            cooldown.Pain =  (parseInt(value.Pain) + 5) <= maxPain ? (parseInt(value.Pain) + 5) : maxPain;
            console.log("Pain: " + parseInt(value.Pain) + 5);
            
            //turn count increment
            cooldown.turnCount = parseInt(value.turnCount) + 1 || 1
            
            cooldown['interact-limit'] += parseInt(value.bonusInActions || 0); 
            cooldown['defensive-limit'] += parseInt(value.bonusDfActions || 0);
            
            // increase gg meter for blocking + bonus GC
            // guard is set to 100 after Guard break during next turn
            // max GG is base + bonus
            let rec = 50 + value.bonusGC;
            const TotalCGG = parseInt(value.combat_gg) + parseInt(value.bonusGG);
            const TotalWGG = parseInt(value.weapon_gg) + parseInt(value.bonusGG);
            const GBrecoveryCGG = TotalCGG >= 100 ? 100  : TotalCGG;
            const GBrecoveryWGG = TotalWGG >= 100 ? 100  : TotalWGG;
            if(value.defense == "on")
            rec *= 2;
            
            if(value.combat_gg !== "" && (rec + value.curCGG) <= TotalCGG) //Not null but will fill less than full
            cooldown.curCGG = value.curCGG !== 0 ? rec + value.curCGG : GBrecoveryCGG;
            else if(value.combat_gg !== "") //Not null but will fill past full
            cooldown.curCGG = value.curCGG !== 0 ? TotalCGG : GBrecoveryCGG;
            
            if(value.weapon_gg !== "" && (rec + value.curWGG) <= TotalWGG) //Not null but will fill less than full
            cooldown.curWGG = value.curWGG !== 0 ? rec + value.curWGG : GBrecoveryWGG;
            else if(value.weapon_gg !== "") //Not null but will fill past full
            cooldown.curWGG = value.curWGG !== 0 ? TotalWGG : GBrecoveryWGG;

            //reduce cooldown for each armor mod
            for(var i = 1; i<=5; i++)
            {
                if(value[`modmax${i}`]!=="")
                    if(value[`mod-cd${i}`] > 1)
                        cooldown[`mod-cd${i}`] = value[`mod-cd${i}`] - 1;
            }
            
            if(value.Energy_type==="necroforce") //if using necro, no manna is consumed but all armor ceases to operate - INCOMPLETE
            {
                cooldown.Char_Life_Force = parseInt(value.Char_Life_Force) - value.Char_TTT - value.adTTT;
                setAttrs(cooldown);
            }
            else if(value.Energy_type==="Demon") //if using demon, TTT will reduce Demon pool
            {
                if(parseInt(value.Char_Demon) < (parseInt(value.Char_TTT) + parseInt(value.adTTT)))
                {
                    cooldown.Char_Demon = 0;
                    manna = false;
                }
                else 
                cooldown.Char_Demon = value.Char_Demon - value.Char_TTT - value.adTTT;
                setAttrs(cooldown);
            } else //using just manna, TTT will reduce Manna pool
            {
                if(parseInt(value.Char_Manna) < (parseInt(value.Char_TTT) + parseInt(value.adTTT)))
                {
                    cooldown.Char_Manna = 0;
                    manna = false;
                }
                else
                cooldown.Char_Manna = value.Char_Manna - value.Char_TTT - value.adTTT;
                setAttrs(cooldown);
            }
        });
        Adjust_Energy(manna, true);//change stats if manna/demon reaches zero
    });
});

on('clicked:AddLevel', function() {
    getAttrs(["Char_Level"], function(value){
        setAttrs({
            Char_Level: ((parseInt(value.Char_Level)+1) || 1)
        });
    });
});

on('clicked:Add10Level', function() {
    getAttrs(["Char_Level"], function(value){
        setAttrs({
            Char_Level: ((parseInt(value.Char_Level)+10) || 10)
        });
    });
});

on('clicked:ResetLevel', function() {
    setAttrs({
        Char_Level: 1
    });
});

on('change:Char_Race', function(eventInfo) {
    //gather data about race base stats before adjusting all derivatives
    let OldBase = Adjust_Race(eventInfo.previousValue);
    let NewBase = Adjust_Race(eventInfo.newValue);
    
    getAttrs(["Char_Manna_Training","Char_Level","armor-disruption","armor-totalttt","spell_points","skill_points","Exspell_points","Exskill_points","powerstate"], function (value) {
        var dis = 0;
        if(value["armor-disruption"]!=="")
        dis = parseInt(value["armor-disruption"]);
        var TTT = 0;
        
        if(value.powerstate == 1)
            TTT = 5 + value["armor-totalttt"];
        else if(value.powerstate == .5)
            TTT = (5 + value["armor-totalttt"]) *0.5;
        else if(value.powerstate == 1.25)
            TTT = (5 + value["armor-totalttt"]) *2;
        
        //let newAll = Adjust_Energy(energies);
        
        setAttrs({
            char_combat_arts:   NewBase.Dis*5 + NewBase.CA,
            initCA:             NewBase.Dis*5 + NewBase.CA,
            char_weapon_arts:   NewBase.Dis*5 + NewBase.WA,
            initWA:             NewBase.Dis*5 + NewBase.WA,
            char_tech:          NewBase.Int*5 + NewBase.TE,
            initTec:            NewBase.Int*5 + NewBase.TE,
            char_magitech:      NewBase.Int*5 + NewBase.MT,
            initMaT:            NewBase.Int*5 + NewBase.MT,
            char_constitution:  NewBase.Con,
            initCon:            NewBase.Con,
            char_discipline:    NewBase.Dis,
            initDis:            NewBase.Dis,
            char_resistance:    NewBase.Res,
            initRes:            NewBase.Res,
            char_intelligence:  NewBase.Int,
            initInt:            NewBase.Int,
            catalyst_mental:    ((Math.floor(value.Char_Level/2)) || 0) + NewBase.Me,
            initMnEn:           ((Math.floor(value.Char_Level/2)) || 0) + NewBase.Me,
            catalyst_body:      ((Math.floor(value.Char_Level/2)) || 0) + NewBase.Be,
            initBdEn:           ((Math.floor(value.Char_Level/2)) || 0) + NewBase.Be,
            catalyst_spirit:    ((Math.floor(value.Char_Level/2)) || 0) + NewBase.Se,
            initSpEn:           ((Math.floor(value.Char_Level/2)) || 0) + NewBase.Se,
            catalyst_memory:    ((Math.floor(value.Char_Level/2)) || 0) + NewBase.Mem,
            initMmEn:           ((Math.floor(value.Char_Level/2)) || 0) + NewBase.Mem,
            catalyst_demon:     ((Math.floor(value.Char_Level/2)) || 0),
            initDmEn:           ((Math.floor(value.Char_Level/2)) || 0),
            catalyst_necro:     ((Math.floor(value.Char_Level/2)) || 0),
            initNeFc:           ((Math.floor(value.Char_Level/2)) || 0),
            Char_Life_Force:    parseInt(value.Char_Level) + 100 + (NewBase.Con* 10),
            maxChar_Life_Force:    parseInt(value.Char_Level) + 100 + (NewBase.Con* 10),
            Char_Manna:         parseInt(value.Char_Level) + 100 + parseInt(value.Char_Manna_Training),
            maxChar_Manna:         parseInt(value.Char_Level) + 100 + parseInt(value.Char_Manna_Training),
            Char_Demon:         0,
            maxChar_Demon:      parseInt(value.Char_Level)*3 + 100,
            maxChar_Spirit_Force: 200,
            maxChar_Soul_Force: 300,
            halfbreed:          "",
            spell_points:       (value.Char_Level*NewBase.SPG) + NewBase.SPB - ((value.Char_Level*OldBase.SPG) + OldBase.SPB - value.spell_points),
            skill_points:       (value.Char_Level*NewBase.SKG) + NewBase.SKB - ((value.Char_Level*OldBase.SKG) + OldBase.SKB - value.skill_points),
            Disruption:         parseInt(value.Char_Level) + dis + (NewBase.Res + NewBase.Con)*5,
            maxDisruption:         parseInt(value.Char_Level) + dis + (NewBase.Res + NewBase.Con)*5,
            Pain:               parseInt(value.Char_Level) + (NewBase.Con + NewBase.Dis)*10,
            maxPain:               parseInt(value.Char_Level) + (NewBase.Con + NewBase.Dis)*10,
            defend:             "",
            phasestep:          "",
            phasejump:          "",
            reflect:            "",
            absorb:             "",
            barrier:            "",
            cutter:             "",
            Energy_type:        "",
            Age:                NewBase.Age,
            Difficulty:         1,
            Power:              0,
            Endurance:          0,
            Speed:              0,
            Flight:             0,
            Char_TTT:           TTT
        }, {silent: true});
        //attempt to deal with asynchrononicity. Silent:true fails if setAttrs is called too quickly
        //Adjust_Battle(value["equipped-weapon"], value["equipped-weapon-style"]);
    });
});

on('change:Char_Level', function(eventInfo) {
    
    const catalysts = ["catalyst_mental","catalyst_body","catalyst_spirit","catalyst_memory","catalyst_demon","catalyst_necro"];
    const stats = ["char_constitution","char_discipline","char_resistance",
    "Char_Manna_Training","Char_Race","Age","armor-disruption","halfbreed","spell_points","skill_points",
    "bonusSkGrowth", "bonusSpGrowth","bonusLfHealth","bonusMnHealth"];
    
    stats.push.apply(stats, catalysts);
    
    getAttrs(stats, function(value){
        
        let Base = Adjust_Race(value.Char_Race);
        var dis = 0;
        if(value["armor-disruption"]!=="")
            dis = parseInt(value["armor-disruption"]) || 0;
            
        const catalystBonuses = {
            mental: value.catalyst_mental - (((Math.floor(parseInt(eventInfo.previousValue)/2)) || 0) + Base.Me),
            body:   value.catalyst_body - (((Math.floor(parseInt(eventInfo.previousValue)/2)) || 0) + Base.Be),
            spirit: value.catalyst_spirit - (((Math.floor(parseInt(eventInfo.previousValue)/2)) || 0) + Base.Se),
            memory: value.catalyst_memory - (((Math.floor(parseInt(eventInfo.previousValue)/2)) || 0) + Base.Mem),
            demon:  value.catalyst_demon - ((Math.floor(parseInt(eventInfo.previousValue)/2)) || 0),
            necro:  value.catalyst_necro - ((Math.floor(parseInt(eventInfo.previousValue)/2)) || 0)
        };
        
        setAttrs({
            catalyst_mental:    ((Math.floor(parseInt(eventInfo.newValue)/2)) || 0) + Base.Me + catalystBonuses.mental,
            catalyst_body:      ((Math.floor(parseInt(eventInfo.newValue)/2)) || 0) + Base.Be + catalystBonuses.body,
            catalyst_spirit:    ((Math.floor(parseInt(eventInfo.newValue)/2)) || 0) + Base.Se + catalystBonuses.spirit,
            catalyst_memory:    ((Math.floor(parseInt(eventInfo.newValue)/2)) || 0) + Base.Mem + catalystBonuses.memory,
            catalyst_demon:     ((Math.floor(parseInt(eventInfo.newValue)/2)) || 0) + catalystBonuses.demon,
            catalyst_necro:     ((Math.floor(parseInt(eventInfo.newValue)/2)) || 0) + catalystBonuses.necro,
            Char_Life_Force:    parseInt(eventInfo.newValue) + 100 + parseInt(value.char_constitution * 15) + parseInt(value.bonusLfHealth || 0),
            maxChar_Life_Force:    parseInt(eventInfo.newValue) + 100 + parseInt(value.char_constitution * 15) + parseInt(value.bonusLfHealth || 0),
            Char_Manna:         parseInt(eventInfo.newValue) + 100 + parseInt(value.Char_Manna_Training) + parseInt(value.bonusMnHealth || 0),
            maxChar_Manna:         parseInt(eventInfo.newValue) + 100 + parseInt(value.Char_Manna_Training) + parseInt(value.bonusMnHealth || 0),
            maxChar_Demon:      value.halfbreed === "0" ? parseInt(value.Char_Level)*3 + 100 : parseInt(value.Char_Level)*9 + 100,
            spell_points:       value.spell_points + ((parseInt(eventInfo.newValue) - parseInt(eventInfo.previousValue))*(Base.SPG + (parseFloat(value.bonusSpGrowth) || 0))),
            skill_points:       value.skill_points + ((parseInt(eventInfo.newValue) - parseInt(eventInfo.previousValue))*(Base.SKG + (parseFloat(value.bonusSkGrowth) || 0))),
            Disruption:         parseInt(eventInfo.newValue) + dis + ((value.char_resistance + value.char_constitution) *5),
            maxDisruption:         parseInt(eventInfo.newValue) + dis + ((value.char_resistance + value.char_constitution) *5),
            Pain:               parseInt(eventInfo.newValue) + (parseInt(value.char_discipline) + parseInt(value.char_constitution)) * 10,
            maxPain:               parseInt(eventInfo.newValue) + (parseInt(value.char_discipline) + parseInt(value.char_constitution)) * 10,
            Age:                parseInt(value.Age) - (parseInt(eventInfo.newValue) - parseInt(eventInfo.previousValue))
        }, {silent:true});
        Adjust_Energy();
    });
});

// CloseToolTip=function()
// {
//     $20('.toolsdiplay').removeClass('ActiveToolDisplay');
//     console.log("CloseToolTip Triggered...")
// }

ToolTipGenerator=function(current = 0)
{
    const MAX_TOOL_NUMBER = 15;
    
    let tool = Math.floor((Math.random() * MAX_TOOL_NUMBER) + 1)
    let info = "No Tool Tip..."
    
    if(current>0)
    tool = current;
    
    switch(tool){
        case 1 : 
            info = "Generation is about feeling like a demi-god. Players who play this role well should be rewarded by the GM."
        break;
        case 2 : 
            info = "There are no potions in this game...Healing is done with magic, Vitalize, and armor modules primarily."
        break;
        case 3 : 
            info = "TTT stands for Turn-to-Turn and is the manna cost you pay at the beginning of every new round."
        break;
        case 4 : 
            info = "Use the GATHER button to replenish your manna at the cost of an interact action."
        break;
        case 5 : 
            info = "Purchase and learn new MELEE techniques to string them together in a combo for massive damage. " +
            "Alternatively, purchase defensive techs(Parry & Counters) and use them defensively. " +
            "Or use a Stance to buff your offense at the cost of an interact action."
        break;
        case 6 : 
            info = "Catalysts should NOT be switched after the user has committed any type of action"
        break;
        case 7 : 
            info = "Weapons and armor will break if used while the user's POWER exceeds the STRESS tolerance."
        break;
        case 8 : 
            info = "Anything Summoned can attack the same turn it appears. Reinforcements must wait one turn and may be seen coming." + 
            "Enemies that haven't arrived \" IN COMBAT \" cannot be attacked unless the attacker is willing to bring them into the combat." +
            "Long range attacks can negate this."
        break;
        case 9 : 
            info = "Full power grants an additional 25% of catalyst at the cost of doubling TTT cost. " + 
            "It also allows for the climing of strength at twice the turn rate until maximum is reached."
        break;
        case 10 : 
            info = "Blocking can be used defensively but doesn't take a defensive action. " +
            "It is used to reduced melee or missile damage to 0 at the default cost of 100 GG."
        break;
        case 11 : 
            info = "There is NO initiative in GENERATION. Players always go first unless playing on harder modes..."
        break;
        case 12 : 
            info = "There is NO movement in GENERATION, instead characters must have enough speed/flight to catch targets. " + 
            "At times, you will be expected to battle dozens or even hundreds of foes at a time. For this reason, game speed is only fluid without movement."
        break;
        case 13 : 
            info = "Hard mode means enemies always go first unless surprised. Most attacks will also now deal Pain or Disruption to party members. " +
            "Achieved at TPD (Total Party Difficulty) of 6+."
        break;
        case 14 : 
            info = "Surprise attacks disable enemy defensive actions and take turn priority. This goes for enemies as well."
        break;
        case 15 : 
            info = "Adding Magic or Energy Techniques will make them appear in the battle page in the Melee secion. Simply toggle the buttons on top to see them."
        break;
    }
    
    if(current===0)
    {
        setAttrs({
            currenttool:    tool,
            toolinfo:       info,
            totaltool:      MAX_TOOL_NUMBER
            
        }, {silent:true})
    }
    
    return info;
    
}

InitiateCombo=function()
{
    $20('.combopop').removeClass('inActiveComboMenu');
}

TerminateCombo=function()
{
    $20('.combopop').addClass('inActiveComboMenu');
    ResetCombo();
}

ResetCombo=function()
{
    getSectionIDs('comboStack', function(IDs) { 
        IDs.forEach( ID => removeRepeatingRow( "repeating_comboStack_" + ID ))
        setAttrs({
            'combo_counter':  0,
            'comboStrikeTotal': 0,
            'comboDurCost':   0,
            'comboTypeStack': "",
            'comboBaseTotal': 0
        })
    })
}

Vitalize=function()
{
    let vital = {};
    const stats = ["combat_gg","weapon_gg",
    "bonusGG","bonusDfActions","bonusInActions",
    "bonusMnHealth","bonusLfHealth",
    "primaryweapon-max-dur","armor-max-dur",
    "char_constitution","char_discipline","char_resistance",
    "Char_Level","armor-disruption","Char_Manna_Training"];
    
    getSectionIDs('repeating_meleetech', techs => {
        techs.forEach(id => {//reset tech cooldown
                vital[`repeating_meleetech_${id}_tech-bar`] = "";
               
            })
            
        for(var i = 1; i<=5; i++)//reset defensive mod cooldown
            vital[`mod-cd${i}`] = "";

        //foo.push.apply(foo, stats);
        //restore manna, life-force, pain, disruption, GG, and dur to max
        //spirit & soul are not restored with vitalize
        getAttrs(stats, value => {
            var dis = 0;
            if(value["armor-disruption"]!=="")
            dis = parseInt(value["armor-disruption"]) || 0;
            
            //reset gg meter for blocking
            vital.curCGG = parseInt(value.combat_gg) !== "" ? parseInt(value.combat_gg) + (parseInt(value.bonusGG) ||0): 0;
            vital.curWGG = parseInt(value.weapon_gg) !== "" ? parseInt(value.weapon_gg) + (parseInt(value.bonusGG) ||0): 0;
            vital.totalWGG = parseInt(value.weapon_gg) + (parseInt(value.bonusGG) ||0);
            vital.totalCGG = parseInt(value.combat_gg) + (parseInt(value.bonusGG) ||0);
            vital.blockedHits = 0;
            vital.combo_counter = 0;
            vital.comboStrikeTotal = 0;
            vital.comboDurCost =  0;
            vital.comboTypeStack = "";
            vital.comboBaseTotal = 0;
            vital.defactionW = "";
            vital['defensive-limit'] = 2 + parseInt(value.bonusDfActions || 0);
            vital['interact-limit'] = 2 + parseInt(value.bonusInActions || 0);
            vital['action-limit'] = 2;
            vital.guardWarningC = "";
            vital.guardWarningW = "";
            vital.adTTT = 0;
            vital.Char_Manna = 100 + parseInt(value.Char_Manna_Training) + parseInt(value.Char_Level) + parseInt(value.bonusMnHealth || 0);
            vital.maxChar_Manna = 100 + parseInt(value.Char_Manna_Training) + parseInt(value.Char_Level) + parseInt(value.bonusMnHealth || 0);
            vital.Char_Life_Force = 100 + value.Char_Level + (value.char_constitution * 15) + parseInt(value.bonusLfHealth || 0);
            vital.maxChar_Life_Force = 100 + value.Char_Level + (value.char_constitution * 15) + parseInt(value.bonusLfHealth || 0);
            vital.Disruption = value.Char_Level + dis + (value.char_constitution + value.char_resistance) * 5;
            vital.maxDisruption = value.Char_Level + dis + (value.char_constitution + value.char_resistance) * 5;
            vital.Pain = value.Char_Level + (value.char_constitution + value.char_discipline) * 10;
            vital.maxPain = value.Char_Level + (value.char_constitution + value.char_discipline) * 10;
            vital["primaryweapon-rem-dur"] = parseInt(value["primaryweapon-max-dur"]);
            vital["weapon-rem-dur"] = parseInt(value["primaryweapon-max-dur"]) || 0;
            vital["armor-current-dur"] = parseInt(value["armor-max-dur"]);
            vital["equippedarmor-current-dur"] = parseInt(value["armor-max-dur"]);
            vital.economy = 100;
            console.log(vital);
            setAttrs(vital);
        });
    });
}

Defensive_Module=function(New, Mlevel, Atype, Con)
{
    let Module = {
        TTT:    "",
        CoolD:  "",
        Cost:   "",
        effect: "",
        title:  "",
        warn:   ""
    };
    var level = parseInt(Mlevel);
        //console.log(New);
        switch(New)
        {
            case "N": //No module selected
            break;
            case "XSB": //Speed Boost Module
                if(level != 2 && level != 3 && level != 5 && level != 6)
                Module.warn = "Error: Module only compatible with Level: 2,3,5, or 6. ";
                else if(Atype!=="A" && Atype!=="U")
                Module.warn = "Error: Module Exclusive to Assault Type Armor. ";
                else
                {
                    switch(level)
                    {
                        case 2:
                            Module.TTT = 2;
                            Module.CoolD = 8;
                            Module.Cost = 100;
                            Module.effect = "+1 Speed for 2 turns(Max of 4)";
                            Module.title = "Speed Boost" ;
                            break;
                        case 3:
                            Module.TTT = 3;
                            Module.CoolD = 8;
                            Module.Cost = 100;
                            Module.effect = "+1 Speed for 4 turns(Max of 4)";
                            Module.title = "Speed Boost" ;
                            break;
                        case 5:
                            Module.TTT = 4;
                            Module.CoolD = 8;
                            Module.Cost = 150;
                            Module.effect = "+2 Speed for 2 turns(Max of 6)";
                            Module.title = "Speed Boost" ;
                            break;
                        case 6:
                            Module.TTT = 5;
                            Module.CoolD = 8;
                            Module.Cost = 150;
                            Module.effect = "+2 Speed for 4 turns(Max of 6)";
                            Module.title = "Speed Boost" ;
                            break;
                    }
                    Module.ward = "";
                }
            break;
            case "XB":  //Barrier Module
                if(Atype!=="V" && Atype!=="U")
                Module.warn = "Error: Module Exclusive to Vigilant Type Armor. ";
                else
                {
                    switch(level)
                    {
                        case 1:
                            Module.TTT = 1;
                            Module.CoolD = 3;
                            Module.Cost = 30;
                            Module.effect = "+50 Vit Shield";
                            Module.title = "Force Field" ;
                            break;
                        case 2:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost = 45;
                            Module.effect = "+100 Vit Shield";
                            Module.title = "Force Field" ;
                            break;
                        case 3:
                            Module.TTT = 3;
                            Module.CoolD = 3;
                            Module.Cost = 60;
                            Module.effect = "+150 Vit Shield";
                            Module.title = "Force Field" ;
                            break;
                        case 4:
                            Module.TTT = 4;
                            Module.CoolD = 4;
                            Module.Cost = 75;
                            Module.effect = "+200 Vit Shield";
                            Module.title = "Force Field" ;
                            break;
                        case 5:
                            Module.TTT = 5;
                            Module.CoolD = 4;
                            Module.Cost = 90;
                            Module.effect = "+250 Vit Shield";
                            Module.title = "Force Field" ;
                            break;
                        case 6:
                            Module.TTT = 6;
                            Module.CoolD = 4;
                            Module.Cost = 105;
                            Module.effect = "+300 Vit Shield";
                            Module.title = "Force Field" ;
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "XER": //Emergency Reconstitution Module
                if(level != 2 && level != 3 && level != 5 && level != 6)
                Module.warn = "Error: Module only compatible with Level: 2,3,5, or 6. ";
                else if(Atype!=="V" && Atype!=="U")
                Module.warn = "Error: Module Exclusive to Vigilant Type Armor. ";
                else
                {
                    switch(level)
                    {
                        case 2:
                            Module.TTT = 1;
                            Module.CoolD = 5;
                            Module.Cost = 150;
                            Module.effect = "Reconstitute 2 units of body mass";
                            Module.title = "Reconstitution" ;
                            break;
                        case 3:
                            Module.TTT = 1;
                            Module.CoolD = 5;
                            Module.Cost = 250;
                            Module.effect = "Reconstitute 3 units of body mass";
                            Module.title = "Reconstitution" ;
                            break;

                        case 5:
                            Module.TTT = 1;
                            Module.CoolD = 5;
                            Module.Cost = 350;
                            Module.effect = "Reconstitute 4 units of body mass";
                            Module.title = "Reconstitution" ;
                            break;
                        case 6:
                            Module.TTT = 1;
                            Module.CoolD = 5;
                            Module.Cost = 450;
                            Module.effect = "Reconstitute 5 units of body mass";
                            Module.title = "Reconstitution" ;
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "XJC": //Junction Cast Module
                if(level != 2  && level != 4 && level != 6)
                Module.warn = "Error: Module only compatible with Level: 2, 4, or 6. ";
                else if(Atype!=="C" && Atype!=="U")
                Module.warn = "Error: Module Exclusive to Caster Type Armor. ";
                else
                {
                    switch(level)
                    {
                        case 2:
                            Module.TTT = 1;
                            Module.CoolD = 3;
                            Module.Cost = 45;
                            Module.effect = "Junction Cast a Basic magic Spell";
                            Module.title = "Junction Cast" ;
                            break;
                        case 4:
                            Module.TTT = 1;
                            Module.CoolD = 3;
                            Module.Cost = 60;
                            Module.effect = "Junction Cast an Basic/Advanced magic Spell";
                            Module.title = "Junction Cast" ;
                            break;
                        case 6:
                            Module.TTT = 1;
                            Module.CoolD = 4;
                            Module.Cost = 105;
                            Module.effect = "Junction Cast a Basic/Advanced/Forbidden magic Spell";
                            Module.title = "Junction Cast";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "XSC": //Spell Charge Module
                if(level != 1  && level != 3 && level != 5)
                Module.warn = "Error: Module only compatible with Level: 1, 3, or 5. ";
                else if(Atype!=="C" && Atype!=="U")
                Module.warn = "Error: Module Exclusive to Caster Type Armor. ";
                else
                {
                    switch(level)
                    {
                        case 1:
                            Module.TTT = 2;
                            Module.CoolD = 1;
                            Module.Cost = 50;
                            Module.effect = "Add a charge to a Basic Spell";
                            Module.title = "Spell Charge";
                            break;
                        case 3:
                            Module.TTT = 2;
                            Module.CoolD = 1;
                            Module.Cost = 50;
                            Module.effect = "Add a charge to a Advanced Spell";
                            Module.title = "Spell Charge";
                            break;
                        case 5:
                            Module.TTT = 2;
                            Module.CoolD = 1;
                            Module.Cost = 50;
                            Module.effect = "Add a charge to a Forbidden Spell";
                            Module.title = "Spell Charge";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "C":   //Counter Attack Module
                if(level != 2  && level != 4 && level != 6)
                Module.warn = "Error: Module only compatible with Level: 2, 4, or 6. ";
                else 
                {
                    switch(level)
                    {
                        case 2:
                            Module.TTT = 2;
                            Module.CoolD = 0;
                            Module.Cost = 30;
                            Module.effect = `Counter Attack: Base=${parseInt(Con)*4} `;
                            Module.title = "Counter";
                            break;
                        case 4:
                            Module.TTT = 4;
                            Module.CoolD = 0;
                            Module.Cost = 45;
                            Module.effect = `Counter Attack: Base=${parseInt(Con)*6} `;
                            Module.title = "Counter";
                            break;
                        case 6:
                            Module.TTT = 6;
                            Module.CoolD = 0;
                            Module.Cost = 60;
                            Module.effect = `Counter Attack: Base=${parseInt(Con)*8} `;
                            Module.title = "Counter";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "GB":  //Guard Boost Module
                if(level != 2  && level != 4 && level != 6)
                Module.warn = "Error: Module only compatible with Level: 2, 4, or 6. ";
                else
                {
                    switch(level)
                    {
                        case 2:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost = 20;
                            Module.effect = "+ 50 GG; block with armor";
                            Module.title = "Guard Boost";
                            break;
                        case 3:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost = 40;
                            Module.effect = "+ 100 GG; block with armor";
                            Module.title = "Guard Boost";
                            break;
                        case 5:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost = 60;
                            Module.effect = "+ 150 GG; block with armor";
                            Module.title = "Guard Boost";
                            break;
                        case 6:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost = 80;
                            Module.effect = "+ 200 GG; block with armor";
                            Module.title = "Guard Boost";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "GR":  //Guard Regeneration Module
                    switch(level)
                {
                    case 1:
                        Module.TTT = 2;
                        Module.CoolD = 3;
                        Module.Cost = 20;
                        Module.effect = "+25 GG a turn for 3 turns";
                        Module.title = "Guard Regen";
                        break;
                    case 2:
                        Module.TTT = 2;
                        Module.CoolD = 3;
                        Module.Cost = 40;
                        Module.effect = "+50 GG a turn for 3 turns";
                        Module.title = "Guard Regen";
                        break;
                    case 3:
                        Module.TTT = 2;
                        Module.CoolD = 3;
                        Module.Cost = 60;
                        Module.effect = "+75 GG a turn for 3 turns";
                        Module.title = "Guard Regen";
                        break;
                    case 4:
                        Module.TTT = 4;
                        Module.CoolD = 4;
                        Module.Cost = 80;
                        Module.effect = "+100 GG a turn for 3 turns";
                        Module.title = "Guard Regen";
                        break;
                    case 5:
                        Module.TTT = 4;
                        Module.CoolD = 4;
                        Module.Cost = 100;
                        Module.effect = "+125 GG a turn for 3 turns";
                        Module.title = "Guard Regen";
                        break;
                    case 6:
                        Module.TTT = 4;
                        Module.CoolD = 4;
                        Module.Cost = 120;
                        Module.effect = "+150 GG a turn for 3 turns";
                        Module.title = "Guard Regen";
                        break;
                    
                }
                Module.warn = "";
            break;
            case "EB":  //Evasion Boost Module
                if(level > 5 )
                Module.warn = "Error: Module only compatible with Levels up to 5. ";
                else
                {
                    switch(level)
                    {
                        case 1:
                            Module.TTT = 2;
                            Module.CoolD = 2;
                            Module.Cost = 10;
                            Module.effect = "+30 Eva";
                            Module.title = "Evasion Boost";
                            break;
                        case 2:
                            Module.TTT = 2;
                            Module.CoolD = 2;
                            Module.Cost = 20;
                            Module.effect = "+60 Eva";
                            Module.title = "Evasion Boost";
                            break;
                        case 3:
                            Module.TTT = 3;
                            Module.CoolD = 2;
                            Module.Cost = 30;
                            Module.effect = "+90 Eva";
                            Module.title = "Evasion Boost";
                            break;
                        case 4:
                            Module.TTT = 3;
                            Module.CoolD = 2;
                            Module.Cost = 40;
                            Module.effect = "+120 Eva";
                            Module.title = "Evasion Boost";
                            break;
                        case 5:
                            Module.TTT = 3;
                            Module.CoolD = 2;
                            Module.Cost = 50;
                            Module.effect = "+150 Eva";
                            Module.title = "Evasion Boost";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "RS": //Restore Spirit Module
                if(level != 2 && level != 3 && level != 5 && level != 6)
                Module.warn = "Error: Module only compatible with Level: 2,3,5, or 6. ";
                else
                {
                    switch(level)
                    {
                        case 2:
                            Module.TTT = 1;
                            Module.CoolD = 6;
                            Module.Cost = 200;
                            Module.effect = "Restore 50 Spirit";
                            Module.title = "Recovery Spirit";
                            break;
                        case 3:
                            Module.TTT = 1;
                            Module.CoolD = 6;
                            Module.Cost = 200;
                            Module.effect = "Restore 100 Spirit";
                            Module.title = "Recovery Spirit";
                            break;

                        case 5:
                            Module.TTT = 1;
                            Module.CoolD = 6;
                            Module.Cost = 300;
                            Module.effect = "Restore 150 Spirit";
                            Module.title = "Recovery Spirit";
                            break;
                        case 6:
                            Module.TTT = 1;
                            Module.CoolD = 6;
                            Module.Cost = 300;
                            Module.effect = "Restore 200 Spirit";
                            Module.title = "Recovery Spirit";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "NS":  //Nueral Stress Relief Module
                if(level > 5 )
                Module.warn = "Error: Module only compatible with Levels upt o 5. ";
                else
                {
                    switch(level)
                    {
                        case 1:
                            Module.TTT = 1;
                            Module.CoolD = 3;
                            Module.Cost  = 25;
                            Module.effect = "Reduce Pain by 30";
                            Module.title = "Stress Relief";
                            break;
                        case 2:
                            Module.TTT = 1;
                            Module.CoolD = 3;
                            Module.Cost  = 30;
                            Module.effect = "Reduce Pain by 60";
                            Module.title = "Stress Relief";
                            break;
                        case 3:
                            Module.TTT = 1;
                            Module.CoolD = 3;
                            Module.Cost  = 35;
                            Module.effect = "Reduce Pain by 90";
                            Module.title = "Stress Relief";
                            break;
                        case 4:
                            Module.TTT = 1;
                            Module.CoolD = 3;
                            Module.Cost  = 40;
                            Module.effect = "Reduce Pain by 120";
                            Module.title = "Stress Relief";
                            break;
                        case 5:
                            Module.TTT = 1;
                            Module.CoolD = 3;
                            Module.Cost  = 45;
                            Module.effect = "Reduce Pain by 150";
                            Module.title = "Stress Relief";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "EG":  //Enhanced Gather Module
                switch(level)
                {
                    case 1:
                        Module.TTT = 0;
                        Module.CoolD = 3;
                        Module.Cost  = 20;
                        Module.effect = "Gather 10 Extra Manna. Increases Saturation";
                        Module.title = "Enhanced Gather";
                        break;
                    case 2:
                        Module.TTT = 0;
                        Module.CoolD = 3;
                        Module.Cost  = 30;
                        Module.effect = "Gather 30 Extra Manna. Increases Saturation";
                        Module.title = "Enhanced Gather";
                        break;
                    case 3:
                        Module.TTT = 0;
                        Module.CoolD = 3;
                        Module.Cost  = 40;
                        Module.effect = "Gather 50 Extra Manna. Increases Saturation";
                        Module.title = "Enhanced Gather";
                        break;
                    case 4:
                        Module.TTT = 0;
                        Module.CoolD = 4;
                        Module.Cost  = 50;
                        Module.effect = "Gather 70 Extra Manna. Increases Saturation";
                        Module.title = "Enhanced Gather";
                        break;
                    case 5:
                        Module.TTT = 0;
                        Module.CoolD = 4;
                        Module.Cost  = 60;
                        Module.effect = "Gather 90 Extra Manna. Increases Saturation";
                        Module.title = "Enhanced Gather";
                        break;
                    case 6:
                        Module.TTT = 0;
                        Module.CoolD = 4;
                        Module.Cost  = 70;
                        Module.effect = "Gather 110 Extra Manna. Increases Saturation";
                        Module.title = "Enhanced Gather";
                        break;
                }
                Module.warn = "";
            break;
            case "SR":  //Saturation Replenishment Module
                if(level != 1  && level != 3 && level != 5)
                Module.warn = "Error: Module only compatible with Level: 1, 3, or 5. ";
                else
                {
                    switch(level)
                    {
                        case 1:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost = 35;
                            Module.effect = "Reduce Saturation by 10";
                            Module.title = "Sooth Saturation";
                            break;
                        case 3:
                            Module.TTT = 2;
                            Module.CoolD = 2;
                            Module.Cost = 70;
                            Module.effect = "Reduce Saturation by 10";
                            Module.title = "Sooth Saturation";
                            break;
                        case 5:
                            Module.TTT = 2;
                            Module.CoolD = 1;
                            Module.Cost = 105;
                            Module.effect = "Reduce Saturation by 10";
                            Module.title = "Sooth Saturation";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "RA":  //Repair Armor Module
                if(level != 2 && level != 3 && level != 5 && level != 6)
                Module.warn = "Error: Module only compatible with Level: 2,3,5, or 6. ";
                else
                {
                    switch(level)
                    {
                        case 2:
                            Module.TTT = 1;
                            Module.CoolD = 8;
                            Module.Cost  = 0;
                            Module.effect = "Restore 25% Max durability";
                            Module.title = "Repair Armor";
                            break;
                        case 3:
                            Module.TTT = 1;
                            Module.CoolD = 8;
                            Module.Cost  = 0;
                            Module.effect = "Restore 50% Max durability";
                            Module.title = "Repair Armor";
                            break;

                        case 5:
                            Module.TTT = 1;
                            Module.CoolD = 8;
                            Module.Cost  = 0;
                            Module.effect = "Restore 75% Max durability";
                            Module.title = "Repair Armor";
                            break;
                        case 6:
                            Module.TTT = 1;
                            Module.CoolD = 8;
                            Module.Cost  = 0;
                            Module.effect = "Restore 100% Max durability";
                            Module.title = "Repair Armor";
                            break;
                    }
                    Module.warn = "";
                }
            break;
            case "RH":  //Restore Health Module
                switch(level)
                {
                    case 1:
                        Module.TTT = 2;
                        Module.CoolD = 2;
                        Module.Cost  = 20;
                        Module.effect = "+25 Life-Force";
                        Module.title = "Restore Health";
                        break;
                    case 2:
                        Module.TTT = 2;
                        Module.CoolD = 2;
                        Module.Cost  = 40;
                        Module.effect = "+50 Life-Force";
                        Module.title = "Restore Health";
                        break;
                    case 3:
                        Module.TTT = 2;
                        Module.CoolD = 3;
                        Module.Cost  = 60;
                        Module.effect = "+75 Life-Force";
                        Module.title = "Restore Health";
                        break;
                    case 4:
                        Module.TTT = 3;
                        Module.CoolD = 3;
                        Module.Cost  = 80;
                        Module.effect = "+100 Life-Force";
                        break;
                    case 5:
                        Module.TTT = 3;
                        Module.CoolD = 4;
                        Module.Cost  = 100;
                        Module.effect = "+125 Life-Force";
                        Module.title = "Restore Health";
                        break;
                    case 6:
                        Module.TTT = 3;
                        Module.CoolD = 4;
                        Module.Cost  = 120;
                        Module.effect = "+150 Life-Force";
                        Module.title = "Restore Health";
                        break;
                }
                Module.warn = "";
            break;
            case "DP":  //Disruption Purge Module
                if(level != 2 && level != 3 && level != 5 && level != 6)
                Module.warn = "Error: Module only compatible with Level: 2,3,5, or 6. ";
                else
                {
                    switch(level)
                    {
                        case 2:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost  = 50;
                            Module.effect = "Remove 50 Disruption";
                            Module.title = "Disruption Purge";
                            break;
                        case 3:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost = 75;
                            Module.effect = "Remove 100 Disruption";
                            Module.title = "Disruption Purge";
                            break;
                        case 5:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost  = 100;
                            Module.effect = "Remove 150 Disruption";
                            Module.title = "Disruption Purge";
                            break;
                        case 6:
                            Module.TTT = 2;
                            Module.CoolD = 3;
                            Module.Cost  = 125;
                            Module.effect = "Remove 200 Disruption";
                            Module.title = "Disruption Purge";
                            break;
                    }
                    Module.warn = "";
                }
            break;
        }
        //console.log(Object.keys(Module));
        return Module
}

StatAdjust=function(stat, value, reset = false)
{
    if(reset)
    {
        setAttr({
            baseadjust: 0,
            accadjust:  0,
            evaadjust:  0,
            ggadjust:   0
        })
    }
    
    switch(stat)
    {
        case "base":
            return ++value;
        default:
            return 5 + parseInt(value);
    }
}

MeterAdjust=function(stat, value)
{

    switch(stat)
    {
        case "base":
            if(value > 40)
          return 10
          if(value > 36)
          return 9
          if(value > 32)
          return 8
          if(value > 28)
          return 7
          if(value > 24)
          return 6
          if(value > 20)
          return 5
          if(value > 16)
          return 4
          if(value > 12)
          return 3
          if(value > 8)
          return 2
          
          return 1
          break;
        case "acc":
            if(value > 900)
          return 10
          if(value > 800)
          return 9
          if(value > 700)
          return 8
          if(value > 600)
          return 7
          if(value > 500)
          return 6
          if(value > 400)
          return 5
          if(value > 300)
          return 4
          if(value > 200)
          return 3
          if(value > 100)
          return 2
          
          return 1
          break;
      case "eva":
            if(value > 500)
          return 10
          if(value > 450)
          return 9
          if(value > 400)
          return 8
          if(value > 350)
          return 7
          if(value > 300)
          return 6
          if(value > 250)
          return 5
          if(value > 200)
          return 4
          if(value > 150)
          return 3
          if(value > 100)
          return 2
          
          return 1
          break;   
      case "stress":
            if(value > 9)
          return 10
          if(value > 8)
          return 9
          if(value > 7)
          return 8
          if(value > 6)
          return 7
          if(value > 5)
          return 6
          if(value > 4)
          return 5
          if(value > 3)
          return 4
          if(value > 2)
          return 3
          if(value > 1)
          return 2
          
          return 1
          break;
      case "gg":
            if(value > 800)
          return 10
          if(value > 720)
          return 9
          if(value > 640)
          return 8
          if(value > 560)
          return 7
          if(value > 480)
          return 6
          if(value > 400)
          return 5
          if(value > 320)
          return 4
          if(value > 240)
          return 3
          if(value > 160)
          return 2
          
          return 1
          break;    
      case "gd":
            if(value > 500)
          return 10
    
          if(value > 400)
          return 8
          
          if(value > 300)
          return 6
         
          if(value > 200)
          return 4
          
          if(value > 100)
          return 2
          
          return 1
          break;    
      case "dur":
            if(value > 1000)
          return 10
          if(value > 900)
          return 9
          if(value > 800)
          return 8
          if(value > 700)
          return 7
          if(value > 600)
          return 6
          if(value > 500)
          return 5
          if(value > 400)
          return 4
          if(value > 300)
          return 3
          if(value > 200)
          return 2
          
          return 1
          break;    
      default:
          return 1
}
}

Adjust_Race=function(Race)
{
    let Base = {};
    switch(Race)
    {
        case "Ciaha":
            Base.Con = 3;
            Base.Dis = 2;
            Base.Res = 0;
            Base.Int = 1;
            Base.CA = 10;
            Base.WA = 15;
            Base.TE = 0;
            Base.MT = 0;
            Base.Be = 10;
            Base.Me = 0;
            Base.Se = 0;
            Base.Mem = 5;
            Base.SPG = 1;
            Base.SKG = 2;
            Base.SPB = 0;
            Base.SKB = 10;
            Base.Age = 20;
            break;
        case "Adept" :
            Base.Con = 2;
            Base.Dis = 3;
            Base.Res = 0;
            Base.Int = 1;
            Base.CA = 15;
            Base.WA = 5;
            Base.TE = 0;
            Base.MT = 5;
            Base.Be = 5;
            Base.Me = 0;
            Base.Se = 10;
            Base.Mem = 0;
            Base.SPG = 1;
            Base.SKG = 2;
            Base.SPB = 0;
            Base.SKB = 10;
            Base.Age = 20;
            break;
        case "Magian" :
            Base.Con = 1;
            Base.Dis = 1;
            Base.Res = 2;
            Base.Int = 3;
            Base.CA = 5;
            Base.WA = 10;
            Base.TE = 5;
            Base.MT = 15;
            Base.Be = 0;
            Base.Me = 5;
            Base.Se = 0;
            Base.Mem = 5;
            Base.SPG = 2;
            Base.SKG = 1;
            Base.SPB = 30;
            Base.SKB = 0;
            Base.Age = 20;
            break;
        case "Arbiter" :
            Base.Con = 1;
            Base.Dis = 1;
            Base.Res = 1;
            Base.Int = 3;
            Base.CA = 5;
            Base.WA = 10;
            Base.TE = 15;
            Base.MT = 5;
            Base.Be = 0;
            Base.Me = 10;
            Base.Se = 0;
            Base.Mem = 0;
            Base.SPG = 1.5;
            Base.SKG = 1.5;
            Base.SPB = 5;
            Base.SKB = 5;
            Base.Age = 20;
            break;
        case "Necrian" :
            Base.Con = 1;
            Base.Dis = 1;
            Base.Res = 3;
            Base.Int = 2;
            Base.CA = 10;
            Base.WA = 10;
            Base.TE = 0;
            Base.MT = 10;
            Base.Be = 5;
            Base.Me = 5;
            Base.Se = 5;
            Base.Mem = 5;
            Base.SPG = 1.5;
            Base.SKG = 1.5;
            Base.SPB = 0;
            Base.SKB = 0;
            Base.Age = 40;
            break;
         case "Riahan" :
            Base.Con = 1;
            Base.Dis = 1;
            Base.Res = 0;
            Base.Int = 4;
            Base.CA = 0;
            Base.WA = 0;
            Base.TE = 30;
            Base.MT = 10;
            Base.Be = 0;
            Base.Me = 5;
            Base.Se = 0;
            Base.Mem = 10;
            Base.SPG = 1;
            Base.SKG = 1;
            Base.SPB = 0;
            Base.SKB = 0;
            Base.Age = 0;
            break;
        case "Celestial" :
            Base.Con = 7;
            Base.Dis = 7;
            Base.Res = 7;
            Base.Int = 7;
            Base.CA = 30;
            Base.WA = 30;
            Base.TE = 0;
            Base.MT = 30;
            Base.Be = -10;
            Base.Me = -10;
            Base.Se = -10;
            Base.Mem = -10;
            Base.SPG = .5;
            Base.SKG = .5;
            Base.SPB = 0;
            Base.SKB = 0;
            Base.Age = 0;
            break;
    };
    
    Base.R=Race;
    return Base
}

Adjust_Battle=function(mainHand, offHand, style)
{
    const newRowId =  generateRowID();
    //weapon and style are rowids or "" if not previously assigned
    console.log(mainHand + offHand + style)
    if(mainHand === offHand || style ==="")//both main and off-hand cannot be empty or the same weapon
    {
        setAttrs({
            ["repeating_errorStack_" + newRowId + "_error"]: "Main and Off Hand weapon CANNOT be the same. Style must be equipped." 
        })
        return 
    }
    
    let Dual = {//functions as a weapon that checks if style is compatible before equipping
        [`dualweapon_base`]:        0,
        [`dualweapon_acc`]:         0,
        [`dualweapon_eva`]:         0,
        [`dualweapon_gg`]:          0,
        [`dualweapon_gd`]:          0,
        [`dualweapon_style`]:       "Empty",
        [`dualweapon-stress`]:      0,
        [`dualweapon-scaling`]:     0,
        [`dualweapon-positive-scaling`]:     0,
        [`dualweapon-negative-scaling`]:     0
    };
    let Meters = {
        mainBaseMeter:  0,
        mainAccMeter:    0,
        mainEvaMeter:    0,
        mainStressMeter:    0,
        mainDurMeter:   0,
        mainGGMeter:     0,
        mainGDMeter:     0,
        offBaseMeter:   0,
        offAccMeter:    0,
        offEvaMeter:    0,
        offStressMeter:    0,
        offDurMeter:   0,
        offGGMeter:     0,
        offGDMeter:     0,
        dualBaseMeter:  0,
        dualAccMeter:    0,
        dualEvaMeter:    0,
        dualGGMeter:     0,
        dualGDMeter:     0,
        dualStressMeter:    0
    };
    var rowids = [mainHand, offHand];
    let getArray = [];
    
    rowids.forEach(hand => {
        if(hand.length > 0)
        {
            const lol = [`repeating_weapons_${hand}_weapon-name`,
            `repeating_weapons_${hand}_weapon-req`,
            `repeating_weapons_${hand}_weapon-stress`,
            `repeating_weapons_${hand}_weapon-current-dur`,
            `repeating_weapons_${hand}_weapon-maximum-dur`,
            `repeating_weapons_${hand}_weapon-base`,
            `repeating_weapons_${hand}_weapon-pscaling`,
            `repeating_weapons_${hand}_weapon-nscaling`,
            `repeating_weapons_${hand}_weapon-acc`,
            `repeating_weapons_${hand}_weapon-type`];
            getArray.push.apply(getArray, lol);
        }
    })
    
    const styleAttrs = [`repeating_weapon-styles_${style}_style-name`,
    `repeating_weapon-styles_${style}_style-acc`,
    `repeating_weapon-styles_${style}_style-eva`,
    `repeating_weapon-styles_${style}_style-gg`,
    `repeating_weapon-styles_${style}_style-gd`];
    
    const styleComp = [`repeating_weapon-styles_${style}_style-S`,
    `repeating_weapon-styles_${style}_style-H`,
    `repeating_weapon-styles_${style}_style-SS`,
    `repeating_weapon-styles_${style}_style-D`,
    `repeating_weapon-styles_${style}_style-P`,
    `repeating_weapon-styles_${style}_style-PS`,
    `repeating_weapon-styles_${style}_style-HH`,
    `repeating_weapon-styles_${style}_style-U`,
    `repeating_weapon-styles_${style}_style-SH`];
    
    const stats = ["char_constitution","char_discipline","char_weapon_arts","Power"];
    
    if(style==="")
    return
    else
    {
        getArray.push.apply(getArray, stats);
        getArray.push.apply(getArray, styleAttrs); 
        getArray.push.apply(getArray, styleComp);
    }
    getAttrs(getArray, function(battle) {
        console.log(battle);
        const Adjust = {};
        const styleTypes = [];
        var T = false;
        var dualWield = false;
        var priority = "primary";
        var i = 0;
        
         //checks if style compatibility is set and if Dual wield is enabled
        
        styleComp.forEach(type => {
            // 0 represents an empty checkbox button
            if(battle[`${type}`]!="0")
            {
                styleTypes.push(battle[`${type}`]);
                i++; 
            }
            if(battle[`${type}`]==="D")
            dualWield = true;
        });
        if(i==0)// no selected styles
        {
            setAttrs({
                ["repeating_errorStack_" + newRowId + "_error"]:  "WARNING: " + battle[`repeating_weapon-styles_${style}_style-name`] + " Missing Type Compatibility.",
                sheetTab:  "styles"
            });
            return
        }
        
        rowids.forEach(hand=> {
            if(hand.length > 0) //check if hand is empty
            {//check if weapon requirements are met and not broken and style compatibility
                if(battle[`repeating_weapons_${hand}_weapon-req`] > battle["char_constitution"])
                {
                    setAttrs({
                        ["repeating_errorStack_" + newRowId + "_error"]:  "WARNING: " + battle[`repeating_weapons_${hand}_weapon-name`] + " Inadequate constitution.",
                        sheetTab:          "equipment"
                    });
                    return
                }
                if(battle[`repeating_weapons_${hand}_weapon-current-dur`]==0)
                {
                    setAttrs({
                        ["repeating_errorStack_" + newRowId + "_error"]:  "WARNING: " + battle[`repeating_weapons_${hand}_weapon-name`] + " Weapon Broken.",
                        sheetTab:          "equipment"
                        });
                    return
                }
                styleTypes.forEach(type => {
                if(battle[`repeating_weapons_${hand}_weapon-type`]===type)
                T = true;
                
                if(dualWield && (battle[`repeating_weapons_${hand}_weapon-type`]==='S' || battle[`repeating_weapons_${hand}_weapon-type`]==='H'))
                T = true;
                })
                
                
                if(T==false)
                i = "WARNING: Weapon type not supported by style.";
                else
                i = "0"; //"0" makes warning repeating row invisible
                
                if(battle["Power"] > battle[`repeating_weapons_${hand}_weapon-stress`])
                i += `\nWARNING: Weapon Stress Tolerance exceeded. Using the weapon (attack/blocking) with too much Power will destroy it.`;
        
                var scaling = [battle[`repeating_weapons_${hand}_weapon-pscaling`], battle[`repeating_weapons_${hand}_weapon-nscaling`]];//wierd
                // let singularDualwieldTest = true
                
                if(styleTypes.length == 1 && dualWield && (offHand==="" || mainHand===""))
                {
                    i += "\nWARNING: Style is only useable while dual weilding. Equip Two weapons."
                    // singularDualwieldTest = false
                }
                // if(singularDualwieldTest)
                // {
                    let weapon = {
                    [`${priority}weapon`]:             battle[`repeating_weapons_${hand}_weapon-name`],
                    [`${priority}weapon_base`]:        battle[`repeating_weapons_${hand}_weapon-base`],
                    [`${priority}weapon_acc`]:         parseInt(battle[`repeating_weapons_${hand}_weapon-acc`]) + parseInt(battle[`repeating_weapon-styles_${style}_style-acc`])  + 100 + parseInt(battle["char_weapon_arts"]),
                    [`${priority}weapon_eva`]:         parseInt(battle[`repeating_weapon-styles_${style}_style-eva`]) + (parseInt(battle["char_discipline"]) *5),
                    [`${priority}weapon_gg`]:          parseInt(battle[`repeating_weapon-styles_${style}_style-gg`]) + (parseInt(battle["char_discipline"]) *5),
                    [`${priority}weapon_gd`]:          parseInt(battle[`repeating_weapon-styles_${style}_style-gd`]),
                    [`${priority}weapon-stress`]:      battle[`repeating_weapons_${hand}_weapon-stress`],
                    [`${priority}weapon-type`]:        battle[`repeating_weapons_${hand}_weapon-type`],
                    [`${priority}weapon-scaling`]:              `${scaling[0]} / ${scaling[1]}`,
                    [`${priority}weapon-positive-scaling`]:     scaling[0],
                    [`${priority}weapon-negative-scaling`]:     scaling[1],
                    [`${priority}weapon-rem-dur`]:     battle[`repeating_weapons_${hand}_weapon-current-dur`]!=="" ? battle[`repeating_weapons_${hand}_weapon-maximum-dur`] : battle[`repeating_weapons_${hand}_weapon-current-dur`],
                    [`${priority}weapon-max-dur`]:     battle[`repeating_weapons_${hand}_weapon-maximum-dur`],
                    ["repeating_errorStack_" + newRowId + "_error"]:               i,//******Warning issued******
                    ["weapon-rem-dur"]: priority === "primary" ? battle[`repeating_weapons_${hand}_weapon-current-dur`] || 0 : 0,
                    
                    };
                    Object.assign(Adjust, weapon);
                    priority = "secondary";
                // }
                
            }
        })//assign values for main and off hand
        
        //adjust meters of main and off hand
     
       /*  dualAccMeter:    0,
        dualEvaMeter:    0,
        dualGGMeter:     0,
        dualGDMeter:     0,
        dualStressMeter:    0 */
        if(mainHand!=="")
        {
          Meters.mainBaseMeter = MeterAdjust("base", Adjust["primaryweapon_base"] )
          Meters.mainAccMeter = MeterAdjust("acc", Adjust["primaryweapon_acc"] )
          Meters.mainEvaMeter = MeterAdjust("eva", Adjust["primaryweapon_eva"] )
          Meters.mainStressMeter = MeterAdjust("stress", Adjust[`primaryweapon-stress`])
          Meters.mainGGMeter = MeterAdjust("gg", Adjust["primaryweapon_gg"] )
          Meters.mainGDMeter = MeterAdjust("gd", Adjust["primaryweapon_gd"] )
          Meters.mainDurMeter = MeterAdjust("dur", Adjust[`primaryweapon-rem-dur`] )
        }
        if(offHand!=="")
        {
          Meters.offBaseMeter = MeterAdjust("base", Adjust["secondaryweapon_base"] )
          Meters.offAccMeter = MeterAdjust("acc", Adjust["secondaryweapon_acc"] )
          Meters.offEvaMeter = MeterAdjust("eva", Adjust["secondaryweapon_eva"] )
          Meters.offStressMeter = MeterAdjust("stress", Adjust[`secondaryweapon-stress`])
          Meters.offGGMeter = MeterAdjust("gg", Adjust["secondaryweapon_gg"] )
          Meters.offGDMeter = MeterAdjust("gd", Adjust["secondaryweapon_gd"] )
          Meters.offDurMeter = MeterAdjust("dur", Adjust[`secondaryweapon-rem-dur`] )
        }
            
        
        if(dualWield == true && offHand!=="" && mainHand!=="")
        {
            //both weapons cannot be pole-arms, must be 1-handed, and neither can be shields
            if(Adjust[`repeating_weapons_${mainHand}_weapon-type`]==="HH" || Adjust[`repeating_weapons_${offHand}_weapon-type`]==="HH")
            dualWield = false;
            if(Adjust[`repeating_weapons_${mainHand}_weapon-type`]==="P" && Adjust[`repeating_weapons_${offHand}_weapon-type`]==="P")
            dualWield = false;
            if(Adjust[`repeating_weapons_${mainHand}_weapon-type`]==="SH" || Adjust[`repeating_weapons_${offHand}_weapon-type`]==="SH")
            {
                daulWield = false;
                shield = true;
            }
            if(dualWield == true)
            {
                Dual[`dualweapon_base`] = Adjust[`primaryweapon_base`] >= Adjust[`secondaryweapon_base`] ? Adjust[`primaryweapon_base`] : Adjust[`secondaryweapon_base`];
                Dual[`dualweapon_acc`] = Adjust[`primaryweapon_acc`] - 100 + Adjust[`secondaryweapon_acc`] - parseInt(battle[`repeating_weapon-styles_${style}_style-acc`]) - parseInt(battle["char_weapon_arts"]);
                Dual[`dualweapon_eva`] = Adjust[`primaryweapon_eva`];
                Dual[`dualweapon_gg`] =  Adjust[`primaryweapon_gg`];
                Dual[`dualweapon_gd`] =  Adjust[`primaryweapon_gd`];
                Dual[`dualweapon_style`] = battle[`repeating_weapon-styles_${style}_style-name`];
                Dual[`dualweapon-stress`] = Adjust[`primaryweapon-stress`] <= Adjust[`secondaryweapon-stress`] ? Adjust[`primaryweapon-stress`] : Adjust[`secondaryweapon-stress`];
                Dual[`dualweapon-scaling`] = Adjust[`primaryweapon-scaling`];
                Dual[`dualweapon-positive-scaling`] = Adjust[`primaryweapon-positive-scaling`] >= Adjust[`secondaryweapon-positive-scaling`] ? Adjust[`primaryweapon-positive-scaling`] : Adjust[`secondaryweapon-positive-scaling`];
                Dual[`dualweapon-negative-scaling`] = Adjust[`primaryweapon-positive-scaling`] >= Adjust[`secondaryweapon-positive-scaling`] ? Adjust[`primaryweapon-negative-scaling`] : Adjust[`secondaryweapon-negative-scaling`];
            } 
            //Add shield code laterz....
        }
        //if(dualWield == false)
        Object.assign(Adjust, Dual);
        if(dualWield == true)
        {
          Meters.dualBaseMeter = MeterAdjust("base", Adjust["dualweapon_base"] )
          Meters.dualAccMeter = MeterAdjust("acc", Adjust["dualweapon_acc"] )
          Meters.dualEvaMeter = MeterAdjust("eva", Adjust["dualweapon_eva"] )
          Meters.dualStressMeter = MeterAdjust("stress", Adjust[`dualweapon-stress`])
          Meters.dualGGMeter = MeterAdjust("gg", Adjust["dualweapon_gg"] )
          Meters.dualGDMeter = MeterAdjust("gd", Adjust["dualweapon_gd"] )
        }
        Object.assign(Adjust, Meters);
        
        Adjust[`style-types`] = styleTypes.join(',') || "Error";
        Adjust[`weapon_style`] = battle[`repeating_weapon-styles_${style}_style-name`];
        console.log(Adjust);
        
        if(styleTypes.length == 1 && dualWield && (offHand!=="" || mainHand!==""))
        {
            Dual[`weapon_style`] =  battle[`repeating_weapon-styles_${style}_style-name`];
            Dual.dualBaseMeter  =   Meters.dualBaseMeter;
            Dual.dualAccMeter =     Meters.dualAccMeter;
            Dual.dualEvaMeter =     Meters.dualEvaMeter;
            Dual.dualStressMeter =  Meters.dualStressMeter;
            Dual.dualGGMeter =      Meters.dualGGMeter;
            Dual.dualGDMeter =      Meters.dualGDMeter;
            setAttrs(Dual);
            return
        }
        setAttrs(Adjust);
        
    });
}

Async_Battle=function(mainHand, offHand, style)
{
   
      getAttrs(getArray, function(battle) {
        const Adjust = {}; //Final Object sent to setAttrs
        const styleStats = {};
        Object.keys(battle).filter(item => styleAttrs.includes(item)).forEach(key => styleStats[`${key}`] = battle[`${key}`]);
        const statsObject = {};
        Object.keys(battle).filter(item => statsArray.includes(item)).forEach(key => statsObject[`${key}`] = battle[`${key}`]);
        
        setTimeout( async function(){
        if(mainHand!=="")
        
        Object.assign(Adjust, await new Promise((resolve) => resolve(Apply_Battle(mainHand, "primary", style, statsObject, styleTypes, styleStats))));
        console.log(Adjust);
        }, 500);
        
        setTimeout( async function(){
        if(offHand!=="")
        Object.assign(Adjust, await new Promise((resolve) => resolve(Apply_Battle(offHand, "secondary", style, statsObject, styleTypes, styleStats))));
        console.log(Adjust);
        }, 500);
       
        Adjust[`style-types`] = styleTypes.join(',') || "Error";
        Adjust[`weapon_style`] = battle[`repeating_weapon-styles_${style}_style-name`];
        console.log(Adjust);
        
        setTimeout(setAttrs({Adjust}),3000);
    });
}//not used

Adjust_Energy=function(manna = true, turn = false)
{
    var defensive_measures = {
        defend:     "",
        phasestep:  "",
        phasejump:  "",
        reflect:    "",
        absorb:     "",
        barrier:    "",
        cutter:     "",
    };
    
    var foo = ["catalyst_mental","catalyst_body","catalyst_spirit","catalyst_memory","catalyst_demon","catalyst_necro"];
    var bar  = ["Energy_type","powerstate", "armor-totalttt","turnCount","ether"];
    //if(!energies.length)
    bar.push.apply(bar,foo);
    
    getAttrs(bar, function(value){
    //get attrs turns array of attributes into object properties specified here as "value"

        var Stats = {};// Empty javascript Object. Different from roll20 object
        //Stats.Power = 15; Example assignment of empty javascript-object properties made without declaration. "use strict" dissallows this notation
        
        if(value.powerstate == 1)
            Stats.TTT = 5 + value["armor-totalttt"];
        else if(value.powerstate == .5)
            Stats.TTT = (5 + value["armor-totalttt"]) *0.5;
        else if(value.powerstate == 1.25)
            Stats.TTT = (5 + value["armor-totalttt"]) *2;
            
        if(manna==false)//if out of manna/demonic essence
        {
            if(value.Energy_type!=="necroforce")
            {
                defensive_measures.Power = 0;
                defensive_measures.Endurance = 0;
                defensive_measures.Speed = 0;
                defensive_measures.Flight = 0;
                defensive_measures.Char_TTT = Stats.TTT;
                setAttrs(defensive_measures);
                return
            }
            setAttrs(defensive_measures);
            return
        }
            
         
        switch(value.Energy_type){
            case "Mental" : 
                switch((Math.floor((parseInt(value.catalyst_mental)*value.powerstate)/5))*5){
                    case 0 :
                    Stats.Power = 0;
                    Stats.Endurance = 0;
                    Stats.Speed = 0;
                    Stats.Flight = 1;
                    break;
                    case 5 :
                    Stats.Power = 0;
                    Stats.Endurance = 0;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    break;
                    case 10 :
                    Stats.Power = 0;
                    Stats.Endurance = 0;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    break;
                    case 15 :
                    Stats.Power = 0;
                    Stats.Endurance = 0;
                    Stats.Speed = 1;
                    Stats.Flight = 2;
                    defensive_measures.phasejump = "active";
                    break;
                    case 20 :
                    Stats.Power = 1;
                    Stats.Endurance = 0;
                    Stats.Speed = 2;
                    Stats.Flight = 2;
                    defensive_measures.phasejump = "active";
                    break;
                    case 25 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 2;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 30 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 35 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 3;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 40 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 3;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 45 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 3;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 50 :
                    Stats.Power = 2;
                    Stats.Endurance = 1;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 55 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    break;
                    case 60 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 4;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 65 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 70 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 75 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 5;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 80 :
                    Stats.Power = 3;
                    Stats.Endurance = 2;
                    Stats.Speed = 6;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 85 :
                    Stats.Power = 3;
                    Stats.Endurance = 3;
                    Stats.Speed = 6;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 90 :
                    Stats.Power = 3;
                    Stats.Endurance = 3;
                    Stats.Speed = 6;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 95 :
                    Stats.Power = 3;
                    Stats.Endurance = 3;
                    Stats.Speed = 7;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 100 :
                    Stats.Power = 3;
                    Stats.Endurance = 3;
                    Stats.Speed = 7;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 105 :
                    Stats.Power = 3;
                    Stats.Endurance = 3;
                    Stats.Speed = 7;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 110 :
                    Stats.Power = 4;
                    Stats.Endurance = 3;
                    Stats.Speed = 8;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 115 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 8;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 120 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 8;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 125 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 8;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 130 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 8;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 135 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 8;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 140 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 9;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 145 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 9;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 150 :
                    Stats.Power = 5;
                    Stats.Endurance = 4;
                    Stats.Speed = 9;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 155 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 9;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 160 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 9;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 165 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 9;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 170 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 10;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 175 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 10;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 180 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 10;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 185 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 10;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 190 :
                    Stats.Power = 6;
                    Stats.Endurance = 5;
                    Stats.Speed = 10;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 195 :
                    Stats.Power = 6;
                    Stats.Endurance = 6;
                    Stats.Speed = 10;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 200 :
                    Stats.Power = 6;
                    Stats.Endurance = 6;
                    Stats.Speed = 10;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                };
                break;
            case "Spirit" :
                switch((Math.floor((parseInt(value.catalyst_spirit)*value.powerstate)/5))*5){
                    case 0 :
                    Stats.Power = 0;
                    Stats.Endurance = 0;
                    Stats.Speed = 1;
                    Stats.Flight = 0;
                    break;
                    case 5 :
                    Stats.Power = 0;
                    Stats.Endurance = 1;
                    Stats.Speed = 1;
                    Stats.Flight = 0;
                    defensive_measures.phasestep = "active";
                    break;
                    case 10 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 1;
                    Stats.Flight = 0;
                    defensive_measures.phasestep = "active";
                    break;
                    case 15 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 20 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 25 :
                    Stats.Power = 1;
                    Stats.Endurance = 2;
                    Stats.Speed = 2;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 30 :
                    Stats.Power = 1;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 35 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 40 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    break;
                    case 45 :
                    Stats.Power = 2;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    break;
                    case 50 :
                    Stats.Power = 2;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 55 :
                    Stats.Power = 2;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 60 :
                    Stats.Power = 3;
                    Stats.Endurance = 3;
                    Stats.Speed = 5;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 65 :
                    Stats.Power = 3;
                    Stats.Endurance = 4;
                    Stats.Speed = 5;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 70 :
                    Stats.Power = 3;
                    Stats.Endurance = 4;
                    Stats.Speed = 5;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 75 :
                    Stats.Power = 3;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 80 :
                    Stats.Power = 3;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 85 :
                    Stats.Power = 4;
                    Stats.Endurance = 5;
                    Stats.Speed = 6;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 90 :
                    Stats.Power = 4;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 95 :
                    Stats.Power = 4;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 100 :
                    Stats.Power = 4;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 105 :
                    Stats.Power = 4;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 110 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 115 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 120 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 125 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 130 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 135 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 9;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 140 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 9;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 145 :
                    Stats.Power = 5;
                    Stats.Endurance = 7;
                    Stats.Speed = 9;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 150 :
                    Stats.Power = 5;
                    Stats.Endurance = 7;
                    Stats.Speed = 9;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 155 :
                    Stats.Power = 5;
                    Stats.Endurance = 7;
                    Stats.Speed = 9;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 160 :
                    Stats.Power = 6;
                    Stats.Endurance = 7;
                    Stats.Speed = 9;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 165 :
                    Stats.Power = 6;
                    Stats.Endurance = 7;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 170 :
                    Stats.Power = 6;
                    Stats.Endurance = 7;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 175 :
                    Stats.Power = 6;
                    Stats.Endurance = 7;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 180 :
                    Stats.Power = 6;
                    Stats.Endurance = 7;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 185 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 190 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 195 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 10;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 200 :
                    Stats.Power = 7;
                    Stats.Endurance = 8;
                    Stats.Speed = 10;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                };
                break;
            case "Memory" :
                switch((Math.floor((parseInt(value.catalyst_memory)*value.powerstate)/5))*5){
                    case 0 :
                    Stats.Power = 0;
                    Stats.Endurance = 1;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    break;
                    case 5 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    defensive_measures.defend = "active";
                    break;
                    case 10 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    defensive_measures.defend = "active";
                    break;
                    case 15 :
                    Stats.Power = 1;
                    Stats.Endurance = 2;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    break;
                    case 20 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 1;
                    Stats.Flight = 0;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 25 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 30 :
                    Stats.Power = 2;
                    Stats.Endurance = 3;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    break;
                    case 35 :
                    Stats.Power = 3;
                    Stats.Endurance = 3;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 40 :
                    Stats.Power = 3;
                    Stats.Endurance = 3;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 45 :
                    Stats.Power = 3;
                    Stats.Endurance = 4;
                    Stats.Speed = 2;
                    Stats.Flight = 1;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 50 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 2;
                    Stats.Flight = 2;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 55 :
                    Stats.Power = 4;
                    Stats.Endurance = 4;
                    Stats.Speed = 2;
                    Stats.Flight = 2;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 60 :
                    Stats.Power = 4;
                    Stats.Endurance = 5;
                    Stats.Speed = 2;
                    Stats.Flight = 2;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 65 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 2;
                    Stats.Flight = 2;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 70 :
                    Stats.Power = 5;
                    Stats.Endurance = 5;
                    Stats.Speed = 3;
                    Stats.Flight = 2;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 75 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 3;
                    Stats.Flight = 3;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 80 :
                    Stats.Power = 6;
                    Stats.Endurance = 6;
                    Stats.Speed = 3;
                    Stats.Flight = 3;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 85 :
                    Stats.Power = 6;
                    Stats.Endurance = 6;
                    Stats.Speed = 3;
                    Stats.Flight = 3;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 90 :
                    Stats.Power = 6;
                    Stats.Endurance = 7;
                    Stats.Speed = 3;
                    Stats.Flight = 3;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 95 :
                    Stats.Power = 7;
                    Stats.Endurance = 7;
                    Stats.Speed = 4;
                    Stats.Flight = 3;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 100 :
                    Stats.Power = 7;
                    Stats.Endurance = 7;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 105 :
                    Stats.Power = 7;
                    Stats.Endurance = 8;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 110 :
                    Stats.Power = 8;
                    Stats.Endurance = 8;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 115 :
                    Stats.Power = 8;
                    Stats.Endurance = 8;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 120 :
                    Stats.Power = 8;
                    Stats.Endurance = 8;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 125 :
                    Stats.Power = 8;
                    Stats.Endurance = 8;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 130 :
                    Stats.Power = 8;
                    Stats.Endurance = 8;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 135 :
                    Stats.Power = 8;
                    Stats.Endurance = 9;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 140 :
                    Stats.Power = 9;
                    Stats.Endurance = 9;
                    Stats.Speed = 4;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 145 :
                    Stats.Power = 9;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 4;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 150 :
                    Stats.Power = 9;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 155 :
                    Stats.Power = 9;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 160 :
                    Stats.Power = 9;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 165 :
                    Stats.Power = 9;
                    Stats.Endurance = 10;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 170 :
                    Stats.Power = 10;
                    Stats.Endurance = 10;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 175 :
                    Stats.Power = 10;
                    Stats.Endurance = 10;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 180 :
                    Stats.Power = 10;
                    Stats.Endurance = 10;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 185 :
                    Stats.Power = 10;
                    Stats.Endurance = 10;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 190 :
                    Stats.Power = 10;
                    Stats.Endurance = 10;
                    Stats.Speed = 5;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 195 :
                    Stats.Power = 10;
                    Stats.Endurance = 10;
                    Stats.Speed = 6;
                    Stats.Flight = 5;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 200 :
                    Stats.Power = 10;
                    Stats.Endurance = 10;
                    Stats.Speed = 6;
                    Stats.Flight = 6;
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                };
                break;
            case "Body" :
                switch((Math.floor((parseInt(value.catalyst_body)*value.powerstate)/5))*5){
                    case 0 :
                    Stats.Power = 1;
                    Stats.Endurance = 0;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    break;
                    case 5 :
                    Stats.Power = 1;
                    Stats.Endurance = 0;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    defensive_measures.reflect = "active";
                    break;
                    case 10 :
                    Stats.Power = 1;
                    Stats.Endurance = 0;
                    Stats.Speed = 0;
                    Stats.Flight = 1;
                    defensive_measures.reflect = "active";
                    break;
                    case 15 :
                    Stats.Power = 2;
                    Stats.Endurance = 0;
                    Stats.Speed = 0;
                    Stats.Flight = 1;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 20 :
                    Stats.Power = 2;
                    Stats.Endurance = 0;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 25 :
                    Stats.Power = 2;
                    Stats.Endurance = 1;
                    Stats.Speed = 1;
                    Stats.Flight = 2;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    break;
                    case 30 :
                    Stats.Power = 3;
                    Stats.Endurance = 1;
                    Stats.Speed = 1;
                    Stats.Flight = 2;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    break;
                    case 35 :
                    Stats.Power = 3;
                    Stats.Endurance = 1;
                    Stats.Speed = 1;
                    Stats.Flight = 2;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    break;
                    case 40 :
                    Stats.Power = 3;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 3;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 45 :
                    Stats.Power = 4;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 3;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 50 :
                    Stats.Power = 4;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 3;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 55 :
                    Stats.Power = 4;
                    Stats.Endurance = 2;
                    Stats.Speed = 2;
                    Stats.Flight = 4;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 60 :
                    Stats.Power = 5;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 4;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 65 :
                    Stats.Power = 5;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 4;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 70 :
                    Stats.Power = 5;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 5;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 75 :
                    Stats.Power = 6;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 5;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 80 :
                    Stats.Power = 6;
                    Stats.Endurance = 2;
                    Stats.Speed = 4;
                    Stats.Flight = 5;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 85 :
                    Stats.Power = 6;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 6;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 90 :
                    Stats.Power = 7;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 6;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 95 :
                    Stats.Power = 7;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 6;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 100 :
                    Stats.Power = 7;
                    Stats.Endurance = 3;
                    Stats.Speed = 5;
                    Stats.Flight = 7;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 105 :
                    Stats.Power = 8;
                    Stats.Endurance = 3;
                    Stats.Speed = 5;
                    Stats.Flight = 7;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 110 :
                    Stats.Power = 8;
                    Stats.Endurance = 3;
                    Stats.Speed = 5;
                    Stats.Flight = 7;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 115 :
                    Stats.Power = 8;
                    Stats.Endurance = 4;
                    Stats.Speed = 5;
                    Stats.Flight = 8;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 120 :
                    Stats.Power = 8;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 8;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 125 :
                    Stats.Power = 8;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 8;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 130 :
                    Stats.Power = 8;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 8;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 135 :
                    Stats.Power = 9;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 8;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 140 :
                    Stats.Power = 9;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 8;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 145 :
                    Stats.Power = 9;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 9;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 150 :
                    Stats.Power = 9;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 9;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 155 :
                    Stats.Power = 9;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 9;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 160 :
                    Stats.Power = 9;
                    Stats.Endurance = 4;
                    Stats.Speed = 7;
                    Stats.Flight = 7;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 165 :
                    Stats.Power = 10;
                    Stats.Endurance = 4;
                    Stats.Speed = 7;
                    Stats.Flight = 9;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 170 :
                    Stats.Power = 10;
                    Stats.Endurance = 4;
                    Stats.Speed = 7;
                    Stats.Flight = 9;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 175 :
                    Stats.Power = 10;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 10;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 180 :
                    Stats.Power = 10;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 10;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 185 :
                    Stats.Power = 10;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 10;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 190 :
                    Stats.Power = 10;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 10;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 195 :
                    Stats.Power = 10;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 10;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 200 :
                    Stats.Power = 10;
                    Stats.Endurance = 5;
                    Stats.Speed = 8;
                    Stats.Flight = 10;
                    defensive_measures.reflect = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.absorb = "active";
                    defensive_measures.barrier = "active";
                    break;
                };
                break;
            case "necroforce" :
                switch((Math.floor((parseInt(value.catalyst_necro)*value.powerstate)/5))*5){
                    case 0 :
                    Stats.Power = 0;
                    Stats.Endurance = 0;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    break;
                    case 5 :
                    Stats.Power = 0;
                    Stats.Endurance = 1;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    defensive_measures.phasestep = "active";
                    break;
                    case 10 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 0;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    break;
                    case 15 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 0;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    break;
                    case 20 :
                    Stats.Power = 1;
                    Stats.Endurance = 2;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 25 :
                    Stats.Power = 1;
                    Stats.Endurance = 2;
                    Stats.Speed = 1;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 30 :
                    Stats.Power = 2;
                    Stats.Endurance = 2;
                    Stats.Speed = 1;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 35 :
                    Stats.Power = 2;
                    Stats.Endurance = 3;
                    Stats.Speed = 1;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasejump = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 40 :
                    Stats.Power = 2;
                    Stats.Endurance = 3;
                    Stats.Speed = 1;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    break;
                    case 45 :
                    Stats.Power = 2;
                    Stats.Endurance = 3;
                    Stats.Speed = 2;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    break;
                    case 50 :
                    Stats.Power = 3;
                    Stats.Endurance = 4;
                    Stats.Speed = 2;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 55 :
                    Stats.Power = 3;
                    Stats.Endurance = 4;
                    Stats.Speed = 2;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 60 :
                    Stats.Power = 3;
                    Stats.Endurance = 4;
                    Stats.Speed = 2;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 65 :
                    Stats.Power = 3;
                    Stats.Endurance = 5;
                    Stats.Speed = 2;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 70 :
                    Stats.Power = 4;
                    Stats.Endurance = 5;
                    Stats.Speed = 3;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 75 :
                    Stats.Power = 4;
                    Stats.Endurance = 5;
                    Stats.Speed = 3;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 80 :
                    Stats.Power = 4;
                    Stats.Endurance = 6;
                    Stats.Speed = 3;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 85 :
                    Stats.Power = 4;
                    Stats.Endurance = 6;
                    Stats.Speed = 3;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 90 :
                    Stats.Power = 5;
                    Stats.Endurance = 6;
                    Stats.Speed = 3;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 95 :
                    Stats.Power = 5;
                    Stats.Endurance = 7;
                    Stats.Speed = 4;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 100 :
                    Stats.Power = 5;
                    Stats.Endurance = 7;
                    Stats.Speed = 4;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 105 :
                    Stats.Power = 5;
                    Stats.Endurance = 7;
                    Stats.Speed = 4;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 110 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 4;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 115 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 4;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 120 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 5;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 125 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 5;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 130 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 5;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 135 :
                    Stats.Power = 6;
                    Stats.Endurance = 8;
                    Stats.Speed = 5;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 140 :
                    Stats.Power = 6;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 145 :
                    Stats.Power = 6;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 150 :
                    Stats.Power = 7;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 155 :
                    Stats.Power = 7;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 160 :
                    Stats.Power = 7;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 165 :
                    Stats.Power = 7;
                    Stats.Endurance = 9;
                    Stats.Speed = 5;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 170 :
                    Stats.Power = 7;
                    Stats.Endurance = 10;
                    Stats.Speed = 6;
                    Stats.Flight = 9;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 175 :
                    Stats.Power = 7;
                    Stats.Endurance = 10;
                    Stats.Speed = 6;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 180 :
                    Stats.Power = 7;
                    Stats.Endurance = 10;
                    Stats.Speed = 6;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 185 :
                    Stats.Power = 7;
                    Stats.Endurance = 10;
                    Stats.Speed = 6;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 190 :
                    Stats.Power = 8;
                    Stats.Endurance = 10;
                    Stats.Speed = 6;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 195 :
                    Stats.Power = 8;
                    Stats.Endurance = 10;
                    Stats.Speed = 6;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 200 :
                    Stats.Power = 8;
                    Stats.Endurance = 10;
                    Stats.Speed = 7;
                    Stats.Flight = 10;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                };
                break;
            case "Demon" :
                switch((Math.floor((parseInt(value.catalyst_demon)*value.powerstate)/5))*5){
                    case 0 :
                    Stats.Power = 1;
                    Stats.Endurance = 0;
                    Stats.Speed = 0;
                    Stats.Flight = 0;
                    break;
                    case 5 :
                    Stats.Power = 1;
                    Stats.Endurance = 0;
                    Stats.Speed = 1;
                    Stats.Flight = 0;
                    defensive_measures.phasestep = "active";
                    break;
                    case 10 :
                    Stats.Power = 1;
                    Stats.Endurance = 1;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    break;
                    case 15 :
                    Stats.Power = 2;
                    Stats.Endurance = 1;
                    Stats.Speed = 1;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    break;
                    case 20 :
                    Stats.Power = 2;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 25 :
                    Stats.Power = 2;
                    Stats.Endurance = 1;
                    Stats.Speed = 2;
                    Stats.Flight = 1;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 30 :
                    Stats.Power = 3;
                    Stats.Endurance = 2;
                    Stats.Speed = 2;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 35 :
                    Stats.Power = 3;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    break;
                    case 40 :
                    Stats.Power = 3;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    break;
                    case 45 :
                    Stats.Power = 4;
                    Stats.Endurance = 2;
                    Stats.Speed = 3;
                    Stats.Flight = 2;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    break;
                    case 50 :
                    Stats.Power = 4;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 3;
                    defensive_measures.phasestep = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    break;
                    case 55 :
                    Stats.Power = 4;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 60 :
                    Stats.Power = 5;
                    Stats.Endurance = 3;
                    Stats.Speed = 4;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 65 :
                    Stats.Power = 5;
                    Stats.Endurance = 3;
                    Stats.Speed = 5;
                    Stats.Flight = 3;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 70 :
                    Stats.Power = 5;
                    Stats.Endurance = 4;
                    Stats.Speed = 5;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 75 :
                    Stats.Power = 6;
                    Stats.Endurance = 4;
                    Stats.Speed = 5;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 80 :
                    Stats.Power = 6;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 85 :
                    Stats.Power = 6;
                    Stats.Endurance = 4;
                    Stats.Speed = 6;
                    Stats.Flight = 4;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 90 :
                    Stats.Power = 7;
                    Stats.Endurance = 5;
                    Stats.Speed = 6;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 95 :
                    Stats.Power = 7;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 100 :
                    Stats.Power = 7;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 105 :
                    Stats.Power = 8;
                    Stats.Endurance = 5;
                    Stats.Speed = 7;
                    Stats.Flight = 5;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 110 :
                    Stats.Power = 8;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 115 :
                    Stats.Power = 8;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 120 :
                    Stats.Power = 8;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 125 :
                    Stats.Power = 8;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 130 :
                    Stats.Power = 8;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 135 :
                    Stats.Power = 9;
                    Stats.Endurance = 6;
                    Stats.Speed = 8;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 140 :
                    Stats.Power = 9;
                    Stats.Endurance = 6;
                    Stats.Speed = 9;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 145 :
                    Stats.Power = 9;
                    Stats.Endurance = 6;
                    Stats.Speed = 9;
                    Stats.Flight = 6;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 150 :
                    Stats.Power = 9;
                    Stats.Endurance = 7;
                    Stats.Speed = 9;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 155 :
                    Stats.Power = 9;
                    Stats.Endurance = 7;
                    Stats.Speed = 9;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 160 :
                    Stats.Power = 9;
                    Stats.Endurance = 7;
                    Stats.Speed = 9;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 165 :
                    Stats.Power = 10;
                    Stats.Endurance = 7;
                    Stats.Speed = 9;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 170 :
                    Stats.Power = 10;
                    Stats.Endurance = 7;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 175 :
                    Stats.Power = 10;
                    Stats.Endurance = 7;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 180 :
                    Stats.Power = 10;
                    Stats.Endurance = 7;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 185 :
                    Stats.Power = 10;
                    Stats.Endurance = 7;
                    Stats.Speed = 10;
                    Stats.Flight = 7;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 190 :
                    Stats.Power = 10;
                    Stats.Endurance = 8;
                    Stats.Speed = 10;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 195 :
                    Stats.Power = 10;
                    Stats.Endurance = 8;
                    Stats.Speed = 10;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                    case 200 :
                    Stats.Power = 10;
                    Stats.Endurance = 8;
                    Stats.Speed = 10;
                    Stats.Flight = 8;
                    defensive_measures.phasejump = "active";
                    defensive_measures.phasestep = "active";
                    defensive_measures.defend = "active";
                    defensive_measures.reflect = "active";
                    defensive_measures.barrier = "active";
                    defensive_measures.absorb = "active";
                    break;
                };
                break;
            default : 
                Stats.Power = 0;
                Stats.Endurance = 0;
                Stats.Speed = 0;
                Stats.Flight = 0;
        }
        //activate techniques
        //wrote Stat switch case first and don't feel like changing it, so defensive measures becomes the object sent to setAttrs
        
        let turnCount = parseInt(value.turnCount)
        if(turn)
        turnCount++;
        
        if(turnCount !== 0)
        {
            if(value.powerstate > 1)
            {
                defensive_measures.Power = Stats.Power > turnCount*2 ? turnCount*2 : Stats.Power;
                defensive_measures.Endurance = Stats.Endurance > turnCount*2 ? turnCount*2 : Stats.Endurance;
                defensive_measures.Speed = Stats.Speed > turnCount*2 ? turnCount*2 : Stats.Speed;
                defensive_measures.Flight = Stats.Flight > turnCount*2 ? turnCount*2 : Stats.Flight;
                
            }
            else {
                defensive_measures.Power = Stats.Power > turnCount ? turnCount : Stats.Power;
                defensive_measures.Endurance = Stats.Endurance > turnCount ? turnCount : Stats.Endurance;
                defensive_measures.Speed = Stats.Speed > turnCount ? turnCount : Stats.Speed;
                defensive_measures.Flight = Stats.Flight > turnCount ? turnCount : Stats.Flight;
            }
        }
        else {
            defensive_measures.Power = Stats.Power;
            defensive_measures.Endurance = Stats.Endurance;
            defensive_measures.Speed = Stats.Speed;
            defensive_measures.Flight = Stats.Flight;
        }
        if(value["ether"] === 'true')
        {
            defensive_measures.Power += 1;
            defensive_measures.Endurance += 1;
            defensive_measures.Speed += 1;
            defensive_measures.Flight += 1;
        }
        
        defensive_measures.Char_TTT = value["ether"] === 'true' ? parseInt(Stats.TTT) + 5 : Stats.TTT;
        setAttrs(defensive_measures);
        });
}

</script>